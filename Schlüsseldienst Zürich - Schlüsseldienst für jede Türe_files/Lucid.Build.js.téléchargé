/**
 * @generator: Lucid\Boot\Build\Scripts::__construct
 * @date: 2024-03-07T11:13:38+0000
 * @hash: 461c404a1160963e8697cf00113294c7c7353821
 */

window.undefined=window.undefined;Ext={version:"3.2.1",versionDetail:{major:3,minor:2,patch:1}};Ext.apply=function(d,e,b){if(b){Ext.apply(d,b)}if(d&&e&&typeof e=="object"){for(var a in e){d[a]=e[a]}}return d};(function(){var g=0,s=Object.prototype.toString,t=navigator.userAgent.toLowerCase(),y=function(e){return e.test(t)},i=document,l=i.compatMode=="CSS1Compat",A=y(/opera/),h=y(/\bchrome\b/),u=y(/webkit/),x=!h&&y(/safari/),f=x&&y(/applewebkit\/4/),b=x&&y(/version\/3/),B=x&&y(/version\/4/),r=!A&&y(/msie/),p=r&&y(/msie 7/),o=r&&y(/msie 8/),q=r&&!p&&!o,n=!u&&y(/gecko/),d=n&&y(/rv:1\.8/),a=n&&y(/rv:1\.9/),v=r&&!l,z=y(/windows|win32/),k=y(/macintosh|mac os x/),j=y(/adobeair/),m=y(/linux/),c=/^https/i.test(window.location.protocol);if(q){try{i.execCommand("BackgroundImageCache",false,true)}catch(w){}}Ext.apply(Ext,{SSL_SECURE_URL:c&&r?'javascript:""':"about:blank",isStrict:l,isSecure:c,isReady:false,enableGarbageCollector:true,enableListenerCollection:false,enableNestedListenerRemoval:false,USE_NATIVE_JSON:false,applyIf:function(C,D){if(C){for(var e in D){if(!Ext.isDefined(C[e])){C[e]=D[e]}}}return C},id:function(e,C){e=Ext.getDom(e,true)||{};if(!e.id){e.id=(C||"ext-gen")+(++g)}return e.id},extend:function(){var C=function(E){for(var D in E){this[D]=E[D]}};var e=Object.prototype.constructor;return function(J,G,I){if(typeof G=="object"){I=G;G=J;J=I.constructor!=e?I.constructor:function(){G.apply(this,arguments)}}var E=function(){},H,D=G.prototype;E.prototype=D;H=J.prototype=new E();H.constructor=J;J.superclass=D;if(D.constructor==e){D.constructor=G}J.override=function(F){Ext.override(J,F)};H.superclass=H.supr=(function(){return D});H.override=C;Ext.override(J,I);J.extend=function(F){return Ext.extend(J,F)};return J}}(),override:function(e,D){if(D){var C=e.prototype;Ext.apply(C,D);if(Ext.isIE&&D.hasOwnProperty("toString")){C.toString=D.toString}}},namespace:function(){var C,e;Ext.each(arguments,function(D){e=D.split(".");C=window[e[0]]=window[e[0]]||{};Ext.each(e.slice(1),function(E){C=C[E]=C[E]||{}})});return C},urlEncode:function(G,F){var D,C=[],E=encodeURIComponent;Ext.iterate(G,function(e,H){D=Ext.isEmpty(H);Ext.each(D?e:H,function(I){C.push("&",E(e),"=",(!Ext.isEmpty(I)&&(I!=e||!D))?(Ext.isDate(I)?Ext.encode(I).replace(/"/g,""):E(I)):"")})});if(!F){C.shift();F=""}return F+C.join("")},urlDecode:function(D,C){if(Ext.isEmpty(D)){return{}}var G={},F=D.split("&"),H=decodeURIComponent,e,E;Ext.each(F,function(I){I=I.split("=");e=H(I[0]);E=H(I[1]);G[e]=C||!G[e]?E:[].concat(G[e]).concat(E)});return G},urlAppend:function(e,C){if(!Ext.isEmpty(C)){return e+(e.indexOf("?")===-1?"?":"&")+C}return e},toArray:function(){return r?function(D,G,E,F){F=[];for(var C=0,e=D.length;C<e;C++){F.push(D[C])}return F.slice(G||0,E||F.length)}:function(e,D,C){return Array.prototype.slice.call(e,D||0,C||e.length)}}(),isIterable:function(e){if(Ext.isArray(e)||e.callee){return true}if(/NodeList|HTMLCollection/.test(s.call(e))){return true}return((typeof e.nextNode!="undefined"||e.item)&&Ext.isNumber(e.length))},each:function(F,E,D){if(Ext.isEmpty(F,true)){return}if(!Ext.isIterable(F)||Ext.isPrimitive(F)){F=[F]}for(var C=0,e=F.length;C<e;C++){if(E.call(D||F[C],F[C],C,F)===false){return C}}},iterate:function(D,C,e){if(Ext.isEmpty(D)){return}if(Ext.isIterable(D)){Ext.each(D,C,e);return}else{if(typeof D=="object"){for(var E in D){if(D.hasOwnProperty(E)){if(C.call(e||D,E,D[E],D)===false){return}}}}}},getDom:function(D,C){if(!D||!i){return null}if(D.dom){return D.dom}else{if(typeof D=="string"){var E=i.getElementById(D);if(E&&r&&C){if(D==E.getAttribute("id")){return E}else{return null}}return E}else{return D}}},getBody:function(){return Ext.get(i.body||i.documentElement)},removeNode:r&&!o?function(){var e;return function(C){if(C&&C.tagName!="BODY"){(Ext.enableNestedListenerRemoval)?Ext.EventManager.purgeElement(C,true):Ext.EventManager.removeAll(C);e=e||i.createElement("div");e.appendChild(C);e.innerHTML="";delete Ext.elCache[C.id]}}}():function(e){if(e&&e.parentNode&&e.tagName!="BODY"){(Ext.enableNestedListenerRemoval)?Ext.EventManager.purgeElement(e,true):Ext.EventManager.removeAll(e);e.parentNode.removeChild(e);delete Ext.elCache[e.id]}},isEmpty:function(C,e){return C===null||C===undefined||((Ext.isArray(C)&&!C.length))||(!e?C==="":false)},isArray:function(e){return s.apply(e)==="[object Array]"},isDate:function(e){return s.apply(e)==="[object Date]"},isObject:function(e){return !!e&&Object.prototype.toString.call(e)==="[object Object]"},isPrimitive:function(e){return Ext.isString(e)||Ext.isNumber(e)||Ext.isBoolean(e)},isFunction:function(e){return s.apply(e)==="[object Function]"},isNumber:function(e){return typeof e==="number"&&isFinite(e)},isString:function(e){return typeof e==="string"},isBoolean:function(e){return typeof e==="boolean"},isElement:function(e){return e?!!e.tagName:false},isDefined:function(e){return typeof e!=="undefined"},isOpera:A,isWebKit:u,isChrome:h,isSafari:x,isSafari3:b,isSafari4:B,isSafari2:f,isIE:r,isIE6:q,isIE7:p,isIE8:o,isGecko:n,isGecko2:d,isGecko3:a,isBorderBox:v,isLinux:m,isWindows:z,isMac:k,isAir:j});Ext.ns=Ext.namespace})();Ext.ns("Ext.util","Ext.lib","Ext.data");Ext.elCache={};Ext.apply(Function.prototype,{createInterceptor:function(b,a){var c=this;return !Ext.isFunction(b)?this:function(){var e=this,d=arguments;b.target=e;b.method=c;return(b.apply(a||e||window,d)!==false)?c.apply(e||window,d):null}},createCallback:function(){var a=arguments,b=this;return function(){return b.apply(window,a)}},createDelegate:function(c,b,a){var d=this;return function(){var f=b||arguments;if(a===true){f=Array.prototype.slice.call(arguments,0);f=f.concat(b)}else{if(Ext.isNumber(a)){f=Array.prototype.slice.call(arguments,0);var e=[a,0].concat(b);Array.prototype.splice.apply(f,e)}}return d.apply(c||window,f)}},defer:function(c,e,b,a){var d=this.createDelegate(e,b,a);if(c>0){return setTimeout(d,c)}d();return 0}});Ext.applyIf(String,{format:function(b){var a=Ext.toArray(arguments,1);return b.replace(/\{(\d+)\}/g,function(c,d){return a[d]})}});Ext.applyIf(Array.prototype,{indexOf:function(b,c){var a=this.length;c=c||0;c+=(c<0)?a:0;for(;c<a;++c){if(this[c]===b){return c}}return -1},remove:function(b){var a=this.indexOf(b);if(a!=-1){this.splice(a,1)}return this}});Ext.ns("Ext.grid","Ext.list","Ext.dd","Ext.tree","Ext.form","Ext.menu","Ext.state","Ext.layout","Ext.app","Ext.ux","Ext.chart","Ext.direct");Ext.apply(Ext,function(){var c=Ext,a=0,b=null;return{emptyFn:function(){},BLANK_IMAGE_URL:Ext.isIE6||Ext.isIE7||Ext.isAir?"http://www.extjs.com/s.gif":"data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",extendX:function(d,e){return Ext.extend(d,e(d.prototype))},getDoc:function(){return Ext.get(document)},num:function(e,d){e=Number(Ext.isEmpty(e)||Ext.isArray(e)||typeof e=="boolean"||(typeof e=="string"&&e.trim().length==0)?NaN:e);return isNaN(e)?d:e},value:function(f,d,e){return Ext.isEmpty(f,e)?d:f},escapeRe:function(d){return d.replace(/([-.*+?^${}()|[\]\/\\])/g,"\\$1")},sequence:function(g,d,f,e){g[d]=g[d].createSequence(f,e)},addBehaviors:function(h){if(!Ext.isReady){Ext.onReady(function(){Ext.addBehaviors(h)})}else{var e={},g,d,f;for(d in h){if((g=d.split("@"))[1]){f=g[0];if(!e[f]){e[f]=Ext.select(f)}e[f].on(g[1],h[d])}}e=null}},getScrollBarWidth:function(f){if(!Ext.isReady){return 0}if(f===true||b===null){var h=Ext.getBody().createChild('<div class="x-hide-offsets" style="width:100px;height:50px;overflow:hidden;"><div style="height:200px;"></div></div>'),g=h.child("div",true);var e=g.offsetWidth;h.setStyle("overflow",(Ext.isWebKit||Ext.isGecko)?"auto":"scroll");var d=g.offsetWidth;h.remove();b=e-d+2}return b},combine:function(){var f=arguments,e=f.length,h=[];for(var g=0;g<e;g++){var d=f[g];if(Ext.isArray(d)){h=h.concat(d)}else{if(d.length!==undefined&&!d.substr){h=h.concat(Array.prototype.slice.call(d,0))}else{h.push(d)}}}return h},copyTo:function(d,e,f){if(typeof f=="string"){f=f.split(/[,;\s]/)}Ext.each(f,function(g){if(e.hasOwnProperty(g)){d[g]=e[g]}},this);return d},destroy:function(){Ext.each(arguments,function(d){if(d){if(Ext.isArray(d)){this.destroy.apply(this,d)}else{if(typeof d.destroy=="function"){d.destroy()}else{if(d.dom){d.remove()}}}}},this)},destroyMembers:function(k,h,f,g){for(var j=1,e=arguments,d=e.length;j<d;j++){Ext.destroy(k[e[j]]);delete k[e[j]]}},clean:function(d){var e=[];Ext.each(d,function(f){if(!!f){e.push(f)}});return e},unique:function(d){var e=[],f={};Ext.each(d,function(g){if(!f[g]){e.push(g)}f[g]=true});return e},flatten:function(d){var f=[];function e(g){Ext.each(g,function(h){if(Ext.isArray(h)){e(h)}else{f.push(h)}});return f}return e(d)},min:function(d,e){var f=d[0];e=e||function(h,g){return h<g?-1:1};Ext.each(d,function(g){f=e(f,g)==-1?f:g});return f},max:function(d,e){var f=d[0];e=e||function(h,g){return h>g?1:-1};Ext.each(d,function(g){f=e(f,g)==1?f:g});return f},mean:function(d){return d.length>0?Ext.sum(d)/d.length:undefined},sum:function(d){var e=0;Ext.each(d,function(f){e+=f});return e},partition:function(d,e){var f=[[],[]];Ext.each(d,function(h,j,g){f[(e&&e(h,j,g))||(!e&&h)?0:1].push(h)});return f},invoke:function(d,e){var g=[],f=Array.prototype.slice.call(arguments,2);Ext.each(d,function(h,j){if(h&&typeof h[e]=="function"){g.push(h[e].apply(h,f))}else{g.push(undefined)}});return g},pluck:function(d,f){var e=[];Ext.each(d,function(g){e.push(g[f])});return e},zip:function(){var m=Ext.partition(arguments,function(i){return typeof i!="function"}),h=m[0],l=m[1][0],d=Ext.max(Ext.pluck(h,"length")),g=[];for(var k=0;k<d;k++){g[k]=[];if(l){g[k]=l.apply(l,Ext.pluck(h,k))}else{for(var f=0,e=h.length;f<e;f++){g[k].push(h[f][k])}}}return g},getCmp:function(d){return Ext.ComponentMgr.get(d)},useShims:c.isIE6||(c.isMac&&c.isGecko2),type:function(e){if(e===undefined||e===null){return false}if(e.htmlElement){return"element"}var d=typeof e;if(d=="object"&&e.nodeName){switch(e.nodeType){case 1:return"element";case 3:return(/\S/).test(e.nodeValue)?"textnode":"whitespace"}}if(d=="object"||d=="function"){switch(e.constructor){case Array:return"array";case RegExp:return"regexp";case Date:return"date"}if(typeof e.length=="number"&&typeof e.item=="function"){return"nodelist"}}return d},intercept:function(g,d,f,e){g[d]=g[d].createInterceptor(f,e)},callback:function(d,g,f,e){if(typeof d=="function"){if(e){d.defer(e,g,f||[])}else{d.apply(g,f||[])}}}}}());Ext.apply(Function.prototype,{createSequence:function(b,a){var c=this;return(typeof b!="function")?this:function(){var d=c.apply(this||window,arguments);b.apply(a||this||window,arguments);return d}}});Ext.applyIf(String,{escape:function(a){return a.replace(/('|\\)/g,"\\$1")},leftPad:function(d,b,c){var a=String(d);if(!c){c=" "}while(a.length<b){a=c+a}return a}});String.prototype.toggle=function(b,a){return this==b?a:b};String.prototype.trim=function(){var a=/^\s+|\s+$/g;return function(){return this.replace(a,"")}}();Date.prototype.getElapsed=function(a){return Math.abs((a||new Date()).getTime()-this.getTime())};Ext.applyIf(Number.prototype,{constrain:function(b,a){return Math.min(Math.max(this,b),a)}});Ext.util.TaskRunner=function(e){e=e||10;var f=[],a=[],b=0,g=false,d=function(){g=false;clearInterval(b);b=0},h=function(){if(!g){g=true;b=setInterval(i,e)}},c=function(j){a.push(j);if(j.onStop){j.onStop.apply(j.scope||j)}},i=function(){var l=a.length,n=new Date().getTime();if(l>0){for(var p=0;p<l;p++){f.remove(a[p])}a=[];if(f.length<1){d();return}}for(var p=0,o,k,m,j=f.length;p<j;++p){o=f[p];k=n-o.taskRunTime;if(o.interval<=k){m=o.run.apply(o.scope||o,o.args||[++o.taskRunCount]);o.taskRunTime=n;if(m===false||o.taskRunCount===o.repeat){c(o);return}}if(o.duration&&o.duration<=(n-o.taskStartTime)){c(o)}}};this.start=function(j){f.push(j);j.taskStartTime=new Date().getTime();j.taskRunTime=0;j.taskRunCount=0;h();return j};this.stop=function(j){c(j);return j};this.stopAll=function(){d();for(var k=0,j=f.length;k<j;k++){if(f[k].onStop){f[k].onStop()}}f=[];a=[]}};Ext.TaskMgr=new Ext.util.TaskRunner();(function(){var b;function c(d){if(!b){b=new Ext.Element.Flyweight()}b.dom=d;return b}(function(){var g=document,e=g.compatMode=="CSS1Compat",f=Math.max,d=Math.round,h=parseInt;Ext.lib.Dom={isAncestor:function(j,k){var i=false;j=Ext.getDom(j);k=Ext.getDom(k);if(j&&k){if(j.contains){return j.contains(k)}else{if(j.compareDocumentPosition){return !!(j.compareDocumentPosition(k)&16)}else{while(k=k.parentNode){i=k==j||i}}}}return i},getViewWidth:function(i){return i?this.getDocumentWidth():this.getViewportWidth()},getViewHeight:function(i){return i?this.getDocumentHeight():this.getViewportHeight()},getDocumentHeight:function(){return f(!e?g.body.scrollHeight:g.documentElement.scrollHeight,this.getViewportHeight())},getDocumentWidth:function(){return f(!e?g.body.scrollWidth:g.documentElement.scrollWidth,this.getViewportWidth())},getViewportHeight:function(){return Ext.isIE?(Ext.isStrict?g.documentElement.clientHeight:g.body.clientHeight):self.innerHeight},getViewportWidth:function(){return !Ext.isStrict&&!Ext.isOpera?g.body.clientWidth:Ext.isIE?g.documentElement.clientWidth:self.innerWidth},getY:function(i){return this.getXY(i)[1]},getX:function(i){return this.getXY(i)[0]},getXY:function(k){var j,q,s,v,l,m,u=0,r=0,t,i,n=(g.body||g.documentElement),o=[0,0];k=Ext.getDom(k);if(k!=n){if(k.getBoundingClientRect){s=k.getBoundingClientRect();t=c(document).getScroll();o=[d(s.left+t.left),d(s.top+t.top)]}else{j=k;i=c(k).isStyle("position","absolute");while(j){q=c(j);u+=j.offsetLeft;r+=j.offsetTop;i=i||q.isStyle("position","absolute");if(Ext.isGecko){r+=v=h(q.getStyle("borderTopWidth"),10)||0;u+=l=h(q.getStyle("borderLeftWidth"),10)||0;if(j!=k&&!q.isStyle("overflow","visible")){u+=l;r+=v}}j=j.offsetParent}if(Ext.isSafari&&i){u-=n.offsetLeft;r-=n.offsetTop}if(Ext.isGecko&&!i){m=c(n);u+=h(m.getStyle("borderLeftWidth"),10)||0;r+=h(m.getStyle("borderTopWidth"),10)||0}j=k.parentNode;while(j&&j!=n){if(!Ext.isOpera||(j.tagName!="TR"&&!c(j).isStyle("display","inline"))){u-=j.scrollLeft;r-=j.scrollTop}j=j.parentNode}o=[u,r]}}return o},setXY:function(j,k){(j=Ext.fly(j,"_setXY")).position();var l=j.translatePoints(k),i=j.dom.style,m;for(m in l){if(!isNaN(l[m])){i[m]=l[m]+"px"}}},setX:function(j,i){this.setXY(j,[i,false])},setY:function(i,j){this.setXY(i,[false,j])}}})();Ext.lib.Dom.getRegion=function(d){return Ext.lib.Region.getRegion(d)};Ext.lib.Event=function(){var w=false,g={},A=0,p=[],d,C=false,k=window,G=document,l=200,s=20,B=0,r=0,i=1,m=2,t=2,x=3,u="scrollLeft",q="scrollTop",f="unload",z="mouseover",F="mouseout",e=function(){var H;if(k.addEventListener){H=function(L,J,K,I){if(J=="mouseenter"){K=K.createInterceptor(o);L.addEventListener(z,K,(I))}else{if(J=="mouseleave"){K=K.createInterceptor(o);L.addEventListener(F,K,(I))}else{L.addEventListener(J,K,(I))}}return K}}else{if(k.attachEvent){H=function(L,J,K,I){L.attachEvent("on"+J,K);return K}}else{H=function(){}}}return H}(),h=function(){var H;if(k.removeEventListener){H=function(L,J,K,I){if(J=="mouseenter"){J=z}else{if(J=="mouseleave"){J=F}}L.removeEventListener(J,K,(I))}}else{if(k.detachEvent){H=function(K,I,J){K.detachEvent("on"+I,J)}}else{H=function(){}}}return H}();function o(H){return !v(H.currentTarget,y.getRelatedTarget(H))}function v(H,I){if(H&&H.firstChild){while(I){if(I===H){return true}I=I.parentNode;if(I&&(I.nodeType!=1)){I=null}}}return false}function D(){var I=false,N=[],L,K,H,J,M=!w||(A>0);if(!C){C=true;for(K=0;K<p.length;++K){H=p[K];if(H&&(L=G.getElementById(H.id))){if(!H.checkReady||w||L.nextSibling||(G&&G.body)){J=H.override;L=J?(J===true?H.obj:J):L;H.fn.call(L,H.obj);p.remove(H);--K}else{N.push(H)}}}A=(N.length===0)?0:A-1;if(M){n()}else{clearInterval(d);d=null}I=!(C=false)}return I}function n(){if(!d){var H=function(){D()};d=setInterval(H,s)}}function E(){var H=G.documentElement,I=G.body;if(H&&(H[q]||H[u])){return[H[u],H[q]]}else{if(I){return[I[u],I[q]]}else{return[0,0]}}}function j(H,I){H=H.browserEvent||H;var J=H["page"+I];if(!J&&J!==0){J=H["client"+I]||0;if(Ext.isIE){J+=E()[I=="X"?0:1]}}return J}var y={extAdapter:true,onAvailable:function(J,H,K,I){p.push({id:J,fn:H,obj:K,override:I,checkReady:false});A=l;n()},addListener:function(J,H,I){J=Ext.getDom(J);if(J&&I){if(H==f){if(g[J.id]===undefined){g[J.id]=[]}g[J.id].push([H,I]);return I}return e(J,H,I,false)}return false},removeListener:function(N,J,M){N=Ext.getDom(N);var L,I,H,K;if(N&&M){if(J==f){if((K=g[N.id])!==undefined){for(L=0,I=K.length;L<I;L++){if((H=K[L])&&H[r]==J&&H[i]==M){g[N.id].splice(L,1)}}}return}h(N,J,M,false)}},getTarget:function(H){H=H.browserEvent||H;return this.resolveTextNode(H.target||H.srcElement)},resolveTextNode:Ext.isGecko?function(I){if(!I){return}var H=HTMLElement.prototype.toString.call(I);if(H=="[xpconnect wrapped native prototype]"||H=="[object XULElement]"){return}return I.nodeType==3?I.parentNode:I}:function(H){return H&&H.nodeType==3?H.parentNode:H},getRelatedTarget:function(H){H=H.browserEvent||H;return this.resolveTextNode(H.relatedTarget||(H.type==F?H.toElement:H.type==z?H.fromElement:null))},getPageX:function(H){return j(H,"X")},getPageY:function(H){return j(H,"Y")},getXY:function(H){return[this.getPageX(H),this.getPageY(H)]},stopEvent:function(H){this.stopPropagation(H);this.preventDefault(H)},stopPropagation:function(H){H=H.browserEvent||H;if(H.stopPropagation){H.stopPropagation()}else{H.cancelBubble=true}},preventDefault:function(H){H=H.browserEvent||H;if(H.preventDefault){H.preventDefault()}else{H.returnValue=false}},getEvent:function(H){H=H||k.event;if(!H){var I=this.getEvent.caller;while(I){H=I.arguments[0];if(H&&Event==H.constructor){break}I=I.caller}}return H},getCharCode:function(H){H=H.browserEvent||H;return H.charCode||H.keyCode||0},getListeners:function(I,H){Ext.EventManager.getListeners(I,H)},purgeElement:function(I,J,H){Ext.EventManager.purgeElement(I,J,H)},_load:function(I){w=true;var H=Ext.lib.Event;if(Ext.isIE&&I!==true){h(k,"load",arguments.callee)}},_unload:function(O){var I=Ext.lib.Event,L,K,J,R,P,H,N,M,S;for(H in g){P=g[H];for(L=0,N=P.length;L<N;L++){R=P[L];if(R){try{S=R[x]?(R[x]===true?R[t]:R[x]):k;R[i].call(S,I.getEvent(O),R[t])}catch(Q){}}}}Ext.EventManager._unload();h(k,f,I._unload)}};y.on=y.addListener;y.un=y.removeListener;if(G&&G.body){y._load(true)}else{e(k,"load",y._load)}e(k,f,y._unload);D();return y}();Ext.lib.Ajax=function(){var g=["MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],d="Content-Type";function h(s){var r=s.conn,t;function q(u,v){for(t in v){if(v.hasOwnProperty(t)){u.setRequestHeader(t,v[t])}}}if(k.defaultHeaders){q(r,k.defaultHeaders)}if(k.headers){q(r,k.headers);delete k.headers}}function e(t,s,r,q){return{tId:t,status:r?-1:0,statusText:r?"transaction aborted":"communication failure",isAbort:r,isTimeout:q,argument:s}}function j(q,r){(k.headers=k.headers||{})[q]=r}function o(q,w){var A={},v,u=q.conn,y,z,r=u.status==1223;try{v=q.conn.getAllResponseHeaders();Ext.each(v.replace(/\r\n/g,"\n").split("\n"),function(s){y=s.indexOf(":");if(y>=0){z=s.substr(0,y).toLowerCase();if(s.charAt(y+1)==" "){++y}A[z]=s.substr(y+1)}})}catch(x){}return{tId:q.tId,status:r?204:u.status,statusText:r?"No Content":u.statusText,getResponseHeader:function(s){return A[s.toLowerCase()]},getAllResponseHeaders:function(){return v},responseText:u.responseText,responseXML:u.responseXML,argument:w}}function n(q){if(q.tId){k.conn[q.tId]=null}q.conn=null;q=null}function f(v,w,r,q){if(!w){n(v);return}var t,s;try{if(v.conn.status!==undefined&&v.conn.status!=0){t=v.conn.status}else{t=13030}}catch(u){t=13030}if((t>=200&&t<300)||(Ext.isIE&&t==1223)){s=o(v,w.argument);if(w.success){if(!w.scope){w.success(s)}else{w.success.apply(w.scope,[s])}}}else{switch(t){case 12002:case 12029:case 12030:case 12031:case 12152:case 13030:s=e(v.tId,w.argument,(r?r:false),q);if(w.failure){if(!w.scope){w.failure(s)}else{w.failure.apply(w.scope,[s])}}break;default:s=o(v,w.argument);if(w.failure){if(!w.scope){w.failure(s)}else{w.failure.apply(w.scope,[s])}}}}n(v);s=null}function m(s,v){v=v||{};var q=s.conn,u=s.tId,r=k.poll,t=v.timeout||null;if(t){k.conn[u]=q;k.timeout[u]=setTimeout(function(){k.abort(s,v,true)},t)}r[u]=setInterval(function(){if(q&&q.readyState==4){clearInterval(r[u]);r[u]=null;if(t){clearTimeout(k.timeout[u]);k.timeout[u]=null}f(s,v)}},k.pollInterval)}function i(u,r,t,q){var s=l()||null;if(s){s.conn.open(u,r,true);if(k.useDefaultXhrHeader){j("X-Requested-With",k.defaultXhrHeader)}if(q&&k.useDefaultHeader&&(!k.headers||!k.headers[d])){j(d,k.defaultPostHeader)}if(k.defaultHeaders||k.headers){h(s)}m(s,t);s.conn.send(q||null)}return s}function l(){var r;try{if(r=p(k.transactionId)){k.transactionId++}}catch(q){}finally{return r}}function p(t){var q;try{q=new XMLHttpRequest()}catch(s){for(var r=0;r<g.length;++r){try{q=new ActiveXObject(g[r]);break}catch(s){}}}finally{return{conn:q,tId:t}}}var k={request:function(q,s,t,u,y){if(y){var v=this,r=y.xmlData,w=y.jsonData,x;Ext.applyIf(v,y);if(r||w){x=v.headers;if(!x||!x[d]){j(d,r?"text/xml":"application/json")}u=r||(!Ext.isPrimitive(w)?Ext.encode(w):w)}}return i(q||y.method||"POST",s,t,u)},serializeForm:function(r){var s=r.elements||(document.forms[r]||Ext.getDom(r)).elements,y=false,x=encodeURIComponent,v,z,q,t,u="",w;Ext.each(s,function(A){q=A.name;w=A.type;if(!A.disabled&&q){if(/select-(one|multiple)/i.test(w)){Ext.each(A.options,function(B){if(B.selected){u+=String.format("{0}={1}&",x(q),x((B.hasAttribute?B.hasAttribute("value"):B.getAttribute("value")!==null)?B.value:B.text))}})}else{if(!/file|undefined|reset|button/i.test(w)){if(!(/radio|checkbox/i.test(w)&&!A.checked)&&!(w=="submit"&&y)){u+=x(q)+"="+x(A.value)+"&";y=/submit/i.test(w)}}}}});return u.substr(0,u.length-1)},useDefaultHeader:true,defaultPostHeader:"application/x-www-form-urlencoded; charset=UTF-8",useDefaultXhrHeader:true,defaultXhrHeader:"XMLHttpRequest",poll:{},timeout:{},conn:{},pollInterval:50,transactionId:0,abort:function(t,v,q){var s=this,u=t.tId,r=false;if(s.isCallInProgress(t)){t.conn.abort();clearInterval(s.poll[u]);s.poll[u]=null;clearTimeout(k.timeout[u]);s.timeout[u]=null;f(t,v,(r=true),q)}return r},isCallInProgress:function(q){return q.conn&&!{0:true,4:true}[q.conn.readyState]}};return k}();Ext.lib.Region=function(f,h,d,e){var g=this;g.top=f;g[1]=f;g.right=h;g.bottom=d;g.left=e;g[0]=e};Ext.lib.Region.prototype={contains:function(e){var d=this;return(e.left>=d.left&&e.right<=d.right&&e.top>=d.top&&e.bottom<=d.bottom)},getArea:function(){var d=this;return((d.bottom-d.top)*(d.right-d.left))},intersect:function(i){var h=this,f=Math.max(h.top,i.top),g=Math.min(h.right,i.right),d=Math.min(h.bottom,i.bottom),e=Math.max(h.left,i.left);if(d>=f&&g>=e){return new Ext.lib.Region(f,g,d,e)}},union:function(i){var h=this,f=Math.min(h.top,i.top),g=Math.max(h.right,i.right),d=Math.max(h.bottom,i.bottom),e=Math.min(h.left,i.left);return new Ext.lib.Region(f,g,d,e)},constrainTo:function(e){var d=this;d.top=d.top.constrain(e.top,e.bottom);d.bottom=d.bottom.constrain(e.top,e.bottom);d.left=d.left.constrain(e.left,e.right);d.right=d.right.constrain(e.left,e.right);return d},adjust:function(f,e,d,h){var g=this;g.top+=f;g.left+=e;g.right+=h;g.bottom+=d;return g}};Ext.lib.Region.getRegion=function(g){var i=Ext.lib.Dom.getXY(g),f=i[1],h=i[0]+g.offsetWidth,d=i[1]+g.offsetHeight,e=i[0];return new Ext.lib.Region(f,h,d,e)};Ext.lib.Point=function(d,f){if(Ext.isArray(d)){f=d[1];d=d[0]}var e=this;e.x=e.right=e.left=e[0]=d;e.y=e.top=e.bottom=e[1]=f};Ext.lib.Point.prototype=new Ext.lib.Region();(function(){var g=Ext.lib,i=/width|height|opacity|padding/i,f=/^((width|height)|(top|left))$/,d=/width|height|top$|bottom$|left$|right$/i,h=/\d+(em|%|en|ex|pt|in|cm|mm|pc)$/i,j=function(k){return typeof k!=="undefined"},e=function(){return new Date()};g.Anim={motion:function(n,l,o,p,k,m){return this.run(n,l,o,p,k,m,Ext.lib.Motion)},run:function(o,l,q,r,k,n,m){m=m||Ext.lib.AnimBase;if(typeof r=="string"){r=Ext.lib.Easing[r]}var p=new m(o,l,q,r);p.animateX(function(){if(Ext.isFunction(k)){k.call(n)}});return p}};g.AnimBase=function(l,k,m,n){if(l){this.init(l,k,m,n)}};g.AnimBase.prototype={doMethod:function(k,n,l){var m=this;return m.method(m.curFrame,n,l-n,m.totalFrames)},setAttr:function(k,m,l){if(i.test(k)&&m<0){m=0}Ext.fly(this.el,"_anim").setStyle(k,m+l)},getAttr:function(k){var m=Ext.fly(this.el),n=m.getStyle(k),l=f.exec(k)||[];if(n!=="auto"&&!h.test(n)){return parseFloat(n)}return(!!(l[2])||(m.getStyle("position")=="absolute"&&!!(l[3])))?m.dom["offset"+l[0].charAt(0).toUpperCase()+l[0].substr(1)]:0},getDefaultUnit:function(k){return d.test(k)?"px":""},animateX:function(n,k){var l=this,m=function(){l.onComplete.removeListener(m);if(Ext.isFunction(n)){n.call(k||l,l)}};l.onComplete.addListener(m,l);l.animate()},setRunAttr:function(p){var r=this,s=this.attributes[p],t=s.to,q=s.by,u=s.from,v=s.unit,l=(this.runAttrs[p]={}),m;if(!j(t)&&!j(q)){return false}var k=j(u)?u:r.getAttr(p);if(j(t)){m=t}else{if(j(q)){if(Ext.isArray(k)){m=[];for(var n=0,o=k.length;n<o;n++){m[n]=k[n]+q[n]}}else{m=k+q}}}Ext.apply(l,{start:k,end:m,unit:j(v)?v:r.getDefaultUnit(p)})},init:function(l,p,o,k){var r=this,n=0,s=g.AnimMgr;Ext.apply(r,{isAnimated:false,startTime:null,el:Ext.getDom(l),attributes:p||{},duration:o||1,method:k||g.Easing.easeNone,useSec:true,curFrame:0,totalFrames:s.fps,runAttrs:{},animate:function(){var u=this,v=u.duration;if(u.isAnimated){return false}u.curFrame=0;u.totalFrames=u.useSec?Math.ceil(s.fps*v):v;s.registerElement(u)},stop:function(u){var v=this;if(u){v.curFrame=v.totalFrames;v._onTween.fire()}s.stop(v)}});var t=function(){var v=this,u;v.onStart.fire();v.runAttrs={};for(u in this.attributes){this.setRunAttr(u)}v.isAnimated=true;v.startTime=e();n=0};var q=function(){var v=this;v.onTween.fire({duration:e()-v.startTime,curFrame:v.curFrame});var w=v.runAttrs;for(var u in w){this.setAttr(u,v.doMethod(u,w[u].start,w[u].end),w[u].unit)}++n};var m=function(){var u=this,w=(e()-u.startTime)/1000,v={duration:w,frames:n,fps:n/w};u.isAnimated=false;n=0;u.onComplete.fire(v)};r.onStart=new Ext.util.Event(r);r.onTween=new Ext.util.Event(r);r.onComplete=new Ext.util.Event(r);(r._onStart=new Ext.util.Event(r)).addListener(t);(r._onTween=new Ext.util.Event(r)).addListener(q);(r._onComplete=new Ext.util.Event(r)).addListener(m)}};Ext.lib.AnimMgr=new function(){var o=this,m=null,l=[],k=0;Ext.apply(o,{fps:1000,delay:1,registerElement:function(q){l.push(q);++k;q._onStart.fire();o.start()},unRegister:function(r,q){r._onComplete.fire();q=q||p(r);if(q!=-1){l.splice(q,1)}if(--k<=0){o.stop()}},start:function(){if(m===null){m=setInterval(o.run,o.delay)}},stop:function(s){if(!s){clearInterval(m);for(var r=0,q=l.length;r<q;++r){if(l[0].isAnimated){o.unRegister(l[0],0)}}l=[];m=null;k=0}else{o.unRegister(s)}},run:function(){var t,s,q,r;for(s=0,q=l.length;s<q;s++){r=l[s];if(r&&r.isAnimated){t=r.totalFrames;if(r.curFrame<t||t===null){++r.curFrame;if(r.useSec){n(r)}r._onTween.fire()}else{o.stop(r)}}}}});var p=function(s){var r,q;for(r=0,q=l.length;r<q;r++){if(l[r]===s){return r}}return -1};var n=function(r){var v=r.totalFrames,u=r.curFrame,t=r.duration,s=(u*t*1000/v),q=(e()-r.startTime),w=0;if(q<t*1000){w=Math.round((q/s-1)*u)}else{w=v-(u+1)}if(w>0&&isFinite(w)){if(r.curFrame+w>=v){w=v-(u+1)}r.curFrame+=w}}};g.Bezier=new function(){this.getPosition=function(p,o){var r=p.length,m=[],q=1-o,l,k;for(l=0;l<r;++l){m[l]=[p[l][0],p[l][1]]}for(k=1;k<r;++k){for(l=0;l<r-k;++l){m[l][0]=q*m[l][0]+o*m[parseInt(l+1,10)][0];m[l][1]=q*m[l][1]+o*m[parseInt(l+1,10)][1]}}return[m[0][0],m[0][1]]}};g.Easing={easeNone:function(l,k,n,m){return n*l/m+k},easeIn:function(l,k,n,m){return n*(l/=m)*l+k},easeOut:function(l,k,n,m){return -n*(l/=m)*(l-2)+k}};(function(){g.Motion=function(p,o,q,r){if(p){g.Motion.superclass.constructor.call(this,p,o,q,r)}};Ext.extend(g.Motion,Ext.lib.AnimBase);var n=g.Motion.superclass,m=g.Motion.prototype,l=/^points$/i;Ext.apply(g.Motion.prototype,{setAttr:function(o,s,r){var q=this,p=n.setAttr;if(l.test(o)){r=r||"px";p.call(q,"left",s[0],r);p.call(q,"top",s[1],r)}else{p.call(q,o,s,r)}},getAttr:function(o){var q=this,p=n.getAttr;return l.test(o)?[p.call(q,"left"),p.call(q,"top")]:p.call(q,o)},doMethod:function(o,r,p){var q=this;return l.test(o)?g.Bezier.getPosition(q.runAttrs[o],q.method(q.curFrame,0,100,q.totalFrames)/100):n.doMethod.call(q,o,r,p)},setRunAttr:function(v){if(l.test(v)){var x=this,q=this.el,A=this.attributes.points,t=A.control||[],y=A.from,z=A.to,w=A.by,B=g.Dom,p,s,r,u,o;if(t.length>0&&!Ext.isArray(t[0])){t=[t]}else{}Ext.fly(q,"_anim").position();B.setXY(q,j(y)?y:B.getXY(q));p=x.getAttr("points");if(j(z)){r=k.call(x,z,p);for(s=0,u=t.length;s<u;++s){t[s]=k.call(x,t[s],p)}}else{if(j(w)){r=[p[0]+w[0],p[1]+w[1]];for(s=0,u=t.length;s<u;++s){t[s]=[p[0]+t[s][0],p[1]+t[s][1]]}}}o=this.runAttrs[v]=[p];if(t.length>0){o=o.concat(t)}o[o.length]=r}else{n.setRunAttr.call(this,v)}}});var k=function(o,q){var p=g.Dom.getXY(this.el);return[o[0]-p[0]+q[0],o[1]-p[1]+q[1]]}})()})();(function(){var d=Math.abs,i=Math.PI,h=Math.asin,g=Math.pow,e=Math.sin,f=Ext.lib;Ext.apply(f.Easing,{easeBoth:function(k,j,m,l){return((k/=l/2)<1)?m/2*k*k+j:-m/2*((--k)*(k-2)-1)+j},easeInStrong:function(k,j,m,l){return m*(k/=l)*k*k*k+j},easeOutStrong:function(k,j,m,l){return -m*((k=k/l-1)*k*k*k-1)+j},easeBothStrong:function(k,j,m,l){return((k/=l/2)<1)?m/2*k*k*k*k+j:-m/2*((k-=2)*k*k*k-2)+j},elasticIn:function(l,j,q,o,k,n){if(l==0||(l/=o)==1){return l==0?j:j+q}n=n||(o*0.3);var m;if(k>=d(q)){m=n/(2*i)*h(q/k)}else{k=q;m=n/4}return -(k*g(2,10*(l-=1))*e((l*o-m)*(2*i)/n))+j},elasticOut:function(l,j,q,o,k,n){if(l==0||(l/=o)==1){return l==0?j:j+q}n=n||(o*0.3);var m;if(k>=d(q)){m=n/(2*i)*h(q/k)}else{k=q;m=n/4}return k*g(2,-10*l)*e((l*o-m)*(2*i)/n)+q+j},elasticBoth:function(l,j,q,o,k,n){if(l==0||(l/=o/2)==2){return l==0?j:j+q}n=n||(o*(0.3*1.5));var m;if(k>=d(q)){m=n/(2*i)*h(q/k)}else{k=q;m=n/4}return l<1?-0.5*(k*g(2,10*(l-=1))*e((l*o-m)*(2*i)/n))+j:k*g(2,-10*(l-=1))*e((l*o-m)*(2*i)/n)*0.5+q+j},backIn:function(k,j,n,m,l){l=l||1.70158;return n*(k/=m)*k*((l+1)*k-l)+j},backOut:function(k,j,n,m,l){if(!l){l=1.70158}return n*((k=k/m-1)*k*((l+1)*k+l)+1)+j},backBoth:function(k,j,n,m,l){l=l||1.70158;return((k/=m/2)<1)?n/2*(k*k*(((l*=(1.525))+1)*k-l))+j:n/2*((k-=2)*k*(((l*=(1.525))+1)*k+l)+2)+j},bounceIn:function(k,j,m,l){return m-f.Easing.bounceOut(l-k,0,m,l)+j},bounceOut:function(k,j,m,l){if((k/=l)<(1/2.75)){return m*(7.5625*k*k)+j}else{if(k<(2/2.75)){return m*(7.5625*(k-=(1.5/2.75))*k+0.75)+j}else{if(k<(2.5/2.75)){return m*(7.5625*(k-=(2.25/2.75))*k+0.9375)+j}}}return m*(7.5625*(k-=(2.625/2.75))*k+0.984375)+j},bounceBoth:function(k,j,m,l){return(k<l/2)?f.Easing.bounceIn(k*2,0,m,l)*0.5+j:f.Easing.bounceOut(k*2-l,0,m,l)*0.5+m*0.5+j}})})();(function(){var h=Ext.lib;h.Anim.color=function(p,n,q,r,m,o){return h.Anim.run(p,n,q,r,m,o,h.ColorAnim)};h.ColorAnim=function(n,m,o,p){h.ColorAnim.superclass.constructor.call(this,n,m,o,p)};Ext.extend(h.ColorAnim,h.AnimBase);var j=h.ColorAnim.superclass,i=/color$/i,f=/^transparent|rgba\(0, 0, 0, 0\)$/,l=/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,d=/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i,e=/^#?([0-9A-F]{1})([0-9A-F]{1})([0-9A-F]{1})$/i,g=function(m){return typeof m!=="undefined"};function k(n){var p=parseInt,o,m=null,q;if(n.length==3){return n}Ext.each([d,l,e],function(s,r){o=(r%2==0)?16:10;q=s.exec(n);if(q&&q.length==4){m=[p(q[1],o),p(q[2],o),p(q[3],o)];return false}});return m}Ext.apply(h.ColorAnim.prototype,{getAttr:function(m){var o=this,n=o.el,p;if(i.test(m)){while(n&&f.test(p=Ext.fly(n).getStyle(m))){n=n.parentNode;p="fff"}}else{p=j.getAttr.call(o,m)}return p},doMethod:function(s,m,o){var t=this,n,q=Math.floor,p,r,u;if(i.test(s)){n=[];o=o||[];for(p=0,r=m.length;p<r;p++){u=m[p];n[p]=j.doMethod.call(t,s,u,o[p])}n="rgb("+q(n[0])+","+q(n[1])+","+q(n[2])+")"}else{n=j.doMethod.call(t,s,m,o)}return n},setRunAttr:function(r){var t=this,u=t.attributes[r],v=u.to,s=u.by,n;j.setRunAttr.call(t,r);n=t.runAttrs[r];if(i.test(r)){var m=k(n.start),o=k(n.end);if(!g(v)&&g(s)){o=k(s);for(var p=0,q=m.length;p<q;p++){o[p]=m[p]+o[p]}}n.start=m;n.end=o}}})})();(function(){var d=Ext.lib;d.Anim.scroll=function(j,h,k,l,g,i){return d.Anim.run(j,h,k,l,g,i,d.Scroll)};d.Scroll=function(h,g,i,j){if(h){d.Scroll.superclass.constructor.call(this,h,g,i,j)}};Ext.extend(d.Scroll,d.ColorAnim);var f=d.Scroll.superclass,e="scroll";Ext.apply(d.Scroll.prototype,{doMethod:function(g,m,h){var k,j=this,l=j.curFrame,i=j.totalFrames;if(g==e){k=[j.method(l,m[0],h[0]-m[0],i),j.method(l,m[1],h[1]-m[1],i)]}else{k=f.doMethod.call(j,g,m,h)}return k},getAttr:function(g){var h=this;if(g==e){return[h.el.scrollLeft,h.el.scrollTop]}else{return f.getAttr.call(h,g)}},setAttr:function(g,j,i){var h=this;if(g==e){h.el.scrollLeft=j[0];h.el.scrollTop=j[1]}else{f.setAttr.call(h,g,j,i)}}})})();if(Ext.isIE){function a(){var d=Function.prototype;delete d.createSequence;delete d.defer;delete d.createDelegate;delete d.createCallback;delete d.createInterceptor;window.detachEvent("onunload",a)}window.attachEvent("onunload",a)}})();
Ext.DomHelper=function(){var w=null,k=/^(?:br|frame|hr|img|input|link|meta|range|spacer|wbr|area|param|col)$/i,m=/^table|tbody|tr|td$/i,d=/tag|children|cn|html$/i,s=/td|tr|tbody/i,o=/([a-z0-9-]+)\s*:\s*([^;\s]+(?:\s*[^;\s]+)*);?/gi,u=/end/i,r,n="afterbegin",p="afterend",c="beforebegin",q="beforeend",a="<table>",i="</table>",b=a+"<tbody>",j="</tbody>"+i,l=b+"<tr>",v="</tr>"+j;function h(A,C,B,D,z,x){var y=r.insertHtml(D,Ext.getDom(A),t(C));return B?Ext.get(y,true):y}function t(D){var z="",y,C,B,x,E;if(typeof D=="string"){z=D}else{if(Ext.isArray(D)){for(var A=0;A<D.length;A++){if(D[A]){z+=t(D[A])}}}else{z+="<"+(D.tag=D.tag||"div");for(y in D){C=D[y];if(!d.test(y)){if(typeof C=="object"){z+=" "+y+'="';for(B in C){z+=B+":"+C[B]+";"}z+='"'}else{z+=" "+({cls:"class",htmlFor:"for"}[y]||y)+'="'+C+'"'}}}if(k.test(D.tag)){z+="/>"}else{z+=">";if((E=D.children||D.cn)){z+=t(E)}else{if(D.html){z+=D.html}}z+="</"+D.tag+">"}}}return z}function g(E,B,A,C){w.innerHTML=[B,A,C].join("");var x=-1,z=w,y;while(++x<E){z=z.firstChild}if(y=z.nextSibling){var D=document.createDocumentFragment();while(z){y=z.nextSibling;D.appendChild(z);z=y}z=D}return z}function e(x,y,A,z){var B,C;w=w||document.createElement("div");if(x=="td"&&(y==n||y==q)||!s.test(x)&&(y==c||y==p)){return}C=y==c?A:y==p?A.nextSibling:y==n?A.firstChild:null;if(y==c||y==p){A=A.parentNode}if(x=="td"||(x=="tr"&&(y==q||y==n))){B=g(4,l,z,v)}else{if((x=="tbody"&&(y==q||y==n))||(x=="tr"&&(y==c||y==p))){B=g(3,b,z,j)}else{B=g(2,a,z,i)}}A.insertBefore(B,C);return B}r={markup:function(x){return t(x)},applyStyles:function(A,B){if(B){var y=0,x,z,C;A=Ext.fly(A);if(typeof B=="function"){B=B.call()}if(typeof B=="string"){while((C=o.exec(B))){A.setStyle(C[1],C[2])}}else{if(typeof B=="object"){A.setStyle(B)}}}},insertHtml:function(C,x,D){var B={},z,F,E,G,A,y;C=C.toLowerCase();B[c]=["BeforeBegin","previousSibling"];B[p]=["AfterEnd","nextSibling"];if(x.insertAdjacentHTML){if(m.test(x.tagName)&&(y=e(x.tagName.toLowerCase(),C,x,D))){return y}B[n]=["AfterBegin","firstChild"];B[q]=["BeforeEnd","lastChild"];if((z=B[C])){x.insertAdjacentHTML(z[0],D);return x[z[1]]}}else{E=x.ownerDocument.createRange();F="setStart"+(u.test(C)?"After":"Before");if(B[C]){E[F](x);G=E.createContextualFragment(D);x.parentNode.insertBefore(G,C==c?x:x.nextSibling);return x[(C==c?"previous":"next")+"Sibling"]}else{A=(C==n?"first":"last")+"Child";if(x.firstChild){E[F](x[A]);G=E.createContextualFragment(D);if(C==n){x.insertBefore(G,x.firstChild)}else{x.appendChild(G)}}else{x.innerHTML=D}return x[A]}}throw'Illegal insertion point -> "'+C+'"'},insertBefore:function(x,z,y){return h(x,z,y,c)},insertAfter:function(x,z,y){return h(x,z,y,p,"nextSibling")},insertFirst:function(x,z,y){return h(x,z,y,n,"firstChild")},append:function(x,z,y){return h(x,z,y,q,"",true)},overwrite:function(x,z,y){x=Ext.getDom(x);x.innerHTML=t(z);return y?Ext.get(x.firstChild):x.firstChild},createHtml:t};return r}();
Ext.apply(Ext.DomHelper,function(){var e,a="afterbegin",h="afterend",i="beforebegin",d="beforeend",b=/tag|children|cn|html$/i;function g(m,p,n,q,l,j){m=Ext.getDom(m);var k;if(e.useDom){k=c(p,null);if(j){m.appendChild(k)}else{(l=="firstChild"?m:m.parentNode).insertBefore(k,m[l]||m)}}else{k=Ext.DomHelper.insertHtml(q,m,Ext.DomHelper.createHtml(p))}return n?Ext.get(k,true):k}function c(j,r){var k,u=document,p,s,m,t;if(Ext.isArray(j)){k=u.createDocumentFragment();for(var q=0,n=j.length;q<n;q++){c(j[q],k)}}else{if(typeof j=="string"){k=u.createTextNode(j)}else{k=u.createElement(j.tag||"div");p=!!k.setAttribute;for(var s in j){if(!b.test(s)){m=j[s];if(s=="cls"){k.className=m}else{if(p){k.setAttribute(s,m)}else{k[s]=m}}}}Ext.DomHelper.applyStyles(k,j.style);if((t=j.children||j.cn)){c(t,k)}else{if(j.html){k.innerHTML=j.html}}}}if(r){r.appendChild(k)}return k}e={createTemplate:function(k){var j=Ext.DomHelper.createHtml(k);return new Ext.Template(j)},useDom:false,insertBefore:function(j,l,k){return g(j,l,k,i)},insertAfter:function(j,l,k){return g(j,l,k,h,"nextSibling")},insertFirst:function(j,l,k){return g(j,l,k,a,"firstChild")},append:function(j,l,k){return g(j,l,k,d,"",true)},createDom:c};return e}());
Ext.Template=function(h){var j=this,c=arguments,e=[],d;if(Ext.isArray(h)){h=h.join("")}else{if(c.length>1){for(var g=0,b=c.length;g<b;g++){d=c[g];if(typeof d=="object"){Ext.apply(j,d)}else{e.push(d)}}h=e.join("")}}j.html=h;if(j.compiled){j.compile()}};Ext.Template.prototype={re:/\{([\w-]+)\}/g,applyTemplate:function(a){var b=this;return b.compiled?b.compiled(a):b.html.replace(b.re,function(c,d){return a[d]!==undefined?a[d]:""})},set:function(a,c){var b=this;b.html=a;b.compiled=null;return c?b.compile():b},compile:function(){var me=this,sep=Ext.isGecko?"+":",";function fn(m,name){name="values['"+name+"']";return"'"+sep+"("+name+" == undefined ? '' : "+name+")"+sep+"'"}eval("this.compiled = function(values){ return "+(Ext.isGecko?"'":"['")+me.html.replace(/\\/g,"\\\\").replace(/(\r\n|\n)/g,"\\n").replace(/'/g,"\\'").replace(this.re,fn)+(Ext.isGecko?"';};":"'].join('');};"));return me},insertFirst:function(b,a,c){return this.doInsert("afterBegin",b,a,c)},insertBefore:function(b,a,c){return this.doInsert("beforeBegin",b,a,c)},insertAfter:function(b,a,c){return this.doInsert("afterEnd",b,a,c)},append:function(b,a,c){return this.doInsert("beforeEnd",b,a,c)},doInsert:function(c,e,b,a){e=Ext.getDom(e);var d=Ext.DomHelper.insertHtml(c,e,this.applyTemplate(b));return a?Ext.get(d,true):d},overwrite:function(b,a,c){b=Ext.getDom(b);b.innerHTML=this.applyTemplate(a);return c?Ext.get(b.firstChild,true):b.firstChild}};Ext.Template.prototype.apply=Ext.Template.prototype.applyTemplate;Ext.Template.from=function(b,a){b=Ext.getDom(b);return new Ext.Template(b.value||b.innerHTML,a||"")};
Ext.apply(Ext.Template.prototype,{disableFormats:false,re:/\{([\w-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,argsRe:/^\s*['"](.*)["']\s*$/,compileARe:/\\/g,compileBRe:/(\r\n|\n)/g,compileCRe:/'/g,applyTemplate:function(b){var g=this,a=g.disableFormats!==true,e=Ext.util.Format,c=g;if(g.compiled){return g.compiled(b)}function d(j,l,p,k){if(p&&a){if(p.substr(0,5)=="this."){return c.call(p.substr(5),b[l],b)}else{if(k){var o=g.argsRe;k=k.split(",");for(var n=0,h=k.length;n<h;n++){k[n]=k[n].replace(o,"$1")}k=[b[l]].concat(k)}else{k=[b[l]]}return e[p].apply(e,k)}}else{return b[l]!==undefined?b[l]:""}}return g.html.replace(g.re,d)},compile:function(){var me=this,fm=Ext.util.Format,useF=me.disableFormats!==true,sep=Ext.isGecko?"+":",",body;function fn(m,name,format,args){if(format&&useF){args=args?","+args:"";if(format.substr(0,5)!="this."){format="fm."+format+"("}else{format='this.call("'+format.substr(5)+'", ';args=", values"}}else{args="";format="(values['"+name+"'] == undefined ? '' : "}return"'"+sep+format+"values['"+name+"']"+args+")"+sep+"'"}if(Ext.isGecko){body="this.compiled = function(values){ return '"+me.html.replace(me.compileARe,"\\\\").replace(me.compileBRe,"\\n").replace(me.compileCRe,"\\'").replace(me.re,fn)+"';};"}else{body=["this.compiled = function(values){ return ['"];body.push(me.html.replace(me.compileARe,"\\\\").replace(me.compileBRe,"\\n").replace(me.compileCRe,"\\'").replace(me.re,fn));body.push("'].join('');};");body=body.join("")}eval(body);return me},call:function(c,b,a){return this[c](b,a)}});Ext.Template.prototype.apply=Ext.Template.prototype.applyTemplate;
Ext.DomQuery=function(){var cache={},simpleCache={},valueCache={},nonSpace=/\S/,trimRe=/^\s+|\s+$/g,tplRe=/\{(\d+)\}/g,modeRe=/^(\s?[\/>+~]\s?|\s|$)/,tagTokenRe=/^(#)?([\w-\*]+)/,nthRe=/(\d*)n\+?(\d*)/,nthRe2=/\D/,isIE=window.ActiveXObject?true:false,key=30803;eval("var batch = 30803;");function child(parent,index){var i=0,n=parent.firstChild;while(n){if(n.nodeType==1){if(++i==index){return n}}n=n.nextSibling}return null}function next(n){while((n=n.nextSibling)&&n.nodeType!=1){}return n}function prev(n){while((n=n.previousSibling)&&n.nodeType!=1){}return n}function children(parent){var n=parent.firstChild,nodeIndex=-1,nextNode;while(n){nextNode=n.nextSibling;if(n.nodeType==3&&!nonSpace.test(n.nodeValue)){parent.removeChild(n)}else{n.nodeIndex=++nodeIndex}n=nextNode}return this}function byClassName(nodeSet,cls){if(!cls){return nodeSet}var result=[],ri=-1;for(var i=0,ci;ci=nodeSet[i];i++){if((" "+ci.className+" ").indexOf(cls)!=-1){result[++ri]=ci}}return result}function attrValue(n,attr){if(!n.tagName&&typeof n.length!="undefined"){n=n[0]}if(!n){return null}if(attr=="for"){return n.htmlFor}if(attr=="class"||attr=="className"){return n.className}return n.getAttribute(attr)||n[attr]}function getNodes(ns,mode,tagName){var result=[],ri=-1,cs;if(!ns){return result}tagName=tagName||"*";if(typeof ns.getElementsByTagName!="undefined"){ns=[ns]}if(!mode){for(var i=0,ni;ni=ns[i];i++){cs=ni.getElementsByTagName(tagName);for(var j=0,ci;ci=cs[j];j++){result[++ri]=ci}}}else{if(mode=="/"||mode==">"){var utag=tagName.toUpperCase();for(var i=0,ni,cn;ni=ns[i];i++){cn=ni.childNodes;for(var j=0,cj;cj=cn[j];j++){if(cj.nodeName==utag||cj.nodeName==tagName||tagName=="*"){result[++ri]=cj}}}}else{if(mode=="+"){var utag=tagName.toUpperCase();for(var i=0,n;n=ns[i];i++){while((n=n.nextSibling)&&n.nodeType!=1){}if(n&&(n.nodeName==utag||n.nodeName==tagName||tagName=="*")){result[++ri]=n}}}else{if(mode=="~"){var utag=tagName.toUpperCase();for(var i=0,n;n=ns[i];i++){while((n=n.nextSibling)){if(n.nodeName==utag||n.nodeName==tagName||tagName=="*"){result[++ri]=n}}}}}}}return result}function concat(a,b){if(b.slice){return a.concat(b)}for(var i=0,l=b.length;i<l;i++){a[a.length]=b[i]}return a}function byTag(cs,tagName){if(cs.tagName||cs==document){cs=[cs]}if(!tagName){return cs}var result=[],ri=-1;tagName=tagName.toLowerCase();for(var i=0,ci;ci=cs[i];i++){if(ci.nodeType==1&&ci.tagName.toLowerCase()==tagName){result[++ri]=ci}}return result}function byId(cs,id){if(cs.tagName||cs==document){cs=[cs]}if(!id){return cs}var result=[],ri=-1;for(var i=0,ci;ci=cs[i];i++){if(ci&&ci.id==id){result[++ri]=ci;return result}}return result}function byAttribute(cs,attr,value,op,custom){var result=[],ri=-1,useGetStyle=custom=="{",fn=Ext.DomQuery.operators[op],a,innerHTML;for(var i=0,ci;ci=cs[i];i++){if(ci.nodeType!=1){continue}innerHTML=ci.innerHTML;if(innerHTML!==null&&innerHTML!==undefined){if(useGetStyle){a=Ext.DomQuery.getStyle(ci,attr)}else{if(attr=="class"||attr=="className"){a=ci.className}else{if(attr=="for"){a=ci.htmlFor}else{if(attr=="href"){a=ci.getAttribute("href",2)}else{a=ci.getAttribute(attr)}}}}}else{a=ci.getAttribute(attr)}if((fn&&fn(a,value))||(!fn&&a)){result[++ri]=ci}}return result}function byPseudo(cs,name,value){return Ext.DomQuery.pseudos[name](cs,value)}function nodupIEXml(cs){var d=++key,r;cs[0].setAttribute("_nodup",d);r=[cs[0]];for(var i=1,len=cs.length;i<len;i++){var c=cs[i];if(!c.getAttribute("_nodup")!=d){c.setAttribute("_nodup",d);r[r.length]=c}}for(var i=0,len=cs.length;i<len;i++){cs[i].removeAttribute("_nodup")}return r}function nodup(cs){if(!cs){return[]}var len=cs.length,c,i,r=cs,cj,ri=-1;if(!len||typeof cs.nodeType!="undefined"||len==1){return cs}if(isIE&&typeof cs[0].selectSingleNode!="undefined"){return nodupIEXml(cs)}var d=++key;cs[0]._nodup=d;for(i=1;c=cs[i];i++){if(c._nodup!=d){c._nodup=d}else{r=[];for(var j=0;j<i;j++){r[++ri]=cs[j]}for(j=i+1;cj=cs[j];j++){if(cj._nodup!=d){cj._nodup=d;r[++ri]=cj}}return r}}return r}function quickDiffIEXml(c1,c2){var d=++key,r=[];for(var i=0,len=c1.length;i<len;i++){c1[i].setAttribute("_qdiff",d)}for(var i=0,len=c2.length;i<len;i++){if(c2[i].getAttribute("_qdiff")!=d){r[r.length]=c2[i]}}for(var i=0,len=c1.length;i<len;i++){c1[i].removeAttribute("_qdiff")}return r}function quickDiff(c1,c2){var len1=c1.length,d=++key,r=[];if(!len1){return c2}if(isIE&&typeof c1[0].selectSingleNode!="undefined"){return quickDiffIEXml(c1,c2)}for(var i=0;i<len1;i++){c1[i]._qdiff=d}for(var i=0,len=c2.length;i<len;i++){if(c2[i]._qdiff!=d){r[r.length]=c2[i]}}return r}function quickId(ns,mode,root,id){if(ns==root){var d=root.ownerDocument||root;return d.getElementById(id)}ns=getNodes(ns,mode,"*");return byId(ns,id)}return{getStyle:function(el,name){return Ext.fly(el).getStyle(name)},compile:function(path,type){type=type||"select";var fn=["var f = function(root){\n var mode; ++batch; var n = root || document;\n"],mode,lastPath,matchers=Ext.DomQuery.matchers,matchersLn=matchers.length,modeMatch,lmode=path.match(modeRe);if(lmode&&lmode[1]){fn[fn.length]='mode="'+lmode[1].replace(trimRe,"")+'";';path=path.replace(lmode[1],"")}while(path.substr(0,1)=="/"){path=path.substr(1)}while(path&&lastPath!=path){lastPath=path;var tokenMatch=path.match(tagTokenRe);if(type=="select"){if(tokenMatch){if(tokenMatch[1]=="#"){fn[fn.length]='n = quickId(n, mode, root, "'+tokenMatch[2]+'");'}else{fn[fn.length]='n = getNodes(n, mode, "'+tokenMatch[2]+'");'}path=path.replace(tokenMatch[0],"")}else{if(path.substr(0,1)!="@"){fn[fn.length]='n = getNodes(n, mode, "*");'}}}else{if(tokenMatch){if(tokenMatch[1]=="#"){fn[fn.length]='n = byId(n, "'+tokenMatch[2]+'");'}else{fn[fn.length]='n = byTag(n, "'+tokenMatch[2]+'");'}path=path.replace(tokenMatch[0],"")}}while(!(modeMatch=path.match(modeRe))){var matched=false;for(var j=0;j<matchersLn;j++){var t=matchers[j];var m=path.match(t.re);if(m){fn[fn.length]=t.select.replace(tplRe,function(x,i){return m[i]});path=path.replace(m[0],"");matched=true;break}}if(!matched){throw'Error parsing selector, parsing failed at "'+path+'"'}}if(modeMatch[1]){fn[fn.length]='mode="'+modeMatch[1].replace(trimRe,"")+'";';path=path.replace(modeMatch[1],"")}}fn[fn.length]="return nodup(n);\n}";eval(fn.join(""));return f},jsSelect:function(path,root,type){root=root||document;if(typeof root=="string"){root=document.getElementById(root)}var paths=path.split(","),results=[];for(var i=0,len=paths.length;i<len;i++){var subPath=paths[i].replace(trimRe,"");if(!cache[subPath]){cache[subPath]=Ext.DomQuery.compile(subPath);if(!cache[subPath]){throw subPath+" is not a valid selector"}}var result=cache[subPath](root);if(result&&result!=document){results=results.concat(result)}}if(paths.length>1){return nodup(results)}return results},isXml:function(el){var docEl=(el?el.ownerDocument||el:0).documentElement;return docEl?docEl.nodeName!=="HTML":false},select:document.querySelectorAll?function(path,root,type){root=root||document;if(!Ext.DomQuery.isXml(root)){try{var cs=root.querySelectorAll(path);return Ext.toArray(cs)}catch(ex){}}return Ext.DomQuery.jsSelect.call(this,path,root,type)}:function(path,root,type){return Ext.DomQuery.jsSelect.call(this,path,root,type)},selectNode:function(path,root){return Ext.DomQuery.select(path,root)[0]},selectValue:function(path,root,defaultValue){path=path.replace(trimRe,"");if(!valueCache[path]){valueCache[path]=Ext.DomQuery.compile(path,"select")}var n=valueCache[path](root),v;n=n[0]?n[0]:n;if(typeof n.normalize=="function"){n.normalize()}v=(n&&n.firstChild?n.firstChild.nodeValue:null);return((v===null||v===undefined||v==="")?defaultValue:v)},selectNumber:function(path,root,defaultValue){var v=Ext.DomQuery.selectValue(path,root,defaultValue||0);return parseFloat(v)},is:function(el,ss){if(typeof el=="string"){el=document.getElementById(el)}var isArray=Ext.isArray(el),result=Ext.DomQuery.filter(isArray?el:[el],ss);return isArray?(result.length==el.length):(result.length>0)},filter:function(els,ss,nonMatches){ss=ss.replace(trimRe,"");if(!simpleCache[ss]){simpleCache[ss]=Ext.DomQuery.compile(ss,"simple")}var result=simpleCache[ss](els);return nonMatches?quickDiff(result,els):result},matchers:[{re:/^\.([\w-]+)/,select:'n = byClassName(n, " {1} ");'},{re:/^\:([\w-]+)(?:\(((?:[^\s>\/]*|.*?))\))?/,select:'n = byPseudo(n, "{1}", "{2}");'},{re:/^(?:([\[\{])(?:@)?([\w-]+)\s?(?:(=|.=)\s?['"]?(.*?)["']?)?[\]\}])/,select:'n = byAttribute(n, "{2}", "{4}", "{3}", "{1}");'},{re:/^#([\w-]+)/,select:'n = byId(n, "{1}");'},{re:/^@([\w-]+)/,select:'return {firstChild:{nodeValue:attrValue(n, "{1}")}};'}],operators:{"=":function(a,v){return a==v},"!=":function(a,v){return a!=v},"^=":function(a,v){return a&&a.substr(0,v.length)==v},"$=":function(a,v){return a&&a.substr(a.length-v.length)==v},"*=":function(a,v){return a&&a.indexOf(v)!==-1},"%=":function(a,v){return(a%v)==0},"|=":function(a,v){return a&&(a==v||a.substr(0,v.length+1)==v+"-")},"~=":function(a,v){return a&&(" "+a+" ").indexOf(" "+v+" ")!=-1}},pseudos:{"first-child":function(c){var r=[],ri=-1,n;for(var i=0,ci;ci=n=c[i];i++){while((n=n.previousSibling)&&n.nodeType!=1){}if(!n){r[++ri]=ci}}return r},"last-child":function(c){var r=[],ri=-1,n;for(var i=0,ci;ci=n=c[i];i++){while((n=n.nextSibling)&&n.nodeType!=1){}if(!n){r[++ri]=ci}}return r},"nth-child":function(c,a){var r=[],ri=-1,m=nthRe.exec(a=="even"&&"2n"||a=="odd"&&"2n+1"||!nthRe2.test(a)&&"n+"+a||a),f=(m[1]||1)-0,l=m[2]-0;for(var i=0,n;n=c[i];i++){var pn=n.parentNode;if(batch!=pn._batch){var j=0;for(var cn=pn.firstChild;cn;cn=cn.nextSibling){if(cn.nodeType==1){cn.nodeIndex=++j}}pn._batch=batch}if(f==1){if(l==0||n.nodeIndex==l){r[++ri]=n}}else{if((n.nodeIndex+l)%f==0){r[++ri]=n}}}return r},"only-child":function(c){var r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){if(!prev(ci)&&!next(ci)){r[++ri]=ci}}return r},empty:function(c){var r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){var cns=ci.childNodes,j=0,cn,empty=true;while(cn=cns[j]){++j;if(cn.nodeType==1||cn.nodeType==3){empty=false;break}}if(empty){r[++ri]=ci}}return r},contains:function(c,v){var r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){if((ci.textContent||ci.innerText||"").indexOf(v)!=-1){r[++ri]=ci}}return r},nodeValue:function(c,v){var r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){if(ci.firstChild&&ci.firstChild.nodeValue==v){r[++ri]=ci}}return r},checked:function(c){var r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){if(ci.checked==true){r[++ri]=ci}}return r},not:function(c,ss){return Ext.DomQuery.filter(c,ss,true)},any:function(c,selectors){var ss=selectors.split("|"),r=[],ri=-1,s;for(var i=0,ci;ci=c[i];i++){for(var j=0;s=ss[j];j++){if(Ext.DomQuery.is(ci,s)){r[++ri]=ci;break}}}return r},odd:function(c){return this["nth-child"](c,"odd")},even:function(c){return this["nth-child"](c,"even")},nth:function(c,a){return c[a-1]||[]},first:function(c){return c[0]||[]},last:function(c){return c[c.length-1]||[]},has:function(c,ss){var s=Ext.DomQuery.select,r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){if(s(ss,ci).length>0){r[++ri]=ci}}return r},next:function(c,ss){var is=Ext.DomQuery.is,r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){var n=next(ci);if(n&&is(n,ss)){r[++ri]=ci}}return r},prev:function(c,ss){var is=Ext.DomQuery.is,r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){var n=prev(ci);if(n&&is(n,ss)){r[++ri]=ci}}return r}}}}();Ext.query=Ext.DomQuery.select;
Ext.util.DelayedTask=function(d,c,a){var e=this,g,b=function(){clearInterval(g);g=null;d.apply(c,a||[])};e.delay=function(i,k,j,h){e.cancel();d=k||d;c=j||c;a=h||a;g=setInterval(b,i)};e.cancel=function(){if(g){clearInterval(g);g=null}}};
(function(){var h=Ext.util,j=Ext.each,g=true,i=false;h.Observable=function(){var k=this,l=k.events;if(k.listeners){k.on(k.listeners);delete k.listeners}k.events=l||{}};h.Observable.prototype={filterOptRe:/^(?:scope|delay|buffer|single)$/,fireEvent:function(){var k=Array.prototype.slice.call(arguments,0),m=k[0].toLowerCase(),n=this,l=g,p=n.events[m],s,o,r;if(n.eventsSuspended===g){if(o=n.eventQueue){o.push(k)}}else{if(typeof p=="object"){if(p.bubble){if(p.fire.apply(p,k.slice(1))===i){return i}r=n.getBubbleTarget&&n.getBubbleTarget();if(r&&r.enableBubble){s=r.events[m];if(!s||typeof s!="object"||!s.bubble){r.enableBubble(m)}return r.fireEvent.apply(r,k)}}else{k.shift();l=p.fire.apply(p,k)}}}return l},addListener:function(m,q,s,l){var p=this,n,t,r,k;if(typeof m=="object"){l=m;for(n in l){t=l[n];if(!p.filterOptRe.test(n)){p.addListener(n,t.fn||t,t.scope||l.scope,t.fn?t:l)}}}else{m=m.toLowerCase();k=p.events[m]||g;if(typeof k=="boolean"){p.events[m]=k=new h.Event(p,m)}k.addListener(q,s,typeof l=="object"?l:{})}},removeListener:function(k,m,l){var n=this.events[k.toLowerCase()];if(typeof n=="object"){n.removeListener(m,l)}},purgeListeners:function(){var m=this.events,k,l;for(l in m){k=m[l];if(typeof k=="object"){k.clearListeners()}}},addEvents:function(n){var m=this;m.events=m.events||{};if(typeof n=="string"){var k=arguments,l=k.length;while(l--){m.events[k[l]]=m.events[k[l]]||g}}else{Ext.applyIf(m.events,n)}},hasListener:function(k){var l=this.events[k.toLowerCase()];return typeof l=="object"&&l.listeners.length>0},suspendEvents:function(k){this.eventsSuspended=g;if(k&&!this.eventQueue){this.eventQueue=[]}},resumeEvents:function(){var k=this,l=k.eventQueue||[];k.eventsSuspended=i;delete k.eventQueue;j(l,function(m){k.fireEvent.apply(k,m)})}};var d=h.Observable.prototype;d.on=d.addListener;d.un=d.removeListener;h.Observable.releaseCapture=function(k){k.fireEvent=d.fireEvent};function e(l,m,k){return function(){if(m.target==arguments[0]){l.apply(k,Array.prototype.slice.call(arguments,0))}}}function b(n,p,k,m){k.task=new h.DelayedTask();return function(){k.task.delay(p.buffer,n,m,Array.prototype.slice.call(arguments,0))}}function c(m,n,l,k){return function(){n.removeListener(l,k);return m.apply(k,arguments)}}function a(n,p,k,m){return function(){var l=new h.DelayedTask();if(!k.tasks){k.tasks=[]}k.tasks.push(l);l.delay(p.delay||10,n,m,Array.prototype.slice.call(arguments,0))}}h.Event=function(l,k){this.name=k;this.obj=l;this.listeners=[]};h.Event.prototype={addListener:function(o,n,m){var p=this,k;n=n||p.obj;if(!p.isListening(o,n)){k=p.createListener(o,n,m);if(p.firing){p.listeners=p.listeners.slice(0)}p.listeners.push(k)}},createListener:function(p,n,q){q=q||{},n=n||this.obj;var k={fn:p,scope:n,options:q},m=p;if(q.target){m=e(m,q,n)}if(q.delay){m=a(m,q,k,n)}if(q.single){m=c(m,this,p,n)}if(q.buffer){m=b(m,q,k,n)}k.fireFn=m;return k},findListener:function(o,n){var p=this.listeners,m=p.length,k;n=n||this.obj;while(m--){k=p[m];if(k){if(k.fn==o&&k.scope==n){return m}}}return -1},isListening:function(l,k){return this.findListener(l,k)!=-1},removeListener:function(r,q){var p,m,n,s=this,o=i;if((p=s.findListener(r,q))!=-1){if(s.firing){s.listeners=s.listeners.slice(0)}m=s.listeners[p];if(m.task){m.task.cancel();delete m.task}n=m.tasks&&m.tasks.length;if(n){while(n--){m.tasks[n].cancel()}delete m.tasks}s.listeners.splice(p,1);o=g}return o},clearListeners:function(){var n=this,k=n.listeners,m=k.length;while(m--){n.removeListener(k[m].fn,k[m].scope)}},fire:function(){var q=this,p=q.listeners,k=p.length,o=0,m;if(k>0){q.firing=g;var n=Array.prototype.slice.call(arguments,0);for(;o<k;o++){m=p[o];if(m&&m.fireFn.apply(m.scope||q.obj||window,n)===i){return(q.firing=i)}}}q.firing=i;return g}}})();
Ext.apply(Ext.util.Observable.prototype,function(){function a(j){var i=(this.methodEvents=this.methodEvents||{})[j],d,c,g,h=this;if(!i){this.methodEvents[j]=i={};i.originalFn=this[j];i.methodName=j;i.before=[];i.after=[];var b=function(l,k,e){if((c=l.apply(k||h,e))!==undefined){if(typeof c=="object"){if(c.returnValue!==undefined){d=c.returnValue}else{d=c}g=!!c.cancel}else{if(c===false){g=true}else{d=c}}}};this[j]=function(){var l=Array.prototype.slice.call(arguments,0),k;d=c=undefined;g=false;for(var m=0,e=i.before.length;m<e;m++){k=i.before[m];b(k.fn,k.scope,l);if(g){return d}}if((c=i.originalFn.apply(h,l))!==undefined){d=c}for(var m=0,e=i.after.length;m<e;m++){k=i.after[m];b(k.fn,k.scope,l);if(g){return d}}return d}}return i}return{beforeMethod:function(d,c,b){a.call(this,d).before.push({fn:c,scope:b})},afterMethod:function(d,c,b){a.call(this,d).after.push({fn:c,scope:b})},removeMethodListener:function(j,g,d){var h=this.getMethodEvent(j);for(var c=0,b=h.before.length;c<b;c++){if(h.before[c].fn==g&&h.before[c].scope==d){h.before.splice(c,1);return}}for(var c=0,b=h.after.length;c<b;c++){if(h.after[c].fn==g&&h.after[c].scope==d){h.after.splice(c,1);return}}},relayEvents:function(j,e){var h=this;function g(i){return function(){return h.fireEvent.apply(h,[i].concat(Array.prototype.slice.call(arguments,0)))}}for(var d=0,b=e.length;d<b;d++){var c=e[d];h.events[c]=h.events[c]||true;j.on(c,g(c),h)}},enableBubble:function(e){var g=this;if(!Ext.isEmpty(e)){e=Ext.isArray(e)?e:Array.prototype.slice.call(arguments,0);for(var d=0,b=e.length;d<b;d++){var c=e[d];c=c.toLowerCase();var h=g.events[c]||true;if(typeof h=="boolean"){h=new Ext.util.Event(g,c);g.events[c]=h}h.bubble=true}}}}}());Ext.util.Observable.capture=function(c,b,a){c.fireEvent=c.fireEvent.createInterceptor(b,a)};Ext.util.Observable.observeClass=function(b,a){if(b){if(!b.fireEvent){Ext.apply(b,new Ext.util.Observable());Ext.util.Observable.capture(b.prototype,b.fireEvent,b)}if(typeof a=="object"){b.on(a)}return b}};
Ext.EventManager=function(){var z,p,j=false,l=Ext.isGecko||Ext.isWebKit||Ext.isSafari,o=Ext.lib.Event,q=Ext.lib.Dom,c=document,A=window,r="DOMContentLoaded",t="complete",g=/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate)$/,u=[];function n(E){var H=false,D=0,C=u.length,H=false,F=false,G;if(E){if(E.getElementById||E.navigator){for(;D<C;++D){G=u[D];if(G.el===E){H=G.id;break}}if(!H){H=Ext.id(E);u.push({id:H,el:E});F=true}}else{H=Ext.id(E)}if(!Ext.elCache[H]){Ext.Element.addToCache(new Ext.Element(E),H);if(F){Ext.elCache[H].skipGC=true}}}return H}function m(E,G,J,F,D,L){E=Ext.getDom(E);var C=n(E),K=Ext.elCache[C].events,H;H=o.on(E,G,D);K[G]=K[G]||[];K[G].push([J,D,L,H,F]);if(E.addEventListener&&G=="mousewheel"){var I=["DOMMouseScroll",D,false];E.addEventListener.apply(E,I);Ext.EventManager.addListener(A,"unload",function(){E.removeEventListener.apply(E,I)})}if(E==c&&G=="mousedown"){Ext.EventManager.stoppedMouseDownEvent.addListener(D)}}function d(){if(window!=top){return false}try{c.documentElement.doScroll("left")}catch(C){return false}b();return true}function B(C){if(Ext.isIE&&d()){return true}if(c.readyState==t){b();return true}j||(p=setTimeout(arguments.callee,2));return false}var k;function i(C){k||(k=Ext.query("style, link[rel=stylesheet]"));if(k.length==c.styleSheets.length){b();return true}j||(p=setTimeout(arguments.callee,2));return false}function y(C){c.removeEventListener(r,arguments.callee,false);i()}function b(C){if(!j){j=true;if(p){clearTimeout(p)}if(l){c.removeEventListener(r,b,false)}if(Ext.isIE&&B.bindIE){c.detachEvent("onreadystatechange",B)}o.un(A,"load",arguments.callee)}if(z&&!Ext.isReady){Ext.isReady=true;z.fire();z.listeners=[]}}function a(){z||(z=new Ext.util.Event());if(l){c.addEventListener(r,b,false)}if(Ext.isIE){if(!B()){B.bindIE=true;c.attachEvent("onreadystatechange",B)}}else{if(Ext.isOpera){(c.readyState==t&&i())||c.addEventListener(r,y,false)}else{if(Ext.isWebKit){B()}}}o.on(A,"load",b)}function x(C,D){return function(){var E=Ext.toArray(arguments);if(D.target==Ext.EventObject.setEvent(E[0]).target){C.apply(this,E)}}}function w(D,E,C){return function(F){C.delay(E.buffer,D,null,[new Ext.EventObjectImpl(F)])}}function s(G,F,C,E,D){return function(H){Ext.EventManager.removeListener(F,C,E,D);G(H)}}function e(D,E,C){return function(G){var F=new Ext.util.DelayedTask(D);if(!C.tasks){C.tasks=[]}C.tasks.push(F);F.delay(E.delay||10,D,null,[new Ext.EventObjectImpl(G)])}}function h(H,G,C,J,K){var D=(!C||typeof C=="boolean")?{}:C,E=Ext.getDom(H),F;J=J||D.fn;K=K||D.scope;if(!E){throw'Error listening for "'+G+'". Element "'+H+"\" doesn't exist."}function I(M){if(!Ext){return}M=Ext.EventObject.setEvent(M);var L;if(D.delegate){if(!(L=M.getTarget(D.delegate,E))){return}}else{L=M.target}if(D.stopEvent){M.stopEvent()}if(D.preventDefault){M.preventDefault()}if(D.stopPropagation){M.stopPropagation()}if(D.normalized){M=M.browserEvent}J.call(K||E,M,L,D)}if(D.target){I=x(I,D)}if(D.delay){I=e(I,D,J)}if(D.single){I=s(I,E,G,J,K)}if(D.buffer){F=new Ext.util.DelayedTask(I);I=w(I,D,F)}m(E,G,J,F,I,K);return I}var v={addListener:function(E,C,G,F,D){if(typeof C=="object"){var J=C,H,I;for(H in J){I=J[H];if(!g.test(H)){if(Ext.isFunction(I)){h(E,H,J,I,J.scope)}else{h(E,H,I)}}}}else{h(E,C,D,G,F)}},removeListener:function(E,I,M,N){E=Ext.getDom(E);var C=n(E),K=E&&(Ext.elCache[C].events)[I]||[],D,H,F,G,J,L;for(H=0,J=K.length;H<J;H++){if(Ext.isArray(L=K[H])&&L[0]==M&&(!N||L[2]==N)){if(L[4]){L[4].cancel()}G=M.tasks&&M.tasks.length;if(G){while(G--){M.tasks[G].cancel()}delete M.tasks}D=L[1];o.un(E,I,o.extAdapter?L[3]:D);if(D&&E.addEventListener&&I=="mousewheel"){E.removeEventListener("DOMMouseScroll",D,false)}if(D&&E==c&&I=="mousedown"){Ext.EventManager.stoppedMouseDownEvent.removeListener(D)}K.splice(H,1);if(K.length===0){delete Ext.elCache[C].events[I]}for(G in Ext.elCache[C].events){return false}Ext.elCache[C].events={};return false}}},removeAll:function(E){E=Ext.getDom(E);var D=n(E),J=Ext.elCache[D]||{},M=J.events||{},I,H,K,F,L,G,C;for(F in M){if(M.hasOwnProperty(F)){I=M[F];for(H=0,K=I.length;H<K;H++){L=I[H];if(L[4]){L[4].cancel()}if(L[0].tasks&&(G=L[0].tasks.length)){while(G--){L[0].tasks[G].cancel()}delete L.tasks}C=L[1];o.un(E,F,o.extAdapter?L[3]:C);if(E.addEventListener&&C&&F=="mousewheel"){E.removeEventListener("DOMMouseScroll",C,false)}if(C&&E==c&&F=="mousedown"){Ext.EventManager.stoppedMouseDownEvent.removeListener(C)}}}}if(Ext.elCache[D]){Ext.elCache[D].events={}}},getListeners:function(F,C){F=Ext.getDom(F);var H=n(F),D=Ext.elCache[H]||{},G=D.events||{},E=[];if(G&&G[C]){return G[C]}else{return null}},purgeElement:function(E,C,G){E=Ext.getDom(E);var D=n(E),J=Ext.elCache[D]||{},K=J.events||{},F,I,H;if(G){if(K&&K.hasOwnProperty(G)){I=K[G];for(F=0,H=I.length;F<H;F++){Ext.EventManager.removeListener(E,G,I[F][0])}}}else{Ext.EventManager.removeAll(E)}if(C&&E&&E.childNodes){for(F=0,H=E.childNodes.length;F<H;F++){Ext.EventManager.purgeElement(E.childNodes[F],C,G)}}},_unload:function(){var C;for(C in Ext.elCache){Ext.EventManager.removeAll(C)}delete Ext.elCache;delete Ext.Element._flyweights;var G,D,F,E=Ext.lib.Ajax;(typeof E.conn=="object")?D=E.conn:D={};for(F in D){G=D[F];if(G){E.abort({conn:G,tId:F})}}},onDocumentReady:function(E,D,C){if(Ext.isReady){z||(z=new Ext.util.Event());z.addListener(E,D,C);z.fire();z.listeners=[]}else{if(!z){a()}C=C||{};C.delay=C.delay||1;z.addListener(E,D,C)}},fireDocReady:b};v.on=v.addListener;v.un=v.removeListener;v.stoppedMouseDownEvent=new Ext.util.Event();return v}();Ext.onReady=Ext.EventManager.onDocumentReady;(function(){var a=function(){var c=document.body||document.getElementsByTagName("body")[0];if(!c){return false}var b=[" ",Ext.isIE?"ext-ie "+(Ext.isIE6?"ext-ie6":(Ext.isIE7?"ext-ie7":"ext-ie8")):Ext.isGecko?"ext-gecko "+(Ext.isGecko2?"ext-gecko2":"ext-gecko3"):Ext.isOpera?"ext-opera":Ext.isWebKit?"ext-webkit":""];if(Ext.isSafari){b.push("ext-safari "+(Ext.isSafari2?"ext-safari2":(Ext.isSafari3?"ext-safari3":"ext-safari4")))}else{if(Ext.isChrome){b.push("ext-chrome")}}if(Ext.isMac){b.push("ext-mac")}if(Ext.isLinux){b.push("ext-linux")}if(Ext.isStrict||Ext.isBorderBox){var d=c.parentNode;if(d){d.className+=Ext.isStrict?" ext-strict":" ext-border-box"}}c.className+=b.join(" ");return true};if(!a()){Ext.onReady(a)}})();Ext.EventObject=function(){var b=Ext.lib.Event,a={3:13,63234:37,63235:39,63232:38,63233:40,63276:33,63277:34,63272:46,63273:36,63275:35},c=Ext.isIE?{1:0,4:1,2:2}:(Ext.isWebKit?{1:0,2:1,3:2}:{0:0,1:1,2:2});Ext.EventObjectImpl=function(d){if(d){this.setEvent(d.browserEvent||d)}};Ext.EventObjectImpl.prototype={setEvent:function(g){var d=this;if(g==d||(g&&g.browserEvent)){return g}d.browserEvent=g;if(g){d.button=g.button?c[g.button]:(g.which?g.which-1:-1);if(g.type=="click"&&d.button==-1){d.button=0}d.type=g.type;d.shiftKey=g.shiftKey;d.ctrlKey=g.ctrlKey||g.metaKey||false;d.altKey=g.altKey;d.keyCode=g.keyCode;d.charCode=g.charCode;d.target=b.getTarget(g);d.xy=b.getXY(g)}else{d.button=-1;d.shiftKey=false;d.ctrlKey=false;d.altKey=false;d.keyCode=0;d.charCode=0;d.target=null;d.xy=[0,0]}return d},stopEvent:function(){var d=this;if(d.browserEvent){if(d.browserEvent.type=="mousedown"){Ext.EventManager.stoppedMouseDownEvent.fire(d)}b.stopEvent(d.browserEvent)}},preventDefault:function(){if(this.browserEvent){b.preventDefault(this.browserEvent)}},stopPropagation:function(){var d=this;if(d.browserEvent){if(d.browserEvent.type=="mousedown"){Ext.EventManager.stoppedMouseDownEvent.fire(d)}b.stopPropagation(d.browserEvent)}},getCharCode:function(){return this.charCode||this.keyCode},getKey:function(){return this.normalizeKey(this.keyCode||this.charCode)},normalizeKey:function(d){return Ext.isSafari?(a[d]||d):d},getPageX:function(){return this.xy[0]},getPageY:function(){return this.xy[1]},getXY:function(){return this.xy},getTarget:function(e,g,d){return e?Ext.fly(this.target).findParent(e,g,d):(d?Ext.get(this.target):this.target)},getRelatedTarget:function(){return this.browserEvent?b.getRelatedTarget(this.browserEvent):null},getWheelDelta:function(){var d=this.browserEvent;var g=0;if(d.wheelDelta){g=d.wheelDelta/120}else{if(d.detail){g=-d.detail/3}}return g},within:function(g,h,d){if(g){var e=this[h?"getRelatedTarget":"getTarget"]();return e&&((d?(e==Ext.getDom(g)):false)||Ext.fly(g).contains(e))}return false}};return new Ext.EventObjectImpl()}();
Ext.apply(Ext.EventManager,function(){var c,j,e,b,a=Ext.lib.Dom,i=/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate)$/,h=0,g=0,d=Ext.isWebKit?Ext.num(navigator.userAgent.match(/AppleWebKit\/(\d+)/)[1])>=525:!((Ext.isGecko&&!Ext.isWindows)||Ext.isOpera);return{doResizeEvent:function(){var l=a.getViewHeight(),k=a.getViewWidth();if(g!=l||h!=k){c.fire(h=k,g=l)}},onWindowResize:function(m,l,k){if(!c){c=new Ext.util.Event();j=new Ext.util.DelayedTask(this.doResizeEvent);Ext.EventManager.on(window,"resize",this.fireWindowResize,this)}c.addListener(m,l,k)},fireWindowResize:function(){if(c){j.delay(100)}},onTextResize:function(n,m,k){if(!e){e=new Ext.util.Event();var l=new Ext.Element(document.createElement("div"));l.dom.className="x-text-resize";l.dom.innerHTML="X";l.appendTo(document.body);b=l.dom.offsetHeight;setInterval(function(){if(l.dom.offsetHeight!=b){e.fire(b,b=l.dom.offsetHeight)}},this.textResizeInterval)}e.addListener(n,m,k)},removeResizeListener:function(l,k){if(c){c.removeListener(l,k)}},fireResize:function(){if(c){c.fire(a.getViewWidth(),a.getViewHeight())}},textResizeInterval:50,ieDeferSrc:false,useKeydown:d}}());Ext.EventManager.on=Ext.EventManager.addListener;Ext.apply(Ext.EventObjectImpl.prototype,{BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,RETURN:13,SHIFT:16,CTRL:17,CONTROL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGEUP:33,PAGE_DOWN:34,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,isNavKeyPress:function(){var b=this,a=this.normalizeKey(b.keyCode);return(a>=33&&a<=40)||a==b.RETURN||a==b.TAB||a==b.ESC},isSpecialKey:function(){var a=this.normalizeKey(this.keyCode);return(this.type=="keypress"&&this.ctrlKey)||this.isNavKeyPress()||(a==this.BACKSPACE)||(a>=16&&a<=20)||(a>=44&&a<=46)},getPoint:function(){return new Ext.lib.Point(this.xy[0],this.xy[1])},hasModifier:function(){return((this.ctrlKey||this.altKey)||this.shiftKey)}});
(function(){var j=document;Ext.Element=function(o,p){var q=typeof o=="string"?j.getElementById(o):o,r;if(!q){return null}r=q.id;if(!p&&r&&Ext.elCache[r]){return Ext.elCache[r].el}this.dom=q;this.id=r||Ext.id(q)};var a=Ext.lib.Dom,g=Ext.DomHelper,m=Ext.lib.Event,e=Ext.lib.Anim,h=Ext.Element,b=Ext.elCache;h.prototype={set:function(t,q){var r=this.dom,p,s,q=(q!==false)&&!!r.setAttribute;for(p in t){if(t.hasOwnProperty(p)){s=t[p];if(p=="style"){g.applyStyles(r,s)}else{if(p=="cls"){r.className=s}else{if(q){r.setAttribute(p,s)}else{r[p]=s}}}}}return this},defaultUnit:"px",is:function(o){return Ext.DomQuery.is(this.dom,o)},focus:function(r,q){var o=this,q=q||o.dom;try{if(Number(r)){o.focus.defer(r,null,[null,q])}else{q.focus()}}catch(p){}return o},blur:function(){try{this.dom.blur()}catch(o){}return this},getValue:function(o){var p=this.dom.value;return o?parseInt(p,10):p},addListener:function(o,r,q,p){Ext.EventManager.on(this.dom,o,r,q||this,p);return this},removeListener:function(o,q,p){Ext.EventManager.removeListener(this.dom,o,q,p||this);return this},removeAllListeners:function(){Ext.EventManager.removeAll(this.dom);return this},purgeAllListeners:function(){Ext.EventManager.purgeElement(this,true);return this},addUnits:function(o){if(o===""||o=="auto"||o===undefined){o=o||""}else{if(!isNaN(o)||!k.test(o)){o=o+(this.defaultUnit||"px")}}return o},load:function(p,q,o){Ext.Ajax.request(Ext.apply({params:q,url:p.url||p,callback:o,el:this.dom,indicatorText:p.indicatorText||""},Ext.isObject(p)?p:{}));return this},isBorderBox:function(){return i[(this.dom.tagName||"").toLowerCase()]||Ext.isBorderBox},remove:function(){var o=this,p=o.dom;if(p){delete o.dom;Ext.removeNode(p)}},hover:function(p,o,r,q){var s=this;s.on("mouseenter",p,r||s.dom,q);s.on("mouseleave",o,r||s.dom,q);return s},contains:function(o){return !o?false:Ext.lib.Dom.isAncestor(this.dom,o.dom?o.dom:o)},getAttributeNS:function(p,o){return this.getAttribute(o,p)},getAttribute:Ext.isIE?function(o,q){var r=this.dom,p=typeof r[q+":"+o];if(["undefined","unknown"].indexOf(p)==-1){return r[q+":"+o]}return r[o]}:function(o,p){var q=this.dom;return q.getAttributeNS(p,o)||q.getAttribute(p+":"+o)||q.getAttribute(o)||q[o]},update:function(o){if(this.dom){this.dom.innerHTML=o}return this}};var n=h.prototype;h.addMethods=function(p){Ext.apply(n,p)};n.on=n.addListener;n.un=n.removeListener;n.autoBoxAdjust=true;var k=/\d+(px|em|%|en|ex|pt|in|cm|mm|pc)$/i,d;h.get=function(p){var o,s,r;if(!p){return null}if(typeof p=="string"){if(!(s=j.getElementById(p))){return null}if(b[p]&&b[p].el){o=b[p].el;o.dom=s}else{o=h.addToCache(new h(s))}return o}else{if(p.tagName){if(!(r=p.id)){r=Ext.id(p)}if(b[r]&&b[r].el){o=b[r].el;o.dom=p}else{o=h.addToCache(new h(p))}return o}else{if(p instanceof h){if(p!=d){if(Ext.isIE&&(p.id==undefined||p.id=="")){p.dom=p.dom}else{p.dom=j.getElementById(p.id)||p.dom}}return p}else{if(p.isComposite){return p}else{if(Ext.isArray(p)){return h.select(p)}else{if(p==j){if(!d){var q=function(){};q.prototype=h.prototype;d=new q();d.dom=j}return d}}}}}}return null};h.addToCache=function(o,p){p=p||o.id;b[p]={el:o,data:{},events:{}};return o};h.data=function(p,o,q){p=h.get(p);if(!p){return null}var r=b[p.id].data;if(arguments.length==2){return r[o]}else{return(r[o]=q)}};function l(){if(!Ext.enableGarbageCollector){clearInterval(h.collectorThreadId)}else{var p,r,u,s;for(p in b){s=b[p];if(s.skipGC){continue}r=s.el;u=r.dom;if(!u||!u.parentNode||(!u.offsetParent&&!j.getElementById(p))){if(Ext.enableListenerCollection){Ext.EventManager.removeAll(u)}delete b[p]}}if(Ext.isIE){var q={};for(p in b){q[p]=b[p]}b=Ext.elCache=q}}}h.collectorThreadId=setInterval(l,30000);var c=function(){};c.prototype=h.prototype;h.Flyweight=function(o){this.dom=o};h.Flyweight.prototype=new c();h.Flyweight.prototype.isFlyweight=true;h._flyweights={};h.fly=function(q,o){var p=null;o=o||"_global";if(q=Ext.getDom(q)){(h._flyweights[o]=h._flyweights[o]||new h.Flyweight()).dom=q;p=h._flyweights[o]}return p};Ext.get=h.get;Ext.fly=h.fly;var i=Ext.isStrict?{select:1}:{input:1,select:1,textarea:1};if(Ext.isIE||Ext.isGecko){i.button=1}})();
Ext.Element.addMethods({swallowEvent:function(a,b){var d=this;function c(g){g.stopPropagation();if(b){g.preventDefault()}}if(Ext.isArray(a)){Ext.each(a,function(g){d.on(g,c)});return d}d.on(a,c);return d},relayEvent:function(a,b){this.on(a,function(c){b.fireEvent(a,c)})},clean:function(b){var d=this,e=d.dom,g=e.firstChild,c=-1;if(Ext.Element.data(e,"isCleaned")&&b!==true){return d}while(g){var a=g.nextSibling;if(g.nodeType==3&&!/\S/.test(g.nodeValue)){e.removeChild(g)}else{g.nodeIndex=++c}g=a}Ext.Element.data(e,"isCleaned",true);return d},load:function(){var a=this.getUpdater();a.update.apply(a,arguments);return this},getUpdater:function(){return this.updateManager||(this.updateManager=new Ext.Updater(this))},update:function(html,loadScripts,callback){if(!this.dom){return this}html=html||"";if(loadScripts!==true){this.dom.innerHTML=html;if(typeof callback=="function"){callback()}return this}var id=Ext.id(),dom=this.dom;html+='<span id="'+id+'"></span>';Ext.lib.Event.onAvailable(id,function(){var DOC=document,hd=DOC.getElementsByTagName("head")[0],re=/(?:<script([^>]*)?>)((\n|\r|.)*?)(?:<\/script>)/ig,srcRe=/\ssrc=([\'\"])(.*?)\1/i,typeRe=/\stype=([\'\"])(.*?)\1/i,match,attrs,srcMatch,typeMatch,el,s;while((match=re.exec(html))){attrs=match[1];srcMatch=attrs?attrs.match(srcRe):false;if(srcMatch&&srcMatch[2]){s=DOC.createElement("script");s.src=srcMatch[2];typeMatch=attrs.match(typeRe);if(typeMatch&&typeMatch[2]){s.type=typeMatch[2]}hd.appendChild(s)}else{if(match[2]&&match[2].length>0){if(window.execScript){window.execScript(match[2])}else{window.eval(match[2])}}}}el=DOC.getElementById(id);if(el){Ext.removeNode(el)}if(typeof callback=="function"){callback()}});dom.innerHTML=html.replace(/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,"");return this},removeAllListeners:function(){this.removeAnchor();Ext.EventManager.removeAll(this.dom);return this},createProxy:function(a,e,d){a=(typeof a=="object")?a:{tag:"div",cls:a};var c=this,b=e?Ext.DomHelper.append(e,a,true):Ext.DomHelper.insertBefore(c.dom,a,true);if(d&&c.setBox&&c.getBox){b.setBox(c.getBox())}return b}});Ext.Element.prototype.getUpdateManager=Ext.Element.prototype.getUpdater;
Ext.Element.addMethods({getAnchorXY:function(e,l,q){e=(e||"tl").toLowerCase();q=q||{};var k=this,b=k.dom==document.body||k.dom==document,n=q.width||b?Ext.lib.Dom.getViewWidth():k.getWidth(),i=q.height||b?Ext.lib.Dom.getViewHeight():k.getHeight(),p,a=Math.round,c=k.getXY(),m=k.getScroll(),j=b?m.left:!l?c[0]:0,g=b?m.top:!l?c[1]:0,d={c:[a(n*0.5),a(i*0.5)],t:[a(n*0.5),0],l:[0,a(i*0.5)],r:[n,a(i*0.5)],b:[a(n*0.5),i],tl:[0,0],bl:[0,i],br:[n,i],tr:[n,0]};p=d[e];return[p[0]+j,p[1]+g]},anchorTo:function(b,h,c,a,k,l){var i=this,e=i.dom,j=!Ext.isEmpty(k),d=function(){Ext.fly(e).alignTo(b,h,c,a);Ext.callback(l,Ext.fly(e))},g=this.getAnchor();this.removeAnchor();Ext.apply(g,{fn:d,scroll:j});Ext.EventManager.onWindowResize(d,null);if(j){Ext.EventManager.on(window,"scroll",d,null,{buffer:!isNaN(k)?k:50})}d.call(i);return i},removeAnchor:function(){var b=this,a=this.getAnchor();if(a&&a.fn){Ext.EventManager.removeResizeListener(a.fn);if(a.scroll){Ext.EventManager.un(window,"scroll",a.fn)}delete a.fn}return b},getAnchor:function(){var b=Ext.Element.data,c=this.dom;if(!c){return}var a=b(c,"_anchor");if(!a){a=b(c,"_anchor",{})}return a},getAlignToXY:function(g,A,B){g=Ext.get(g);if(!g||!g.dom){throw"Element.alignToXY with an element that doesn't exist"}B=B||[0,0];A=(!A||A=="?"?"tl-bl?":(!/-/.test(A)&&A!==""?"tl-"+A:A||"tl-bl")).toLowerCase();var K=this,H=K.dom,M,L,n,l,s,F,v,t=Ext.lib.Dom.getViewWidth()-10,G=Ext.lib.Dom.getViewHeight()-10,b,i,j,k,u,z,N=document,J=N.documentElement,q=N.body,E=(J.scrollLeft||q.scrollLeft||0)+5,D=(J.scrollTop||q.scrollTop||0)+5,I=false,e="",a="",C=A.match(/^([a-z]+)-([a-z]+)(\?)?$/);if(!C){throw"Element.alignTo with an invalid alignment "+A}e=C[1];a=C[2];I=!!C[3];M=K.getAnchorXY(e,true);L=g.getAnchorXY(a,false);n=L[0]-M[0]+B[0];l=L[1]-M[1]+B[1];if(I){s=K.getWidth();F=K.getHeight();v=g.getRegion();b=e.charAt(0);i=e.charAt(e.length-1);j=a.charAt(0);k=a.charAt(a.length-1);u=((b=="t"&&j=="b")||(b=="b"&&j=="t"));z=((i=="r"&&k=="l")||(i=="l"&&k=="r"));if(n+s>t+E){n=z?v.left-s:t+E-s}if(n<E){n=z?v.right:E}if(l+F>G+D){l=u?v.top-F:G+D-F}if(l<D){l=u?v.bottom:D}}return[n,l]},alignTo:function(c,a,e,b){var d=this;return d.setXY(d.getAlignToXY(c,a,e),d.preanim&&!!b?d.preanim(arguments,3):false)},adjustForConstraints:function(c,a,b){return this.getConstrainToXY(a||document,false,b,c)||c},getConstrainToXY:function(b,a,c,e){var d={top:0,left:0,bottom:0,right:0};return function(i,z,k,m){i=Ext.get(i);k=k?Ext.applyIf(k,d):d;var v,C,u=0,t=0;if(i.dom==document.body||i.dom==document){v=Ext.lib.Dom.getViewWidth();C=Ext.lib.Dom.getViewHeight()}else{v=i.dom.clientWidth;C=i.dom.clientHeight;if(!z){var r=i.getXY();u=r[0];t=r[1]}}var q=i.getScroll();u+=k.left+q.left;t+=k.top+q.top;v-=k.right;C-=k.bottom;var A=u+v;var g=t+C;var j=m||(!z?this.getXY():[this.getLeft(true),this.getTop(true)]);var o=j[0],n=j[1];var p=this.dom.offsetWidth,B=this.dom.offsetHeight;var l=false;if((o+p)>A){o=A-p;l=true}if((n+B)>g){n=g-B;l=true}if(o<u){o=u;l=true}if(n<t){n=t;l=true}return l?[o,n]:false}}(),getCenterXY:function(){return this.getAlignToXY(document,"c-c")},center:function(a){return this.alignTo(a||document,"c-c")}});
Ext.Element.addMethods(function(){var d="parentNode",b="nextSibling",c="previousSibling",e=Ext.DomQuery,a=Ext.get;return{findParent:function(m,l,h){var j=this.dom,g=document.body,k=0,i;if(Ext.isGecko&&Object.prototype.toString.call(j)=="[object XULElement]"){return null}l=l||50;if(isNaN(l)){i=Ext.getDom(l);l=Number.MAX_VALUE}while(j&&j.nodeType==1&&k<l&&j!=g&&j!=i){if(e.is(j,m)){return h?a(j):j}k++;j=j.parentNode}return null},findParentNode:function(j,i,g){var h=Ext.fly(this.dom.parentNode,"_internal");return h?h.findParent(j,i,g):null},up:function(h,g){return this.findParentNode(h,g,true)},select:function(g){return Ext.Element.select(g,this.dom)},query:function(g){return e.select(g,this.dom)},child:function(g,h){var i=e.selectNode(g,this.dom);return h?i:a(i)},down:function(g,h){var i=e.selectNode(" > "+g,this.dom);return h?i:a(i)},parent:function(g,h){return this.matchNode(d,d,g,h)},next:function(g,h){return this.matchNode(b,b,g,h)},prev:function(g,h){return this.matchNode(c,c,g,h)},first:function(g,h){return this.matchNode(b,"firstChild",g,h)},last:function(g,h){return this.matchNode(c,"lastChild",g,h)},matchNode:function(h,k,g,i){var j=this.dom[k];while(j){if(j.nodeType==1&&(!g||e.is(j,g))){return !i?a(j):j}j=j[h]}return null}}}());
Ext.Element.addMethods({select:function(a,b){return Ext.Element.select(a,b,this.dom)}});
Ext.Element.addMethods(function(){var c=Ext.getDom,a=Ext.get,b=Ext.DomHelper;return{appendChild:function(d){return a(d).appendTo(this)},appendTo:function(d){c(d).appendChild(this.dom);return this},insertBefore:function(d){(d=c(d)).parentNode.insertBefore(this.dom,d);return this},insertAfter:function(d){(d=c(d)).parentNode.insertBefore(this.dom,d.nextSibling);return this},insertFirst:function(e,d){e=e||{};if(e.nodeType||e.dom||typeof e=="string"){e=c(e);this.dom.insertBefore(e,this.dom.firstChild);return !d?a(e):e}else{return this.createChild(e,this.dom.firstChild,d)}},replace:function(d){d=a(d);this.insertBefore(d);d.remove();return this},replaceWith:function(d){var e=this;if(d.nodeType||d.dom||typeof d=="string"){d=c(d);e.dom.parentNode.insertBefore(d,e.dom)}else{d=b.insertBefore(e.dom,d)}delete Ext.elCache[e.id];Ext.removeNode(e.dom);e.id=Ext.id(e.dom=d);Ext.Element.addToCache(e.isFlyweight?new Ext.Element(e.dom):e);return e},createChild:function(e,d,g){e=e||{tag:"div"};return d?b.insertBefore(d,e,g!==true):b[!this.dom.firstChild?"overwrite":"append"](this.dom,e,g!==true)},wrap:function(d,e){var g=b.insertBefore(this.dom,d||{tag:"div"},!e);g.dom?g.dom.appendChild(this.dom):g.appendChild(this.dom);return g},insertHtml:function(e,g,d){var h=b.insertHtml(e,this.dom,g);return d?Ext.get(h):h}}}());
Ext.apply(Ext.Element.prototype,function(){var c=Ext.getDom,a=Ext.get,b=Ext.DomHelper;return{insertSibling:function(i,g,h){var j=this,e,d=(g||"before").toLowerCase()=="after",k;if(Ext.isArray(i)){k=j;Ext.each(i,function(l){e=Ext.fly(k,"_internal").insertSibling(l,g,h);if(d){k=e}});return e}i=i||{};if(i.nodeType||i.dom){e=j.dom.parentNode.insertBefore(c(i),d?j.dom.nextSibling:j.dom);if(!h){e=a(e)}}else{if(d&&!j.dom.nextSibling){e=b.append(j.dom.parentNode,i,!h)}else{e=b[d?"insertAfter":"insertBefore"](j.dom,i,!h)}}return e}}}());
Ext.Element.addMethods(function(){var i={},z=/(-[a-z])/gi,c={},t=document.defaultView,w=Ext.isIE?"styleFloat":"cssFloat",E=/alpha\(opacity=(.*)\)/i,m=/^\s+|\s+$/g,v=/\s+/,b=/\w/g,C=Ext.Element,e="padding",d="margin",A="border",u="-left",r="-right",y="-top",p="-bottom",k="-width",s=Math,B="hidden",g="isClipped",l="overflow",o="overflow-x",n="overflow-y",D="originalClip",j={l:A+u+k,r:A+r+k,t:A+y+k,b:A+p+k},h={l:e+u,r:e+r,t:e+y,b:e+p},a={l:d+u,r:d+r,t:d+y,b:d+p},F=Ext.Element.data;function q(G,H){return H.charAt(1).toUpperCase()}function x(G){return i[G]||(i[G]=G=="float"?w:G.replace(z,q))}return{adjustWidth:function(G){var H=this;var I=(typeof G=="number");if(I&&H.autoBoxAdjust&&!H.isBorderBox()){G-=(H.getBorderWidth("lr")+H.getPadding("lr"))}return(I&&G<0)?0:G},adjustHeight:function(G){var H=this;var I=(typeof G=="number");if(I&&H.autoBoxAdjust&&!H.isBorderBox()){G-=(H.getBorderWidth("tb")+H.getPadding("tb"))}return(I&&G<0)?0:G},addClass:function(K){var L=this,J,G,I,H=[];if(!Ext.isArray(K)){if(typeof K=="string"&&!this.hasClass(K)){L.dom.className+=" "+K}}else{for(J=0,G=K.length;J<G;J++){I=K[J];if(typeof I=="string"&&(" "+L.dom.className+" ").indexOf(" "+I+" ")==-1){H.push(I)}}if(H.length){L.dom.className+=" "+H.join(" ")}}return L},removeClass:function(L){var M=this,K,H,G,J,I;if(!Ext.isArray(L)){L=[L]}if(M.dom&&M.dom.className){I=M.dom.className.replace(m,"").split(v);for(K=0,G=L.length;K<G;K++){J=L[K];if(typeof J=="string"){J=J.replace(m,"");H=I.indexOf(J);if(H!=-1){I.splice(H,1)}}}M.dom.className=I.join(" ")}return M},radioClass:function(J){var K=this.dom.parentNode.childNodes,H,I,G;J=Ext.isArray(J)?J:[J];for(I=0,G=K.length;I<G;I++){H=K[I];if(H&&H.nodeType==1){Ext.fly(H,"_internal").removeClass(J)}}return this.addClass(J)},toggleClass:function(G){return this.hasClass(G)?this.removeClass(G):this.addClass(G)},hasClass:function(G){return G&&(" "+this.dom.className+" ").indexOf(" "+G+" ")!=-1},replaceClass:function(H,G){return this.removeClass(H).addClass(G)},isStyle:function(G,H){return this.getStyle(G)==H},getStyle:function(){return t&&t.getComputedStyle?function(M){var J=this.dom,G,I,H,K,L=Ext.isWebKit,K;if(J==document){return null}M=x(M);if(L&&/marginRight/.test(M)){K=this.getStyle("display");J.style.display="inline-block"}H=(G=J.style[M])?G:(I=t.getComputedStyle(J,""))?I[M]:null;if(L){if(H=="rgba(0, 0, 0, 0)"){H="transparent"}else{if(K){J.style.display=K}}}return H}:function(K){var I=this.dom,G,H;if(I==document){return null}if(K=="opacity"){if(I.style.filter.match){if(G=I.style.filter.match(E)){var J=parseFloat(G[1]);if(!isNaN(J)){return J?J/100:0}}}return 1}K=x(K);return I.style[K]||((H=I.currentStyle)?H[K]:null)}}(),getColor:function(G,H,L){var J=this.getStyle(G),I=(typeof L!="undefined")?L:"#",K;if(!J||/transparent|inherit/.test(J)){return H}if(/^r/.test(J)){Ext.each(J.slice(4,J.length-1).split(","),function(M){K=parseInt(M,10);I+=(K<16?"0":"")+K.toString(16)})}else{J=J.replace("#","");I+=J.length==3?J.replace(/^(\w)(\w)(\w)$/,"$1$1$2$2$3$3"):J}return(I.length>5?I.toLowerCase():H)},setStyle:function(K,J){var H,I,G;if(typeof K!="object"){H={};H[K]=J;K=H}for(I in K){J=K[I];I=="opacity"?this.setOpacity(J):this.dom.style[x(I)]=J}return this},setOpacity:function(H,G){var K=this,I=K.dom.style;if(!G||!K.anim){if(Ext.isIE){var J=H<1?"alpha(opacity="+H*100+")":"",L=I.filter.replace(E,"").replace(m,"");I.zoom=1;I.filter=L+(L.length>0?" ":"")+J}else{I.opacity=H}}else{K.anim({opacity:{to:H}},K.preanim(arguments,1),null,0.35,"easeIn")}return K},clearOpacity:function(){var G=this.dom.style;if(Ext.isIE){if(!Ext.isEmpty(G.filter)){G.filter=G.filter.replace(E,"").replace(m,"")}}else{G.opacity=G["-moz-opacity"]=G["-khtml-opacity"]=""}return this},getHeight:function(I){var H=this,K=H.dom,J=Ext.isIE&&H.isStyle("display","none"),G=s.max(K.offsetHeight,J?0:K.clientHeight)||0;G=!I?G:G-H.getBorderWidth("tb")-H.getPadding("tb");return G<0?0:G},getWidth:function(H){var I=this,K=I.dom,J=Ext.isIE&&I.isStyle("display","none"),G=s.max(K.offsetWidth,J?0:K.clientWidth)||0;G=!H?G:G-I.getBorderWidth("lr")-I.getPadding("lr");return G<0?0:G},setWidth:function(H,G){var I=this;H=I.adjustWidth(H);!G||!I.anim?I.dom.style.width=I.addUnits(H):I.anim({width:{to:H}},I.preanim(arguments,1));return I},setHeight:function(G,H){var I=this;G=I.adjustHeight(G);!H||!I.anim?I.dom.style.height=I.addUnits(G):I.anim({height:{to:G}},I.preanim(arguments,1));return I},getBorderWidth:function(G){return this.addStyles(G,j)},getPadding:function(G){return this.addStyles(G,h)},clip:function(){var G=this,H=G.dom;if(!F(H,g)){F(H,g,true);F(H,D,{o:G.getStyle(l),x:G.getStyle(o),y:G.getStyle(n)});G.setStyle(l,B);G.setStyle(o,B);G.setStyle(n,B)}return G},unclip:function(){var G=this,I=G.dom;if(F(I,g)){F(I,g,false);var H=F(I,D);if(H.o){G.setStyle(l,H.o)}if(H.x){G.setStyle(o,H.x)}if(H.y){G.setStyle(n,H.y)}}return G},addStyles:function(N,M){var K=0,L=N.match(b),J,I,H,G=L.length;for(H=0;H<G;H++){J=L[H];I=J&&parseInt(this.getStyle(M[J]),10);if(I){K+=s.abs(I)}}return K},margins:a}}());
Ext.Element.boxMarkup='<div class="{0}-tl"><div class="{0}-tr"><div class="{0}-tc"></div></div></div><div class="{0}-ml"><div class="{0}-mr"><div class="{0}-mc"></div></div></div><div class="{0}-bl"><div class="{0}-br"><div class="{0}-bc"></div></div></div>';Ext.Element.addMethods(function(){var a="_internal",b=/(\d+\.?\d+)px/;return{applyStyles:function(c){Ext.DomHelper.applyStyles(this.dom,c);return this},getStyles:function(){var c={};Ext.each(arguments,function(d){c[d]=this.getStyle(d)},this);return c},setOverflow:function(c){var d=this.dom;if(c=="auto"&&Ext.isMac&&Ext.isGecko2){d.style.overflow="hidden";(function(){d.style.overflow="auto"}).defer(1)}else{d.style.overflow=c}},boxWrap:function(c){c=c||"x-box";var d=Ext.get(this.insertHtml("beforeBegin","<div class='"+c+"'>"+String.format(Ext.Element.boxMarkup,c)+"</div>"));Ext.DomQuery.selectNode("."+c+"-mc",d.dom).appendChild(this.dom);return d},setSize:function(e,c,d){var g=this;if(typeof e=="object"){c=e.height;e=e.width}e=g.adjustWidth(e);c=g.adjustHeight(c);if(!d||!g.anim){g.dom.style.width=g.addUnits(e);g.dom.style.height=g.addUnits(c)}else{g.anim({width:{to:e},height:{to:c}},g.preanim(arguments,2))}return g},getComputedHeight:function(){var d=this,c=Math.max(d.dom.offsetHeight,d.dom.clientHeight);if(!c){c=parseFloat(d.getStyle("height"))||0;if(!d.isBorderBox()){c+=d.getFrameWidth("tb")}}return c},getComputedWidth:function(){var c=Math.max(this.dom.offsetWidth,this.dom.clientWidth);if(!c){c=parseFloat(this.getStyle("width"))||0;if(!this.isBorderBox()){c+=this.getFrameWidth("lr")}}return c},getFrameWidth:function(d,c){return c&&this.isBorderBox()?0:(this.getPadding(d)+this.getBorderWidth(d))},addClassOnOver:function(c){this.hover(function(){Ext.fly(this,a).addClass(c)},function(){Ext.fly(this,a).removeClass(c)});return this},addClassOnFocus:function(c){this.on("focus",function(){Ext.fly(this,a).addClass(c)},this.dom);this.on("blur",function(){Ext.fly(this,a).removeClass(c)},this.dom);return this},addClassOnClick:function(c){var d=this.dom;this.on("mousedown",function(){Ext.fly(d,a).addClass(c);var g=Ext.getDoc(),e=function(){Ext.fly(d,a).removeClass(c);g.removeListener("mouseup",e)};g.on("mouseup",e)});return this},getViewSize:function(){var g=document,h=this.dom,c=(h==g||h==g.body);if(c){var e=Ext.lib.Dom;return{width:e.getViewWidth(),height:e.getViewHeight()}}else{return{width:h.clientWidth,height:h.clientHeight}}},getStyleSize:function(){var j=this,c,i,l=document,m=this.dom,e=(m==l||m==l.body),g=m.style;if(e){var k=Ext.lib.Dom;return{width:k.getViewWidth(),height:k.getViewHeight()}}if(g.width&&g.width!="auto"){c=parseFloat(g.width);if(j.isBorderBox()){c-=j.getFrameWidth("lr")}}if(g.height&&g.height!="auto"){i=parseFloat(g.height);if(j.isBorderBox()){i-=j.getFrameWidth("tb")}}return{width:c||j.getWidth(true),height:i||j.getHeight(true)}},getSize:function(c){return{width:this.getWidth(c),height:this.getHeight(c)}},repaint:function(){var c=this.dom;this.addClass("x-repaint");setTimeout(function(){Ext.fly(c).removeClass("x-repaint")},1);return this},unselectable:function(){this.dom.unselectable="on";return this.swallowEvent("selectstart",true).applyStyles("-moz-user-select:none;-khtml-user-select:none;").addClass("x-unselectable")},getMargins:function(d){var e=this,c,g={t:"top",l:"left",r:"right",b:"bottom"},h={};if(!d){for(c in e.margins){h[g[c]]=parseFloat(e.getStyle(e.margins[c]))||0}return h}else{return e.addStyles.call(e,d,e.margins)}}}}());
(function(){var a=Ext.lib.Dom,b="left",g="right",d="top",i="bottom",h="position",c="static",e="relative",j="auto",k="z-index";Ext.Element.addMethods({getX:function(){return a.getX(this.dom)},getY:function(){return a.getY(this.dom)},getXY:function(){return a.getXY(this.dom)},getOffsetsTo:function(l){var n=this.getXY(),m=Ext.fly(l,"_internal").getXY();return[n[0]-m[0],n[1]-m[1]]},setX:function(l,m){return this.setXY([l,this.getY()],this.animTest(arguments,m,1))},setY:function(m,l){return this.setXY([this.getX(),m],this.animTest(arguments,l,1))},setLeft:function(l){this.setStyle(b,this.addUnits(l));return this},setTop:function(l){this.setStyle(d,this.addUnits(l));return this},setRight:function(l){this.setStyle(g,this.addUnits(l));return this},setBottom:function(l){this.setStyle(i,this.addUnits(l));return this},setXY:function(n,l){var m=this;if(!l||!m.anim){a.setXY(m.dom,n)}else{m.anim({points:{to:n}},m.preanim(arguments,1),"motion")}return m},setLocation:function(l,n,m){return this.setXY([l,n],this.animTest(arguments,m,2))},moveTo:function(l,n,m){return this.setXY([l,n],this.animTest(arguments,m,2))},getLeft:function(l){return !l?this.getX():parseInt(this.getStyle(b),10)||0},getRight:function(l){var m=this;return !l?m.getX()+m.getWidth():(m.getLeft(true)+m.getWidth())||0},getTop:function(l){return !l?this.getY():parseInt(this.getStyle(d),10)||0},getBottom:function(l){var m=this;return !l?m.getY()+m.getHeight():(m.getTop(true)+m.getHeight())||0},position:function(p,o,l,n){var m=this;if(!p&&m.isStyle(h,c)){m.setStyle(h,e)}else{if(p){m.setStyle(h,p)}}if(o){m.setStyle(k,o)}if(l||n){m.setXY([l||false,n||false])}},clearPositioning:function(l){l=l||"";this.setStyle({left:l,right:l,top:l,bottom:l,"z-index":"",position:c});return this},getPositioning:function(){var m=this.getStyle(b);var n=this.getStyle(d);return{position:this.getStyle(h),left:m,right:m?"":this.getStyle(g),top:n,bottom:n?"":this.getStyle(i),"z-index":this.getStyle(k)}},setPositioning:function(l){var n=this,m=n.dom.style;n.setStyle(l);if(l.right==j){m.right=""}if(l.bottom==j){m.bottom=""}return n},translatePoints:function(m,u){u=isNaN(m[1])?u:m[1];m=isNaN(m[0])?m:m[0];var q=this,r=q.isStyle(h,e),s=q.getXY(),n=parseInt(q.getStyle(b),10),p=parseInt(q.getStyle(d),10);n=!isNaN(n)?n:(r?0:q.dom.offsetLeft);p=!isNaN(p)?p:(r?0:q.dom.offsetTop);return{left:(m-s[0]+n),top:(u-s[1]+p)}},animTest:function(m,l,n){return !!l&&this.preanim?this.preanim(m,n):false}})})();
Ext.Element.addMethods({setBox:function(e,g,b){var d=this,a=e.width,c=e.height;if((g&&!d.autoBoxAdjust)&&!d.isBorderBox()){a-=(d.getBorderWidth("lr")+d.getPadding("lr"));c-=(d.getBorderWidth("tb")+d.getPadding("tb"))}d.setBounds(e.x,e.y,a,c,d.animTest.call(d,arguments,b,2));return d},getBox:function(j,p){var m=this,v,e,o,d=m.getBorderWidth,q=m.getPadding,g,a,u,n;if(!p){v=m.getXY()}else{e=parseInt(m.getStyle("left"),10)||0;o=parseInt(m.getStyle("top"),10)||0;v=[e,o]}var c=m.dom,s=c.offsetWidth,i=c.offsetHeight,k;if(!j){k={x:v[0],y:v[1],0:v[0],1:v[1],width:s,height:i}}else{g=d.call(m,"l")+q.call(m,"l");a=d.call(m,"r")+q.call(m,"r");u=d.call(m,"t")+q.call(m,"t");n=d.call(m,"b")+q.call(m,"b");k={x:v[0]+g,y:v[1]+u,0:v[0]+g,1:v[1]+u,width:s-(g+a),height:i-(u+n)}}k.right=k.x+k.width;k.bottom=k.y+k.height;return k},move:function(j,b,c){var g=this,m=g.getXY(),k=m[0],i=m[1],d=[k-b,i],l=[k+b,i],h=[k,i-b],a=[k,i+b],e={l:d,left:d,r:l,right:l,t:h,top:h,up:h,b:a,bottom:a,down:a};j=j.toLowerCase();g.moveTo(e[j][0],e[j][1],g.animTest.call(g,arguments,c,2))},setLeftTop:function(d,c){var b=this,a=b.dom.style;a.left=b.addUnits(d);a.top=b.addUnits(c);return b},getRegion:function(){return Ext.lib.Dom.getRegion(this.dom)},setBounds:function(b,g,d,a,c){var e=this;if(!c||!e.anim){e.setSize(d,a);e.setLocation(b,g)}else{e.anim({points:{to:[b,g]},width:{to:e.adjustWidth(d)},height:{to:e.adjustHeight(a)}},e.preanim(arguments,4),"motion")}return e},setRegion:function(b,a){return this.setBounds(b.left,b.top,b.right-b.left,b.bottom-b.top,this.animTest.call(this,arguments,a,1))}});
Ext.Element.addMethods({isScrollable:function(){var a=this.dom;return a.scrollHeight>a.clientHeight||a.scrollWidth>a.clientWidth},scrollTo:function(a,b){this.dom["scroll"+(/top/i.test(a)?"Top":"Left")]=b;return this},getScroll:function(){var i=this.dom,h=document,a=h.body,c=h.documentElement,b,g,e;if(i==h||i==a){if(Ext.isIE&&Ext.isStrict){b=c.scrollLeft;g=c.scrollTop}else{b=window.pageXOffset;g=window.pageYOffset}e={left:b||(a?a.scrollLeft:0),top:g||(a?a.scrollTop:0)}}else{e={left:i.scrollLeft,top:i.scrollTop}}return e}});
Ext.Element.addMethods({scrollTo:function(b,d,a){var e=/top/i.test(b),c=this,g=c.dom,h;if(!a||!c.anim){h="scroll"+(e?"Top":"Left"),g[h]=d}else{h="scroll"+(e?"Left":"Top"),c.anim({scroll:{to:e?[g[h],d]:[d,g[h]]}},c.preanim(arguments,2),"scroll")}return c},scrollIntoView:function(e,i){var p=Ext.getDom(e)||Ext.getBody().dom,h=this.dom,g=this.getOffsetsTo(p),k=g[0]+p.scrollLeft,u=g[1]+p.scrollTop,q=u+h.offsetHeight,d=k+h.offsetWidth,a=p.clientHeight,m=parseInt(p.scrollTop,10),s=parseInt(p.scrollLeft,10),j=m+a,n=s+p.clientWidth;if(h.offsetHeight>a||u<m){p.scrollTop=u}else{if(q>j){p.scrollTop=q-a}}p.scrollTop=p.scrollTop;if(i!==false){if(h.offsetWidth>p.clientWidth||k<s){p.scrollLeft=k}else{if(d>n){p.scrollLeft=d-p.clientWidth}}p.scrollLeft=p.scrollLeft}return this},scrollChildIntoView:function(b,a){Ext.fly(b,"_scrollChildIntoView").scrollIntoView(this,a)},scroll:function(m,b,d){if(!this.isScrollable()){return}var e=this.dom,g=e.scrollLeft,p=e.scrollTop,n=e.scrollWidth,k=e.scrollHeight,i=e.clientWidth,a=e.clientHeight,c=false,o,j={l:Math.min(g+b,n-i),r:o=Math.max(g-b,0),t:Math.max(p-b,0),b:Math.min(p+b,k-a)};j.d=j.b;j.u=j.t;m=m.substr(0,1);if((o=j[m])>-1){c=true;this.scrollTo(m=="l"||m=="r"?"left":"top",o,this.preanim(arguments,2))}return c}});
Ext.Element.VISIBILITY=1;Ext.Element.DISPLAY=2;Ext.Element.addMethods(function(){var h="visibility",d="display",b="hidden",k="offsets",j="none",a="originalDisplay",c="visibilityMode",e=Ext.Element.DISPLAY,g=Ext.Element.data,i=function(n){var m=g(n,a);if(m===undefined){g(n,a,m="")}return m},l=function(o){var n=g(o,c);if(n===undefined){g(o,c,n=1)}return n};return{originalDisplay:"",visibilityMode:1,setVisibilityMode:function(m){g(this.dom,c,m);return this},animate:function(n,p,o,q,m){this.anim(n,{duration:p,callback:o,easing:q},m);return this},anim:function(p,q,n,s,o,m){n=n||"run";q=q||{};var r=this,t=Ext.lib.Anim[n](r.dom,p,(q.duration||s)||0.35,(q.easing||o)||"easeOut",function(){if(m){m.call(r)}if(q.callback){q.callback.call(q.scope||r,r,q)}},r);q.anim=t;return t},preanim:function(m,n){return !m[n]?false:(typeof m[n]=="object"?m[n]:{duration:m[n+1],callback:m[n+2],easing:m[n+3]})},isVisible:function(){return !this.isStyle(h,b)&&!this.isStyle(d,j)},setVisible:function(r,o){var p=this,n,m,s,q=p.dom;if(typeof o=="string"){n=o==d;m=o==h;s=o==k;o=false}else{n=l(this.dom)==e;m=!n}if(!o||!p.anim){if(n){p.setDisplayed(r)}else{if(s){if(!r){p.hideModeStyles={position:p.getStyle("position"),top:p.getStyle("top"),left:p.getStyle("left")};p.applyStyles({position:"absolute",top:"-10000px",left:"-10000px"})}else{p.applyStyles(p.hideModeStyles||{position:"",top:"",left:""})}}else{p.fixDisplay();q.style.visibility=r?"visible":b}}}else{if(r){p.setOpacity(0.01);p.setVisible(true)}p.anim({opacity:{to:(r?1:0)}},p.preanim(arguments,1),null,0.35,"easeIn",function(){if(!r){q.style[n?d:h]=(n)?j:b;Ext.fly(q).setOpacity(1)}})}return p},toggle:function(m){var n=this;n.setVisible(!n.isVisible(),n.preanim(arguments,0));return n},setDisplayed:function(m){if(typeof m=="boolean"){m=m?i(this.dom):j}this.setStyle(d,m);return this},fixDisplay:function(){var m=this;if(m.isStyle(d,j)){m.setStyle(h,b);m.setStyle(d,i(this.dom));if(m.isStyle(d,j)){m.setStyle(d,"block")}}},hide:function(m){if(typeof m=="string"){this.setVisible(false,m);return this}this.setVisible(false,this.preanim(arguments,0));return this},show:function(m){if(typeof m=="string"){this.setVisible(true,m);return this}this.setVisible(true,this.preanim(arguments,0));return this}}}());
Ext.Element.addMethods(function(){var d="visibility",b="display",a="hidden",h="none",c="x-masked",g="x-masked-relative",e=Ext.Element.data;return{isVisible:function(i){var j=!this.isStyle(d,a)&&!this.isStyle(b,h),k=this.dom.parentNode;if(i!==true||!j){return j}while(k&&!/^body/i.test(k.tagName)){if(!Ext.fly(k,"_isVisible").isVisible()){return false}k=k.parentNode}return true},isDisplayed:function(){return !this.isStyle(b,h)},enableDisplayMode:function(i){this.setVisibilityMode(Ext.Element.DISPLAY);if(!Ext.isEmpty(i)){e(this.dom,"originalDisplay",i)}return this},mask:function(j,n){var p=this,l=p.dom,o=Ext.DomHelper,m="ext-el-mask-msg",i,q;if(!/^body/i.test(l.tagName)&&p.getStyle("position")=="static"){p.addClass(g)}if((i=e(l,"maskMsg"))){i.remove()}if((i=e(l,"mask"))){i.remove()}q=o.append(l,{cls:"ext-el-mask"},true);e(l,"mask",q);p.addClass(c);q.setDisplayed(true);if(typeof j=="string"){var k=o.append(l,{cls:m,cn:{tag:"div"}},true);e(l,"maskMsg",k);k.dom.className=n?m+" "+n:m;k.dom.firstChild.innerHTML=j;k.setDisplayed(true);k.center(p)}if(Ext.isIE&&!(Ext.isIE7&&Ext.isStrict)&&p.getStyle("height")=="auto"){q.setSize(undefined,p.getHeight())}return q},unmask:function(){var k=this,l=k.dom,i=e(l,"mask"),j=e(l,"maskMsg");if(i){if(j){j.remove();e(l,"maskMsg",undefined)}i.remove();e(l,"mask",undefined)}k.removeClass([c,g])},isMasked:function(){var i=e(this.dom,"mask");return i&&i.isVisible()},createShim:function(){var i=document.createElement("iframe"),j;i.frameBorder="0";i.className="ext-shim";i.src=Ext.SSL_SECURE_URL;j=Ext.get(this.dom.parentNode.insertBefore(i,this.dom));j.autoBoxAdjust=false;return j}}}());
Ext.Element.addMethods({addKeyListener:function(b,d,c){var a;if(typeof b!="object"||Ext.isArray(b)){a={key:b,fn:d,scope:c}}else{a={key:b.key,shift:b.shift,ctrl:b.ctrl,alt:b.alt,fn:d,scope:c}}return new Ext.KeyMap(this,a)},addKeyMap:function(a){return new Ext.KeyMap(this,a)}});
(function(){var y=null,A=undefined,k=true,t=false,j="setX",h="setY",a="setXY",n="left",l="bottom",s="top",m="right",q="height",g="width",i="points",w="hidden",z="absolute",u="visible",e="motion",o="position",r="easeOut",d=new Ext.Element.Flyweight(),v={},x=function(B){return B||{}},p=function(B){d.dom=B;d.id=Ext.id(B);return d},c=function(B){if(!v[B]){v[B]=[]}return v[B]},b=function(C,B){v[C]=B};Ext.enableFx=k;Ext.Fx={switchStatements:function(C,D,B){return D.apply(this,B[C])},slideIn:function(H,E){E=x(E);var J=this,G=J.dom,M=G.style,O,B,L,D,C,M,I,N,K,F;H=H||"t";J.queueFx(E,function(){O=p(G).getXY();p(G).fixDisplay();B=p(G).getFxRestore();L={x:O[0],y:O[1],0:O[0],1:O[1],width:G.offsetWidth,height:G.offsetHeight};L.right=L.x+L.width;L.bottom=L.y+L.height;p(G).setWidth(L.width).setHeight(L.height);D=p(G).fxWrap(B.pos,E,w);M.visibility=u;M.position=z;function P(){p(G).fxUnwrap(D,B.pos,E);M.width=B.width;M.height=B.height;p(G).afterFx(E)}N={to:[L.x,L.y]};K={to:L.width};F={to:L.height};function Q(U,R,V,S,X,Z,ac,ab,aa,W,T){var Y={};p(U).setWidth(V).setHeight(S);if(p(U)[X]){p(U)[X](Z)}R[ac]=R[ab]="0";if(aa){Y.width=aa}if(W){Y.height=W}if(T){Y.points=T}return Y}I=p(G).switchStatements(H.toLowerCase(),Q,{t:[D,M,L.width,0,y,y,n,l,y,F,y],l:[D,M,0,L.height,y,y,m,s,K,y,y],r:[D,M,L.width,L.height,j,L.right,n,s,y,y,N],b:[D,M,L.width,L.height,h,L.bottom,n,s,y,F,N],tl:[D,M,0,0,y,y,m,l,K,F,N],bl:[D,M,0,0,h,L.y+L.height,m,s,K,F,N],br:[D,M,0,0,a,[L.right,L.bottom],n,s,K,F,N],tr:[D,M,0,0,j,L.x+L.width,n,l,K,F,N]});M.visibility=u;p(D).show();arguments.callee.anim=p(D).fxanim(I,E,e,0.5,r,P)});return J},slideOut:function(F,D){D=x(D);var H=this,E=H.dom,K=E.style,L=H.getXY(),C,B,I,J,G={to:0};F=F||"t";H.queueFx(D,function(){B=p(E).getFxRestore();I={x:L[0],y:L[1],0:L[0],1:L[1],width:E.offsetWidth,height:E.offsetHeight};I.right=I.x+I.width;I.bottom=I.y+I.height;p(E).setWidth(I.width).setHeight(I.height);C=p(E).fxWrap(B.pos,D,u);K.visibility=u;K.position=z;p(C).setWidth(I.width).setHeight(I.height);function M(){D.useDisplay?p(E).setDisplayed(t):p(E).hide();p(E).fxUnwrap(C,B.pos,D);K.width=B.width;K.height=B.height;p(E).afterFx(D)}function N(O,W,U,X,S,V,R,T,Q){var P={};O[W]=O[U]="0";P[X]=S;if(V){P[V]=R}if(T){P[T]=Q}return P}J=p(E).switchStatements(F.toLowerCase(),N,{t:[K,n,l,q,G],l:[K,m,s,g,G],r:[K,n,s,g,G,i,{to:[I.right,I.y]}],b:[K,n,s,q,G,i,{to:[I.x,I.bottom]}],tl:[K,m,l,g,G,q,G],bl:[K,m,s,g,G,q,G,i,{to:[I.x,I.bottom]}],br:[K,n,s,g,G,q,G,i,{to:[I.x+I.width,I.bottom]}],tr:[K,n,l,g,G,q,G,i,{to:[I.right,I.y]}]});arguments.callee.anim=p(C).fxanim(J,D,e,0.5,r,M)});return H},puff:function(H){H=x(H);var F=this,G=F.dom,C=G.style,D,B,E;F.queueFx(H,function(){D=p(G).getWidth();B=p(G).getHeight();p(G).clearOpacity();p(G).show();E=p(G).getFxRestore();function I(){H.useDisplay?p(G).setDisplayed(t):p(G).hide();p(G).clearOpacity();p(G).setPositioning(E.pos);C.width=E.width;C.height=E.height;C.fontSize="";p(G).afterFx(H)}arguments.callee.anim=p(G).fxanim({width:{to:p(G).adjustWidth(D*2)},height:{to:p(G).adjustHeight(B*2)},points:{by:[-D*0.5,-B*0.5]},opacity:{to:0},fontSize:{to:200,unit:"%"}},H,e,0.5,r,I)});return F},switchOff:function(F){F=x(F);var D=this,E=D.dom,B=E.style,C;D.queueFx(F,function(){p(E).clearOpacity();p(E).clip();C=p(E).getFxRestore();function G(){F.useDisplay?p(E).setDisplayed(t):p(E).hide();p(E).clearOpacity();p(E).setPositioning(C.pos);B.width=C.width;B.height=C.height;p(E).afterFx(F)}p(E).fxanim({opacity:{to:0.3}},y,y,0.1,y,function(){p(E).clearOpacity();(function(){p(E).fxanim({height:{to:1},points:{by:[0,p(E).getHeight()*0.5]}},F,e,0.3,"easeIn",G)}).defer(100)})});return D},highlight:function(D,H){H=x(H);var F=this,G=F.dom,B=H.attr||"backgroundColor",C={},E;F.queueFx(H,function(){p(G).clearOpacity();p(G).show();function I(){G.style[B]=E;p(G).afterFx(H)}E=G.style[B];C[B]={from:D||"ffff9c",to:H.endColor||p(G).getColor(B)||"ffffff"};arguments.callee.anim=p(G).fxanim(C,H,"color",1,"easeIn",I)});return F},frame:function(B,E,H){H=x(H);var D=this,G=D.dom,C,F;D.queueFx(H,function(){B=B||"#C3DAF9";if(B.length==6){B="#"+B}E=E||1;p(G).show();var L=p(G).getXY(),J={x:L[0],y:L[1],0:L[0],1:L[1],width:G.offsetWidth,height:G.offsetHeight},I=function(){C=p(document.body||document.documentElement).createChild({style:{position:z,"z-index":35000,border:"0px solid "+B}});return C.queueFx({},K)};arguments.callee.anim={isAnimated:true,stop:function(){E=0;C.stopFx()}};function K(){var M=Ext.isBorderBox?2:1;F=C.anim({top:{from:J.y,to:J.y-20},left:{from:J.x,to:J.x-20},borderWidth:{from:0,to:10},opacity:{from:1,to:0},height:{from:J.height,to:J.height+20*M},width:{from:J.width,to:J.width+20*M}},{duration:H.duration||1,callback:function(){C.remove();--E>0?I():p(G).afterFx(H)}});arguments.callee.anim={isAnimated:true,stop:function(){F.stop()}}}I()});return D},pause:function(D){var C=this.dom,B;this.queueFx({},function(){B=setTimeout(function(){p(C).afterFx({})},D*1000);arguments.callee.anim={isAnimated:true,stop:function(){clearTimeout(B);p(C).afterFx({})}}});return this},fadeIn:function(D){D=x(D);var B=this,C=B.dom,E=D.endOpacity||1;B.queueFx(D,function(){p(C).setOpacity(0);p(C).fixDisplay();C.style.visibility=u;arguments.callee.anim=p(C).fxanim({opacity:{to:E}},D,y,0.5,r,function(){if(E==1){p(C).clearOpacity()}p(C).afterFx(D)})});return B},fadeOut:function(E){E=x(E);var C=this,D=C.dom,B=D.style,F=E.endOpacity||0;C.queueFx(E,function(){arguments.callee.anim=p(D).fxanim({opacity:{to:F}},E,y,0.5,r,function(){if(F==0){Ext.Element.data(D,"visibilityMode")==Ext.Element.DISPLAY||E.useDisplay?B.display="none":B.visibility=w;p(D).clearOpacity()}p(D).afterFx(E)})});return C},scale:function(B,C,D){this.shift(Ext.apply({},D,{width:B,height:C}));return this},shift:function(D){D=x(D);var C=this.dom,B={};this.queueFx(D,function(){for(var E in D){if(D[E]!=A){B[E]={to:D[E]}}}B.width?B.width.to=p(C).adjustWidth(D.width):B;B.height?B.height.to=p(C).adjustWidth(D.height):B;if(B.x||B.y||B.xy){B.points=B.xy||{to:[B.x?B.x.to:p(C).getX(),B.y?B.y.to:p(C).getY()]}}arguments.callee.anim=p(C).fxanim(B,D,e,0.35,r,function(){p(C).afterFx(D)})});return this},ghost:function(E,C){C=x(C);var G=this,D=G.dom,J=D.style,H={opacity:{to:0},points:{}},K=H.points,B,I,F;E=E||"b";G.queueFx(C,function(){B=p(D).getFxRestore();I=p(D).getWidth();F=p(D).getHeight();function L(){C.useDisplay?p(D).setDisplayed(t):p(D).hide();p(D).clearOpacity();p(D).setPositioning(B.pos);J.width=B.width;J.height=B.height;p(D).afterFx(C)}K.by=p(D).switchStatements(E.toLowerCase(),function(N,M){return[N,M]},{t:[0,-F],l:[-I,0],r:[I,0],b:[0,F],tl:[-I,-F],bl:[-I,F],br:[I,F],tr:[I,-F]});arguments.callee.anim=p(D).fxanim(H,C,e,0.5,r,L)});return G},syncFx:function(){var B=this;B.fxDefaults=Ext.apply(B.fxDefaults||{},{block:t,concurrent:k,stopFx:t});return B},sequenceFx:function(){var B=this;B.fxDefaults=Ext.apply(B.fxDefaults||{},{block:t,concurrent:t,stopFx:t});return B},nextFx:function(){var B=c(this.dom.id)[0];if(B){B.call(this)}},hasActiveFx:function(){return c(this.dom.id)[0]},stopFx:function(B){var C=this,E=C.dom.id;if(C.hasActiveFx()){var D=c(E)[0];if(D&&D.anim){if(D.anim.isAnimated){b(E,[D]);D.anim.stop(B!==undefined?B:k)}else{b(E,[])}}}return C},beforeFx:function(B){if(this.hasActiveFx()&&!B.concurrent){if(B.stopFx){this.stopFx();return k}return t}return k},hasFxBlock:function(){var B=c(this.dom.id);return B&&B[0]&&B[0].block},queueFx:function(E,B){var C=p(this.dom);if(!C.hasFxBlock()){Ext.applyIf(E,C.fxDefaults);if(!E.concurrent){var D=C.beforeFx(E);B.block=E.block;c(C.dom.id).push(B);if(D){C.nextFx()}}else{B.call(C)}}return C},fxWrap:function(H,F,D){var E=this.dom,C,B;if(!F.wrap||!(C=Ext.getDom(F.wrap))){if(F.fixPosition){B=p(E).getXY()}var G=document.createElement("div");G.style.visibility=D;C=E.parentNode.insertBefore(G,E);p(C).setPositioning(H);if(p(C).isStyle(o,"static")){p(C).position("relative")}p(E).clearPositioning("auto");p(C).clip();C.appendChild(E);if(B){p(C).setXY(B)}}return C},fxUnwrap:function(C,F,E){var D=this.dom;p(D).clearPositioning();p(D).setPositioning(F);if(!E.wrap){var B=p(C).dom.parentNode;B.insertBefore(D,C);p(C).remove()}},getFxRestore:function(){var B=this.dom.style;return{pos:this.getPositioning(),width:B.width,height:B.height}},afterFx:function(C){var B=this.dom,D=B.id;if(C.afterStyle){p(B).setStyle(C.afterStyle)}if(C.afterCls){p(B).addClass(C.afterCls)}if(C.remove==k){p(B).remove()}if(C.callback){C.callback.call(C.scope,p(B))}if(!C.concurrent){c(D).shift();p(B).nextFx()}},fxanim:function(E,F,C,G,D,B){C=C||"run";F=F||{};var H=Ext.lib.Anim[C](this.dom,E,(F.duration||G)||0.35,(F.easing||D)||r,B,this);F.anim=H;return H}};Ext.Fx.resize=Ext.Fx.scale;Ext.Element.addMethods(Ext.Fx)})();
Ext.CompositeElementLite=function(b,a){this.elements=[];this.add(b,a);this.el=new Ext.Element.Flyweight()};Ext.CompositeElementLite.prototype={isComposite:true,getElement:function(a){var b=this.el;b.dom=a;b.id=a.id;return b},transformElement:function(a){return Ext.getDom(a)},getCount:function(){return this.elements.length},add:function(d,b){var e=this,g=e.elements;if(!d){return this}if(typeof d=="string"){d=Ext.Element.selectorFunction(d,b)}else{if(d.isComposite){d=d.elements}else{if(!Ext.isIterable(d)){d=[d]}}}for(var c=0,a=d.length;c<a;++c){g.push(e.transformElement(d[c]))}return e},invoke:function(g,b){var h=this,d=h.elements,a=d.length,j,c;for(c=0;c<a;c++){j=d[c];if(j){Ext.Element.prototype[g].apply(h.getElement(j),b)}}return h},item:function(b){var d=this,c=d.elements[b],a=null;if(c){a=d.getElement(c)}return a},addListener:function(b,j,h,g){var d=this.elements,a=d.length,c,k;for(c=0;c<a;c++){k=d[c];if(k){Ext.EventManager.on(k,b,j,h||k,g)}}return this},each:function(g,d){var h=this,c=h.elements,a=c.length,b,j;for(b=0;b<a;b++){j=c[b];if(j){j=this.getElement(j);if(g.call(d||j,j,h,b)===false){break}}}return h},fill:function(a){var b=this;b.elements=[];b.add(a);return b},filter:function(a){var b=[],d=this,e=d.elements,c=Ext.isFunction(a)?a:function(g){return g.is(a)};d.each(function(j,g,h){if(c(j,h)!==false){b[b.length]=d.transformElement(j)}});d.elements=b;return d},indexOf:function(a){return this.elements.indexOf(this.transformElement(a))},replaceElement:function(e,c,a){var b=!isNaN(e)?e:this.indexOf(e),g;if(b>-1){c=Ext.getDom(c);if(a){g=this.elements[b];g.parentNode.insertBefore(c,g);Ext.removeNode(g)}this.elements.splice(b,1,c)}return this},clear:function(){this.elements=[]}};Ext.CompositeElementLite.prototype.on=Ext.CompositeElementLite.prototype.addListener;(function(){var c,b=Ext.Element.prototype,a=Ext.CompositeElementLite.prototype;for(c in b){if(Ext.isFunction(b[c])){(function(d){a[d]=a[d]||function(){return this.invoke(d,arguments)}}).call(a,c)}}})();if(Ext.DomQuery){Ext.Element.selectorFunction=Ext.DomQuery.select}Ext.Element.select=function(a,b){var c;if(typeof a=="string"){c=Ext.Element.selectorFunction(a,b)}else{if(a.length!==undefined){c=a}else{throw"Invalid selector"}}return new Ext.CompositeElementLite(c)};Ext.select=Ext.Element.select;
Ext.apply(Ext.CompositeElementLite.prototype,{addElements:function(c,a){if(!c){return this}if(typeof c=="string"){c=Ext.Element.selectorFunction(c,a)}var b=this.elements;Ext.each(c,function(d){b.push(Ext.get(d))});return this},first:function(){return this.item(0)},last:function(){return this.item(this.getCount()-1)},contains:function(a){return this.indexOf(a)!=-1},removeElement:function(d,e){var c=this,a=this.elements,b;Ext.each(d,function(g){if((b=(a[g]||a[g=c.indexOf(g)]))){if(e){if(b.dom){b.remove()}else{Ext.removeNode(b)}}a.splice(g,1)}});return this}});
Ext.CompositeElement=Ext.extend(Ext.CompositeElementLite,{constructor:function(b,a){this.elements=[];this.add(b,a)},getElement:function(a){return a},transformElement:function(a){return Ext.get(a)}});Ext.Element.select=function(a,d,b){var c;if(typeof a=="string"){c=Ext.Element.selectorFunction(a,b)}else{if(a.length!==undefined){c=a}else{throw"Invalid selector"}}return(d===true)?new Ext.CompositeElement(c):new Ext.CompositeElementLite(c)};Ext.select=Ext.Element.select;
(function(){var b="beforerequest",e="requestcomplete",d="requestexception",h=undefined,c="load",i="POST",a="GET",g=window;Ext.data.Connection=function(j){Ext.apply(this,j);this.addEvents(b,e,d);Ext.data.Connection.superclass.constructor.call(this)};Ext.extend(Ext.data.Connection,Ext.util.Observable,{timeout:30000,autoAbort:false,disableCaching:true,disableCachingParam:"_dc",request:function(n){var s=this;if(s.fireEvent(b,s,n)){if(n.el){if(!Ext.isEmpty(n.indicatorText)){s.indicatorText='<div class="loading-indicator">'+n.indicatorText+"</div>"}if(s.indicatorText){Ext.getDom(n.el).innerHTML=s.indicatorText}n.success=(Ext.isFunction(n.success)?n.success:function(){}).createInterceptor(function(o){Ext.getDom(n.el).innerHTML=o.responseText})}var l=n.params,k=n.url||s.url,j,q={success:s.handleResponse,failure:s.handleFailure,scope:s,argument:{options:n},timeout:n.timeout||s.timeout},m,t;if(Ext.isFunction(l)){l=l.call(n.scope||g,n)}l=Ext.urlEncode(s.extraParams,Ext.isObject(l)?Ext.urlEncode(l):l);if(Ext.isFunction(k)){k=k.call(n.scope||g,n)}if((m=Ext.getDom(n.form))){k=k||m.action;if(n.isUpload||/multipart\/form-data/i.test(m.getAttribute("enctype"))){return s.doFormUpload.call(s,n,l,k)}t=Ext.lib.Ajax.serializeForm(m);l=l?(l+"&"+t):t}j=n.method||s.method||((l||n.xmlData||n.jsonData)?i:a);if(j===a&&(s.disableCaching&&n.disableCaching!==false)||n.disableCaching===true){var r=n.disableCachingParam||s.disableCachingParam;k=Ext.urlAppend(k,r+"="+(new Date().getTime()))}n.headers=Ext.apply(n.headers||{},s.defaultHeaders||{});if(n.autoAbort===true||s.autoAbort){s.abort()}if((j==a||n.xmlData||n.jsonData)&&l){k=Ext.urlAppend(k,l);l=""}return(s.transId=Ext.lib.Ajax.request(j,k,q,l,n))}else{return n.callback?n.callback.apply(n.scope,[n,h,h]):null}},isLoading:function(j){return j?Ext.lib.Ajax.isCallInProgress(j):!!this.transId},abort:function(j){if(j||this.isLoading()){Ext.lib.Ajax.abort(j||this.transId)}},handleResponse:function(j){this.transId=false;var k=j.argument.options;j.argument=k?k.argument:null;this.fireEvent(e,this,j,k);if(k.success){k.success.call(k.scope,j,k)}if(k.callback){k.callback.call(k.scope,k,true,j)}},handleFailure:function(j,l){this.transId=false;var k=j.argument.options;j.argument=k?k.argument:null;this.fireEvent(d,this,j,k,l);if(k.failure){k.failure.call(k.scope,j,k)}if(k.callback){k.callback.call(k.scope,k,false,j)}},doFormUpload:function(q,j,k){var l=Ext.id(),v=document,r=v.createElement("iframe"),m=Ext.getDom(q.form),u=[],t,p="multipart/form-data",n={target:m.target,method:m.method,encoding:m.encoding,enctype:m.enctype,action:m.action};Ext.fly(r).set({id:l,name:l,cls:"x-hidden",src:Ext.SSL_SECURE_URL});v.body.appendChild(r);if(Ext.isIE){document.frames[l].name=l}Ext.fly(m).set({target:l,method:i,enctype:p,encoding:p,action:k||n.action});Ext.iterate(Ext.urlDecode(j,false),function(w,o){t=v.createElement("input");Ext.fly(t).set({type:"hidden",value:o,name:w});m.appendChild(t);u.push(t)});function s(){var x=this,w={responseText:"",responseXML:null,argument:q.argument},A,z;try{A=r.contentWindow.document||r.contentDocument||g.frames[l].document;if(A){if(A.body){if(/textarea/i.test((z=A.body.firstChild||{}).tagName)){w.responseText=z.value}else{w.responseText=A.body.innerHTML}}w.responseXML=A.XMLDocument||A}}catch(y){}Ext.EventManager.removeListener(r,c,s,x);x.fireEvent(e,x,w,q);function o(D,C,B){if(Ext.isFunction(D)){D.apply(C,B)}}o(q.success,q.scope,[w,q]);o(q.callback,q.scope,[q,true,w]);if(!x.debugUploads){setTimeout(function(){Ext.removeNode(r)},100)}}Ext.EventManager.on(r,c,s,this);m.submit();Ext.fly(m).set(n);Ext.each(u,function(o){Ext.removeNode(o)})}})})();Ext.Ajax=new Ext.data.Connection({autoAbort:false,serializeForm:function(a){return Ext.lib.Ajax.serializeForm(a)}});
Ext.UpdateManager=Ext.Updater=Ext.extend(Ext.util.Observable,function(){var b="beforeupdate",d="update",c="failure";function a(h){var i=this;i.transaction=null;if(h.argument.form&&h.argument.reset){try{h.argument.form.reset()}catch(j){}}if(i.loadScripts){i.renderer.render(i.el,h,i,g.createDelegate(i,[h]))}else{i.renderer.render(i.el,h,i);g.call(i,h)}}function g(h,i,j){this.fireEvent(i||d,this.el,h);if(Ext.isFunction(h.argument.callback)){h.argument.callback.call(h.argument.scope,this.el,Ext.isEmpty(j)?true:false,h,h.argument.options)}}function e(h){g.call(this,h,c,!!(this.transaction=null))}return{constructor:function(i,h){var j=this;i=Ext.get(i);if(!h&&i.updateManager){return i.updateManager}j.el=i;j.defaultUrl=null;j.addEvents(b,d,c);Ext.apply(j,Ext.Updater.defaults);j.transaction=null;j.refreshDelegate=j.refresh.createDelegate(j);j.updateDelegate=j.update.createDelegate(j);j.formUpdateDelegate=(j.formUpdate||function(){}).createDelegate(j);j.renderer=j.renderer||j.getDefaultRenderer();Ext.Updater.superclass.constructor.call(j)},setRenderer:function(h){this.renderer=h},getRenderer:function(){return this.renderer},getDefaultRenderer:function(){return new Ext.Updater.BasicRenderer()},setDefaultUrl:function(h){this.defaultUrl=h},getEl:function(){return this.el},update:function(i,n,p,l){var k=this,h,j;if(k.fireEvent(b,k.el,i,n)!==false){if(Ext.isObject(i)){h=i;i=h.url;n=n||h.params;p=p||h.callback;l=l||h.discardUrl;j=h.scope;if(!Ext.isEmpty(h.nocache)){k.disableCaching=h.nocache}if(!Ext.isEmpty(h.text)){k.indicatorText='<div class="loading-indicator">'+h.text+"</div>"}if(!Ext.isEmpty(h.scripts)){k.loadScripts=h.scripts}if(!Ext.isEmpty(h.timeout)){k.timeout=h.timeout}}k.showLoading();if(!l){k.defaultUrl=i}if(Ext.isFunction(i)){i=i.call(k)}var m=Ext.apply({},{url:i,params:(Ext.isFunction(n)&&j)?n.createDelegate(j):n,success:a,failure:e,scope:k,callback:undefined,timeout:(k.timeout*1000),disableCaching:k.disableCaching,argument:{options:h,url:i,form:null,callback:p,scope:j||window,params:n}},h);k.transaction=Ext.Ajax.request(m)}},formUpdate:function(k,h,j,l){var i=this;if(i.fireEvent(b,i.el,k,h)!==false){if(Ext.isFunction(h)){h=h.call(i)}k=Ext.getDom(k);i.transaction=Ext.Ajax.request({form:k,url:h,success:a,failure:e,scope:i,timeout:(i.timeout*1000),argument:{url:h,form:k,callback:l,reset:j}});i.showLoading.defer(1,i)}},startAutoRefresh:function(i,j,l,m,h){var k=this;if(h){k.update(j||k.defaultUrl,l,m,true)}if(k.autoRefreshProcId){clearInterval(k.autoRefreshProcId)}k.autoRefreshProcId=setInterval(k.update.createDelegate(k,[j||k.defaultUrl,l,m,true]),i*1000)},stopAutoRefresh:function(){if(this.autoRefreshProcId){clearInterval(this.autoRefreshProcId);delete this.autoRefreshProcId}},isAutoRefreshing:function(){return !!this.autoRefreshProcId},showLoading:function(){if(this.showLoadIndicator){this.el.dom.innerHTML=this.indicatorText}},abort:function(){if(this.transaction){Ext.Ajax.abort(this.transaction)}},isUpdating:function(){return this.transaction?Ext.Ajax.isLoading(this.transaction):false},refresh:function(h){if(this.defaultUrl){this.update(this.defaultUrl,null,h,true)}}}}());Ext.Updater.defaults={timeout:30,disableCaching:false,showLoadIndicator:true,indicatorText:'<div class="loading-indicator">Loading...</div>',loadScripts:false,sslBlankUrl:Ext.SSL_SECURE_URL};Ext.Updater.updateElement=function(d,c,e,b){var a=Ext.get(d).getUpdater();Ext.apply(a,b);a.update(c,e,b?b.callback:null)};Ext.Updater.BasicRenderer=function(){};Ext.Updater.BasicRenderer.prototype={render:function(c,a,b,d){c.update(a.responseText,b.loadScripts,d)}};
(function(){Date.useStrict=false;function b(d){var c=Array.prototype.slice.call(arguments,1);return d.replace(/\{(\d+)\}/g,function(e,g){return c[g]})}Date.formatCodeToRegex=function(d,c){var e=Date.parseCodes[d];if(e){e=typeof e=="function"?e():e;Date.parseCodes[d]=e}return e?Ext.applyIf({c:e.c?b(e.c,c||"{0}"):e.c},e):{g:0,c:null,s:Ext.escapeRe(d)}};var a=Date.formatCodeToRegex;Ext.apply(Date,{parseFunctions:{"M$":function(d,c){var e=new RegExp("\\/Date\\(([-+])?(\\d+)(?:[+-]\\d{4})?\\)\\/");var g=(d||"").match(e);return g?new Date(((g[1]||"")+g[2])*1):null}},parseRegexes:[],formatFunctions:{"M$":function(){return"\\/Date("+this.getTime()+")\\/"}},y2kYear:50,MILLI:"ms",SECOND:"s",MINUTE:"mi",HOUR:"h",DAY:"d",MONTH:"mo",YEAR:"y",defaults:{},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNumbers:{Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},getShortMonthName:function(c){return Date.monthNames[c].substring(0,3)},getShortDayName:function(c){return Date.dayNames[c].substring(0,3)},getMonthNumber:function(c){return Date.monthNumbers[c.substring(0,1).toUpperCase()+c.substring(1,3).toLowerCase()]},formatCodes:{d:"String.leftPad(this.getDate(), 2, '0')",D:"Date.getShortDayName(this.getDay())",j:"this.getDate()",l:"Date.dayNames[this.getDay()]",N:"(this.getDay() ? this.getDay() : 7)",S:"this.getSuffix()",w:"this.getDay()",z:"this.getDayOfYear()",W:"String.leftPad(this.getWeekOfYear(), 2, '0')",F:"Date.monthNames[this.getMonth()]",m:"String.leftPad(this.getMonth() + 1, 2, '0')",M:"Date.getShortMonthName(this.getMonth())",n:"(this.getMonth() + 1)",t:"this.getDaysInMonth()",L:"(this.isLeapYear() ? 1 : 0)",o:"(this.getFullYear() + (this.getWeekOfYear() == 1 && this.getMonth() > 0 ? +1 : (this.getWeekOfYear() >= 52 && this.getMonth() < 11 ? -1 : 0)))",Y:"this.getFullYear()",y:"('' + this.getFullYear()).substring(2, 4)",a:"(this.getHours() < 12 ? 'am' : 'pm')",A:"(this.getHours() < 12 ? 'AM' : 'PM')",g:"((this.getHours() % 12) ? this.getHours() % 12 : 12)",G:"this.getHours()",h:"String.leftPad((this.getHours() % 12) ? this.getHours() % 12 : 12, 2, '0')",H:"String.leftPad(this.getHours(), 2, '0')",i:"String.leftPad(this.getMinutes(), 2, '0')",s:"String.leftPad(this.getSeconds(), 2, '0')",u:"String.leftPad(this.getMilliseconds(), 3, '0')",O:"this.getGMTOffset()",P:"this.getGMTOffset(true)",T:"this.getTimezone()",Z:"(this.getTimezoneOffset() * -60)",c:function(){for(var k="Y-m-dTH:i:sP",h=[],g=0,d=k.length;g<d;++g){var j=k.charAt(g);h.push(j=="T"?"'T'":Date.getFormatCode(j))}return h.join(" + ")},U:"Math.round(this.getTime() / 1000)"},isValid:function(o,c,n,k,g,j,e){k=k||0;g=g||0;j=j||0;e=e||0;var l=new Date(o,c-1,n,k,g,j,e);return o==l.getFullYear()&&c==l.getMonth()+1&&n==l.getDate()&&k==l.getHours()&&g==l.getMinutes()&&j==l.getSeconds()&&e==l.getMilliseconds()},parseDate:function(d,g,c){var e=Date.parseFunctions;if(e[g]==null){Date.createParser(g)}return e[g](d,Ext.isDefined(c)?c:Date.useStrict)},getFormatCode:function(d){var c=Date.formatCodes[d];if(c){c=typeof c=="function"?c():c;Date.formatCodes[d]=c}return c||("'"+String.escape(d)+"'")},createFormat:function(h){var g=[],c=false,e="";for(var d=0;d<h.length;++d){e=h.charAt(d);if(!c&&e=="\\"){c=true}else{if(c){c=false;g.push("'"+String.escape(e)+"'")}else{g.push(Date.getFormatCode(e))}}}Date.formatFunctions[h]=new Function("return "+g.join("+"))},createParser:function(){var c=["var dt, y, m, d, h, i, s, ms, o, z, zz, u, v,","def = Date.defaults,","results = String(input).match(Date.parseRegexes[{0}]);","if(results){","{1}","if(u != null){","v = new Date(u * 1000);","}else{","dt = (new Date()).clearTime();","y = Ext.num(y, Ext.num(def.y, dt.getFullYear()));","m = Ext.num(m, Ext.num(def.m - 1, dt.getMonth()));","d = Ext.num(d, Ext.num(def.d, dt.getDate()));","h  = Ext.num(h, Ext.num(def.h, dt.getHours()));","i  = Ext.num(i, Ext.num(def.i, dt.getMinutes()));","s  = Ext.num(s, Ext.num(def.s, dt.getSeconds()));","ms = Ext.num(ms, Ext.num(def.ms, dt.getMilliseconds()));","if(z >= 0 && y >= 0){","v = new Date(y, 0, 1, h, i, s, ms);","v = !strict? v : (strict === true && (z <= 364 || (v.isLeapYear() && z <= 365))? v.add(Date.DAY, z) : null);","}else if(strict === true && !Date.isValid(y, m + 1, d, h, i, s, ms)){","v = null;","}else{","v = new Date(y, m, d, h, i, s, ms);","}","}","}","if(v){","if(zz != null){","v = v.add(Date.SECOND, -v.getTimezoneOffset() * 60 - zz);","}else if(o){","v = v.add(Date.MINUTE, -v.getTimezoneOffset() + (sn == '+'? -1 : 1) * (hr * 60 + mn));","}","}","return v;"].join("\n");return function(m){var e=Date.parseRegexes.length,n=1,g=[],l=[],k=false,d="";for(var j=0;j<m.length;++j){d=m.charAt(j);if(!k&&d=="\\"){k=true}else{if(k){k=false;l.push(String.escape(d))}else{var h=a(d,n);n+=h.g;l.push(h.s);if(h.g&&h.c){g.push(h.c)}}}}Date.parseRegexes[e]=new RegExp("^"+l.join("")+"$");Date.parseFunctions[m]=new Function("input","strict",b(c,e,g.join("")))}}(),parseCodes:{d:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},j:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(\\d{1,2})"},D:function(){for(var c=[],d=0;d<7;c.push(Date.getShortDayName(d)),++d){}return{g:0,c:null,s:"(?:"+c.join("|")+")"}},l:function(){return{g:0,c:null,s:"(?:"+Date.dayNames.join("|")+")"}},N:{g:0,c:null,s:"[1-7]"},S:{g:0,c:null,s:"(?:st|nd|rd|th)"},w:{g:0,c:null,s:"[0-6]"},z:{g:1,c:"z = parseInt(results[{0}], 10);\n",s:"(\\d{1,3})"},W:{g:0,c:null,s:"(?:\\d{2})"},F:function(){return{g:1,c:"m = parseInt(Date.getMonthNumber(results[{0}]), 10);\n",s:"("+Date.monthNames.join("|")+")"}},M:function(){for(var c=[],d=0;d<12;c.push(Date.getShortMonthName(d)),++d){}return Ext.applyIf({s:"("+c.join("|")+")"},a("F"))},m:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(\\d{2})"},n:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(\\d{1,2})"},t:{g:0,c:null,s:"(?:\\d{2})"},L:{g:0,c:null,s:"(?:1|0)"},o:function(){return a("Y")},Y:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},y:{g:1,c:"var ty = parseInt(results[{0}], 10);\ny = ty > Date.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{1,2})"},a:{g:1,c:"if (results[{0}] == 'am') {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(am|pm)"},A:{g:1,c:"if (results[{0}] == 'AM') {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(AM|PM)"},g:function(){return a("G")},G:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(\\d{1,2})"},h:function(){return a("H")},H:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},i:{g:1,c:"i = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},s:{g:1,c:"s = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},u:{g:1,c:"ms = results[{0}]; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n",s:"(\\d+)"},O:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(3,5) / 60),","mn = o.substring(3,5) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + String.leftPad(hr, 2, '0') + String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{4})"},P:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(4,6) / 60),","mn = o.substring(4,6) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + String.leftPad(hr, 2, '0') + String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{2}:\\d{2})"},T:{g:0,c:null,s:"[A-Z]{1,4}"},Z:{g:1,c:"zz = results[{0}] * 1;\nzz = (-43200 <= zz && zz <= 50400)? zz : null;\n",s:"([+-]?\\d{1,5})"},c:function(){var e=[],c=[a("Y",1),a("m",2),a("d",3),a("h",4),a("i",5),a("s",6),{c:"ms = results[7] || '0'; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n"},{c:["if(results[8]) {","if(results[8] == 'Z'){","zz = 0;","}else if (results[8].indexOf(':') > -1){",a("P",8).c,"}else{",a("O",8).c,"}","}"].join("\n")}];for(var g=0,d=c.length;g<d;++g){e.push(c[g].c)}return{g:1,c:e.join(""),s:[c[0].s,"(?:","-",c[1].s,"(?:","-",c[2].s,"(?:","(?:T| )?",c[3].s,":",c[4].s,"(?::",c[5].s,")?","(?:(?:\\.|,)(\\d+))?","(Z|(?:[-+]\\d{2}(?::)?\\d{2}))?",")?",")?",")?"].join("")}},U:{g:1,c:"u = parseInt(results[{0}], 10);\n",s:"(-?\\d+)"}}})}());Ext.apply(Date.prototype,{dateFormat:function(a){if(Date.formatFunctions[a]==null){Date.createFormat(a)}return Date.formatFunctions[a].call(this)},getTimezone:function(){return this.toString().replace(/^.* (?:\((.*)\)|([A-Z]{1,4})(?:[\-+][0-9]{4})?(?: -?\d+)?)$/,"$1$2").replace(/[^A-Z]/g,"")},getGMTOffset:function(a){return(this.getTimezoneOffset()>0?"-":"+")+String.leftPad(Math.floor(Math.abs(this.getTimezoneOffset())/60),2,"0")+(a?":":"")+String.leftPad(Math.abs(this.getTimezoneOffset()%60),2,"0")},getDayOfYear:function(){var b=0,e=this.clone(),a=this.getMonth(),c;for(c=0,e.setDate(1),e.setMonth(0);c<a;e.setMonth(++c)){b+=e.getDaysInMonth()}return b+this.getDate()-1},getWeekOfYear:function(){var a=86400000,b=7*a;return function(){var d=Date.UTC(this.getFullYear(),this.getMonth(),this.getDate()+3)/a,c=Math.floor(d/7),e=new Date(c*b).getUTCFullYear();return c-Math.floor(Date.UTC(e,0,7)/b)+1}}(),isLeapYear:function(){var a=this.getFullYear();return !!((a&3)==0&&(a%100||(a%400==0&&a)))},getFirstDayOfMonth:function(){var a=(this.getDay()-(this.getDate()-1))%7;return(a<0)?(a+7):a},getLastDayOfMonth:function(){return this.getLastDateOfMonth().getDay()},getFirstDateOfMonth:function(){return new Date(this.getFullYear(),this.getMonth(),1)},getLastDateOfMonth:function(){return new Date(this.getFullYear(),this.getMonth(),this.getDaysInMonth())},getDaysInMonth:function(){var a=[31,28,31,30,31,30,31,31,30,31,30,31];return function(){var b=this.getMonth();return b==1&&this.isLeapYear()?29:a[b]}}(),getSuffix:function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},clone:function(){return new Date(this.getTime())},isDST:function(){return new Date(this.getFullYear(),0,1).getTimezoneOffset()!=this.getTimezoneOffset()},clearTime:function(g){if(g){return this.clone().clearTime()}var b=this.getDate();this.setHours(0);this.setMinutes(0);this.setSeconds(0);this.setMilliseconds(0);if(this.getDate()!=b){for(var a=1,e=this.add(Date.HOUR,a);e.getDate()!=b;a++,e=this.add(Date.HOUR,a)){}this.setDate(b);this.setHours(e.getHours())}return this},add:function(b,c){var e=this.clone();if(!b||c===0){return e}switch(b.toLowerCase()){case Date.MILLI:e.setMilliseconds(this.getMilliseconds()+c);break;case Date.SECOND:e.setSeconds(this.getSeconds()+c);break;case Date.MINUTE:e.setMinutes(this.getMinutes()+c);break;case Date.HOUR:e.setHours(this.getHours()+c);break;case Date.DAY:e.setDate(this.getDate()+c);break;case Date.MONTH:var a=this.getDate();if(a>28){a=Math.min(a,this.getFirstDateOfMonth().add("mo",c).getLastDateOfMonth().getDate())}e.setDate(a);e.setMonth(this.getMonth()+c);break;case Date.YEAR:e.setFullYear(this.getFullYear()+c);break}return e},between:function(c,a){var b=this.getTime();return c.getTime()<=b&&b<=a.getTime()}});Date.prototype.format=Date.prototype.dateFormat;if(Ext.isSafari&&(navigator.userAgent.match(/WebKit\/(\d+)/)[1]||NaN)<420){Ext.apply(Date.prototype,{_xMonth:Date.prototype.setMonth,_xDate:Date.prototype.setDate,setMonth:function(a){if(a<=-1){var d=Math.ceil(-a),c=Math.ceil(d/12),b=(d%12)?12-d%12:0;this.setFullYear(this.getFullYear()-c);return this._xMonth(b)}else{return this._xMonth(a)}},setDate:function(a){return this.setTime(this.getTime()-(this.getDate()-a)*86400000)}});
}Ext.util.MixedCollection=function(b,a){this.items=[];this.map={};this.keys=[];this.length=0;this.addEvents("clear","add","replace","remove","sort");this.allowFunctions=b===true;if(a){this.getKey=a}Ext.util.MixedCollection.superclass.constructor.call(this)};Ext.extend(Ext.util.MixedCollection,Ext.util.Observable,{allowFunctions:false,add:function(b,c){if(arguments.length==1){c=arguments[0];b=this.getKey(c)}if(typeof b!="undefined"&&b!==null){var a=this.map[b];if(typeof a!="undefined"){return this.replace(b,c)}this.map[b]=c}this.length++;this.items.push(c);this.keys.push(b);this.fireEvent("add",this.length-1,c,b);return c},getKey:function(a){return a.id},replace:function(c,d){if(arguments.length==1){d=arguments[0];c=this.getKey(d)}var a=this.map[c];if(typeof c=="undefined"||c===null||typeof a=="undefined"){return this.add(c,d)}var b=this.indexOfKey(c);this.items[b]=d;this.map[c]=d;this.fireEvent("replace",c,a,d);return d},addAll:function(e){if(arguments.length>1||Ext.isArray(e)){var b=arguments.length>1?arguments:e;for(var d=0,a=b.length;d<a;d++){this.add(b[d])}}else{for(var c in e){if(this.allowFunctions||typeof e[c]!="function"){this.add(c,e[c])}}}},each:function(e,d){var b=[].concat(this.items);for(var c=0,a=b.length;c<a;c++){if(e.call(d||b[c],b[c],c,a)===false){break}}},eachKey:function(d,c){for(var b=0,a=this.keys.length;b<a;b++){d.call(c||window,this.keys[b],this.items[b],b,a)}},find:function(d,c){for(var b=0,a=this.items.length;b<a;b++){if(d.call(c||window,this.items[b],this.keys[b])){return this.items[b]}}return null},insert:function(a,b,c){if(arguments.length==2){c=arguments[1];b=this.getKey(c)}if(this.containsKey(b)){this.suspendEvents();this.removeKey(b);this.resumeEvents()}if(a>=this.length){return this.add(b,c)}this.length++;this.items.splice(a,0,c);if(typeof b!="undefined"&&b!==null){this.map[b]=c}this.keys.splice(a,0,b);this.fireEvent("add",a,c,b);return c},remove:function(a){return this.removeAt(this.indexOf(a))},removeAt:function(a){if(a<this.length&&a>=0){this.length--;var c=this.items[a];this.items.splice(a,1);var b=this.keys[a];if(typeof b!="undefined"){delete this.map[b]}this.keys.splice(a,1);this.fireEvent("remove",c,b);return c}return false},removeKey:function(a){return this.removeAt(this.indexOfKey(a))},getCount:function(){return this.length},indexOf:function(a){return this.items.indexOf(a)},indexOfKey:function(a){return this.keys.indexOf(a)},item:function(b){var a=this.map[b],c=a!==undefined?a:(typeof b=="number")?this.items[b]:undefined;return typeof c!="function"||this.allowFunctions?c:null},itemAt:function(a){return this.items[a]},key:function(a){return this.map[a]},contains:function(a){return this.indexOf(a)!=-1},containsKey:function(a){return typeof this.map[a]!="undefined"},clear:function(){this.length=0;this.items=[];this.keys=[];this.map={};this.fireEvent("clear")},first:function(){return this.items[0]},last:function(){return this.items[this.length-1]},_sort:function(k,a,j){var d,e,b=String(a).toUpperCase()=="DESC"?-1:1,h=[],l=this.keys,g=this.items;j=j||function(i,c){return i-c};for(d=0,e=g.length;d<e;d++){h[h.length]={key:l[d],value:g[d],index:d}}h.sort(function(i,c){var m=j(i[k],c[k])*b;if(m===0){m=(i.index<c.index?-1:1)}return m});for(d=0,e=h.length;d<e;d++){g[d]=h[d].value;l[d]=h[d].key}this.fireEvent("sort",this)},sort:function(a,b){this._sort("value",a,b)},reorder:function(d){this.suspendEvents();var b=this.items,c=0,g=b.length,a=[],e=[];for(oldIndex in d){a[d[oldIndex]]=b[oldIndex]}for(c=0;c<g;c++){if(d[c]==undefined){e.push(b[c])}}for(c=0;c<g;c++){if(a[c]==undefined){a[c]=e.shift()}}this.clear();this.addAll(a);this.resumeEvents();this.fireEvent("sort",this)},keySort:function(a,b){this._sort("key",a,b||function(d,c){var g=String(d).toUpperCase(),e=String(c).toUpperCase();return g>e?1:(g<e?-1:0)})},getRange:function(e,a){var b=this.items;if(b.length<1){return[]}e=e||0;a=Math.min(typeof a=="undefined"?this.length-1:a,this.length-1);var c,d=[];if(e<=a){for(c=e;c<=a;c++){d[d.length]=b[c]}}else{for(c=e;c>=a;c--){d[d.length]=b[c]}}return d},filter:function(c,b,d,a){if(Ext.isEmpty(b,false)){return this.clone()}b=this.createValueMatcher(b,d,a);return this.filterBy(function(e){return e&&b.test(e[c])})},filterBy:function(g,e){var h=new Ext.util.MixedCollection();h.getKey=this.getKey;var b=this.keys,d=this.items;for(var c=0,a=d.length;c<a;c++){if(g.call(e||this,d[c],b[c])){h.add(b[c],d[c])}}return h},findIndex:function(c,b,e,d,a){if(Ext.isEmpty(b,false)){return -1}b=this.createValueMatcher(b,d,a);return this.findIndexBy(function(g){return g&&b.test(g[c])},null,e)},findIndexBy:function(g,e,h){var b=this.keys,d=this.items;for(var c=(h||0),a=d.length;c<a;c++){if(g.call(e||this,d[c],b[c])){return c}}return -1},createValueMatcher:function(c,e,a,b){if(!c.exec){var d=Ext.escapeRe;c=String(c);if(e===true){c=d(c)}else{c="^"+d(c);if(b===true){c+="$"}}c=new RegExp(c,a?"":"i")}return c},clone:function(){var e=new Ext.util.MixedCollection();var b=this.keys,d=this.items;for(var c=0,a=d.length;c<a;c++){e.add(b[c],d[c])}e.getKey=this.getKey;return e}});Ext.util.MixedCollection.prototype.get=Ext.util.MixedCollection.prototype.item;
Ext.util.JSON=new (function(){var useHasOwn=!!{}.hasOwnProperty,isNative=function(){var useNative=null;return function(){if(useNative===null){useNative=Ext.USE_NATIVE_JSON&&window.JSON&&JSON.toString()=="[object JSON]"}return useNative}}(),pad=function(n){return n<10?"0"+n:n},doDecode=function(json){return eval("("+json+")")},doEncode=function(o){if(!Ext.isDefined(o)||o===null){return"null"}else{if(Ext.isArray(o)){return encodeArray(o)}else{if(Ext.isDate(o)){return Ext.util.JSON.encodeDate(o)}else{if(Ext.isString(o)){return encodeString(o)}else{if(typeof o=="number"){return isFinite(o)?String(o):"null"}else{if(Ext.isBoolean(o)){return String(o)}else{var a=["{"],b,i,v;for(i in o){if(!o.getElementsByTagName){if(!useHasOwn||o.hasOwnProperty(i)){v=o[i];switch(typeof v){case"undefined":case"function":case"unknown":break;default:if(b){a.push(",")}a.push(doEncode(i),":",v===null?"null":doEncode(v));b=true}}}}a.push("}");return a.join("")}}}}}}},m={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},encodeString=function(s){if(/["\\\x00-\x1f]/.test(s)){return'"'+s.replace(/([\x00-\x1f\\"])/g,function(a,b){var c=m[b];if(c){return c}c=b.charCodeAt();return"\\u00"+Math.floor(c/16).toString(16)+(c%16).toString(16)})+'"'}return'"'+s+'"'},encodeArray=function(o){var a=["["],b,i,l=o.length,v;for(i=0;i<l;i+=1){v=o[i];switch(typeof v){case"undefined":case"function":case"unknown":break;default:if(b){a.push(",")}a.push(v===null?"null":Ext.util.JSON.encode(v));b=true}}a.push("]");return a.join("")};this.encodeDate=function(o){return'"'+o.getFullYear()+"-"+pad(o.getMonth()+1)+"-"+pad(o.getDate())+"T"+pad(o.getHours())+":"+pad(o.getMinutes())+":"+pad(o.getSeconds())+'"'};this.encode=function(){var ec;return function(o){if(!ec){ec=isNative()?JSON.stringify:doEncode}return ec(o)}}();this.decode=function(){var dc;return function(json){if(!dc){dc=isNative()?JSON.parse:doDecode}return dc(json)}}()})();Ext.encode=Ext.util.JSON.encode;Ext.decode=Ext.util.JSON.decode;
Ext.util.Format=function(){var trimRe=/^\s+|\s+$/g,stripTagsRE=/<\/?[^>]+>/gi,stripScriptsRe=/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,nl2brRe=/\r?\n/g;return{ellipsis:function(value,len,word){if(value&&value.length>len){if(word){var vs=value.substr(0,len-2),index=Math.max(vs.lastIndexOf(" "),vs.lastIndexOf("."),vs.lastIndexOf("!"),vs.lastIndexOf("?"));if(index==-1||index<(len-15)){return value.substr(0,len-3)+"..."}else{return vs.substr(0,index)+"..."}}else{return value.substr(0,len-3)+"..."}}return value},undef:function(value){return value!==undefined?value:""},defaultValue:function(value,defaultValue){return value!==undefined&&value!==""?value:defaultValue},htmlEncode:function(value){return !value?value:String(value).replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")},htmlDecode:function(value){return !value?value:String(value).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&amp;/g,"&")},trim:function(value){return String(value).replace(trimRe,"")},substr:function(value,start,length){return String(value).substr(start,length)},lowercase:function(value){return String(value).toLowerCase()},uppercase:function(value){return String(value).toUpperCase()},capitalize:function(value){return !value?value:value.charAt(0).toUpperCase()+value.substr(1).toLowerCase()},call:function(value,fn){if(arguments.length>2){var args=Array.prototype.slice.call(arguments,2);args.unshift(value);return eval(fn).apply(window,args)}else{return eval(fn).call(window,value)}},usMoney:function(v){v=(Math.round((v-0)*100))/100;v=(v==Math.floor(v))?v+".00":((v*10==Math.floor(v*10))?v+"0":v);v=String(v);var ps=v.split("."),whole=ps[0],sub=ps[1]?"."+ps[1]:".00",r=/(\d+)(\d{3})/;while(r.test(whole)){whole=whole.replace(r,"$1,$2")}v=whole+sub;if(v.charAt(0)=="-"){return"-$"+v.substr(1)}return"$"+v},date:function(v,format){if(!v){return""}if(!Ext.isDate(v)){v=new Date(Date.parse(v))}return v.dateFormat(format||"m/d/Y")},dateRenderer:function(format){return function(v){return Ext.util.Format.date(v,format)}},stripTags:function(v){return !v?v:String(v).replace(stripTagsRE,"")},stripScripts:function(v){return !v?v:String(v).replace(stripScriptsRe,"")},fileSize:function(size){if(size<1024){return size+" bytes"}else{if(size<1048576){return(Math.round(((size*10)/1024))/10)+" KB"}else{return(Math.round(((size*10)/1048576))/10)+" MB"}}},math:function(){var fns={};return function(v,a){if(!fns[a]){fns[a]=new Function("v","return v "+a+";")}return fns[a](v)}}(),round:function(value,precision){var result=Number(value);if(typeof precision=="number"){precision=Math.pow(10,precision);result=Math.round(value*precision)/precision}return result},number:function(v,format){if(!format){return v}v=Ext.num(v,NaN);if(isNaN(v)){return""}var comma=",",dec=".",i18n=false,neg=v<0;v=Math.abs(v);if(format.substr(format.length-2)=="/i"){format=format.substr(0,format.length-2);i18n=true;comma=".";dec=","}var hasComma=format.indexOf(comma)!=-1,psplit=(i18n?format.replace(/[^\d\,]/g,""):format.replace(/[^\d\.]/g,"")).split(dec);if(1<psplit.length){v=v.toFixed(psplit[1].length)}else{if(2<psplit.length){throw ("NumberFormatException: invalid format, formats should have no more than 1 period: "+format)}else{v=v.toFixed(0)}}var fnum=v.toString();psplit=fnum.split(".");if(hasComma){var cnum=psplit[0],parr=[],j=cnum.length,m=Math.floor(j/3),n=cnum.length%3||3;for(var i=0;i<j;i+=n){if(i!=0){n=3}parr[parr.length]=cnum.substr(i,n);m-=1}fnum=parr.join(comma);if(psplit[1]){fnum+=dec+psplit[1]}}else{if(psplit[1]){fnum=psplit[0]+dec+psplit[1]}}return(neg?"-":"")+format.replace(/[\d,?\.?]+/,fnum)},numberRenderer:function(format){return function(v){return Ext.util.Format.number(v,format)}},plural:function(v,s,p){return v+" "+(v==1?s:(p?p:s+"s"))},nl2br:function(v){return Ext.isEmpty(v)?"":v.replace(nl2brRe,"<br/>")}}}();
Ext.XTemplate=function(){Ext.XTemplate.superclass.constructor.apply(this,arguments);var y=this,j=y.html,q=/<tpl\b[^>]*>((?:(?=([^<]+))\2|<(?!tpl\b[^>]*>))*?)<\/tpl>/,d=/^<tpl\b[^>]*?for="(.*?)"/,v=/^<tpl\b[^>]*?if="(.*?)"/,x=/^<tpl\b[^>]*?exec="(.*?)"/,r,p=0,k=[],o="values",w="parent",l="xindex",n="xcount",e="return ",c="with(values){ ";j=["<tpl>",j,"</tpl>"].join("");while((r=j.match(q))){var b=r[0].match(d),a=r[0].match(v),A=r[0].match(x),g=null,h=null,t=null,z=b&&b[1]?b[1]:"";if(a){g=a&&a[1]?a[1]:null;if(g){h=new Function(o,w,l,n,c+e+(Ext.util.Format.htmlDecode(g))+"; }")}}if(A){g=A&&A[1]?A[1]:null;if(g){t=new Function(o,w,l,n,c+(Ext.util.Format.htmlDecode(g))+"; }")}}if(z){switch(z){case".":z=new Function(o,w,c+e+o+"; }");break;case"..":z=new Function(o,w,c+e+w+"; }");break;default:z=new Function(o,w,c+e+z+"; }")}}k.push({id:p,target:z,exec:t,test:h,body:r[1]||""});j=j.replace(r[0],"{xtpl"+p+"}");++p}for(var u=k.length-1;u>=0;--u){y.compileTpl(k[u])}y.master=k[k.length-1];y.tpls=k};Ext.extend(Ext.XTemplate,Ext.Template,{re:/\{([\w-\.\#]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?(\s?[\+\-\*\\]\s?[\d\.\+\-\*\\\(\)]+)?\}/g,codeRe:/\{\[((?:\\\]|.|\n)*?)\]\}/g,applySubTemplate:function(a,k,j,d,c){var h=this,g,m=h.tpls[a],l,b=[];if((m.test&&!m.test.call(h,k,j,d,c))||(m.exec&&m.exec.call(h,k,j,d,c))){return""}l=m.target?m.target.call(h,k,j):k;g=l.length;j=m.target?k:j;if(m.target&&Ext.isArray(l)){for(var e=0,g=l.length;e<g;e++){b[b.length]=m.compiled.call(h,l[e],j,e+1,g)}return b.join("")}return m.compiled.call(h,l,j,d,c)},compileTpl:function(tpl){var fm=Ext.util.Format,useF=this.disableFormats!==true,sep=Ext.isGecko?"+":",",body;function fn(m,name,format,args,math){if(name.substr(0,4)=="xtpl"){return"'"+sep+"this.applySubTemplate("+name.substr(4)+", values, parent, xindex, xcount)"+sep+"'"}var v;if(name==="."){v="values"}else{if(name==="#"){v="xindex"}else{if(name.indexOf(".")!=-1){v=name}else{v="values['"+name+"']"}}}if(math){v="("+v+math+")"}if(format&&useF){args=args?","+args:"";if(format.substr(0,5)!="this."){format="fm."+format+"("}else{format='this.call("'+format.substr(5)+'", ';args=", values"}}else{args="";format="("+v+" === undefined ? '' : "}return"'"+sep+format+v+args+")"+sep+"'"}function codeFn(m,code){return"'"+sep+"("+code.replace(/\\'/g,"'")+")"+sep+"'"}if(Ext.isGecko){body="tpl.compiled = function(values, parent, xindex, xcount){ return '"+tpl.body.replace(/(\r\n|\n)/g,"\\n").replace(/'/g,"\\'").replace(this.re,fn).replace(this.codeRe,codeFn)+"';};"}else{body=["tpl.compiled = function(values, parent, xindex, xcount){ return ['"];body.push(tpl.body.replace(/(\r\n|\n)/g,"\\n").replace(/'/g,"\\'").replace(this.re,fn).replace(this.codeRe,codeFn));body.push("'].join('');};");body=body.join("")}eval(body);return this},applyTemplate:function(a){return this.master.compiled.call(this,a,{},1,1)},compile:function(){return this}});Ext.XTemplate.prototype.apply=Ext.XTemplate.prototype.applyTemplate;Ext.XTemplate.from=function(a){a=Ext.getDom(a);return new Ext.XTemplate(a.value||a.innerHTML)};
Ext.util.CSS=function(){var d=null;var c=document;var b=/(-[a-z])/gi;var a=function(e,g){return g.charAt(1).toUpperCase()};return{createStyleSheet:function(i,l){var h;var g=c.getElementsByTagName("head")[0];var k=c.createElement("style");k.setAttribute("type","text/css");if(l){k.setAttribute("id",l)}if(Ext.isIE){g.appendChild(k);h=k.styleSheet;h.cssText=i}else{try{k.appendChild(c.createTextNode(i))}catch(j){k.cssText=i}g.appendChild(k);h=k.styleSheet?k.styleSheet:(k.sheet||c.styleSheets[c.styleSheets.length-1])}this.cacheStyleSheet(h);return h},removeStyleSheet:function(g){var e=c.getElementById(g);if(e){e.parentNode.removeChild(e)}},swapStyleSheet:function(h,e){this.removeStyleSheet(h);var g=c.createElement("link");g.setAttribute("rel","stylesheet");g.setAttribute("type","text/css");g.setAttribute("id",h);g.setAttribute("href",e);c.getElementsByTagName("head")[0].appendChild(g)},refreshCache:function(){return this.getRules(true)},cacheStyleSheet:function(h){if(!d){d={}}try{var k=h.cssRules||h.rules;for(var g=k.length-1;g>=0;--g){d[k[g].selectorText.toLowerCase()]=k[g]}}catch(i){}},getRules:function(h){if(d===null||h){d={};var k=c.styleSheets;for(var j=0,g=k.length;j<g;j++){try{this.cacheStyleSheet(k[j])}catch(l){}}}return d},getRule:function(e,h){var g=this.getRules(h);if(!Ext.isArray(e)){return g[e.toLowerCase()]}for(var j=0;j<e.length;j++){if(g[e[j]]){return g[e[j].toLowerCase()]}}return null},updateRule:function(e,j,h){if(!Ext.isArray(e)){var k=this.getRule(e);if(k){k.style[j.replace(b,a)]=h;return true}}else{for(var g=0;g<e.length;g++){if(this.updateRule(e[g],j,h)){return true}}}return false}}}();
Ext.util.ClickRepeater=function(b,a){this.el=Ext.get(b);this.el.unselectable();Ext.apply(this,a);this.addEvents("mousedown","click","mouseup");if(!this.disabled){this.disabled=true;this.enable()}if(this.handler){this.on("click",this.handler,this.scope||this)}Ext.util.ClickRepeater.superclass.constructor.call(this)};Ext.extend(Ext.util.ClickRepeater,Ext.util.Observable,{interval:20,delay:250,preventDefault:true,stopDefault:false,timer:0,enable:function(){if(this.disabled){this.el.on("mousedown",this.handleMouseDown,this);if(Ext.isIE){this.el.on("dblclick",this.handleDblClick,this)}if(this.preventDefault||this.stopDefault){this.el.on("click",this.eventOptions,this)}}this.disabled=false},disable:function(a){if(a||!this.disabled){clearTimeout(this.timer);if(this.pressClass){this.el.removeClass(this.pressClass)}Ext.getDoc().un("mouseup",this.handleMouseUp,this);this.el.removeAllListeners()}this.disabled=true},setDisabled:function(a){this[a?"disable":"enable"]()},eventOptions:function(a){if(this.preventDefault){a.preventDefault()}if(this.stopDefault){a.stopEvent()}},destroy:function(){this.disable(true);Ext.destroy(this.el);this.purgeListeners()},handleDblClick:function(){clearTimeout(this.timer);this.el.blur();this.fireEvent("mousedown",this);this.fireEvent("click",this)},handleMouseDown:function(){clearTimeout(this.timer);this.el.blur();if(this.pressClass){this.el.addClass(this.pressClass)}this.mousedownTime=new Date();Ext.getDoc().on("mouseup",this.handleMouseUp,this);this.el.on("mouseout",this.handleMouseOut,this);this.fireEvent("mousedown",this);this.fireEvent("click",this);if(this.accelerate){this.delay=400}this.timer=this.click.defer(this.delay||this.interval,this)},click:function(){this.fireEvent("click",this);this.timer=this.click.defer(this.accelerate?this.easeOutExpo(this.mousedownTime.getElapsed(),400,-390,12000):this.interval,this)},easeOutExpo:function(e,a,h,g){return(e==g)?a+h:h*(-Math.pow(2,-10*e/g)+1)+a},handleMouseOut:function(){clearTimeout(this.timer);if(this.pressClass){this.el.removeClass(this.pressClass)}this.el.on("mouseover",this.handleMouseReturn,this)},handleMouseReturn:function(){this.el.un("mouseover",this.handleMouseReturn,this);if(this.pressClass){this.el.addClass(this.pressClass)}this.click()},handleMouseUp:function(){clearTimeout(this.timer);this.el.un("mouseover",this.handleMouseReturn,this);this.el.un("mouseout",this.handleMouseOut,this);Ext.getDoc().un("mouseup",this.handleMouseUp,this);this.el.removeClass(this.pressClass);this.fireEvent("mouseup",this)}});
Ext.KeyNav=function(b,a){this.el=Ext.get(b);Ext.apply(this,a);if(!this.disabled){this.disabled=true;this.enable()}};Ext.KeyNav.prototype={disabled:false,defaultEventAction:"stopEvent",forceKeyDown:false,relay:function(c){var a=c.getKey();var b=this.keyToHandler[a];if(b&&this[b]){if(this.doRelay(c,this[b],b)!==true){c[this.defaultEventAction]()}}},doRelay:function(c,b,a){return b.call(this.scope||this,c)},enter:false,left:false,right:false,up:false,down:false,tab:false,esc:false,pageUp:false,pageDown:false,del:false,home:false,end:false,keyToHandler:{37:"left",39:"right",38:"up",40:"down",33:"pageUp",34:"pageDown",46:"del",36:"home",35:"end",13:"enter",27:"esc",9:"tab"},stopKeyUp:function(b){var a=b.getKey();if(a>=37&&a<=40){b.stopEvent()}},destroy:function(){this.disable()},enable:function(){if(this.disabled){if(Ext.isSafari2){this.el.on("keyup",this.stopKeyUp,this)}this.el.on(this.isKeydown()?"keydown":"keypress",this.relay,this);this.disabled=false}},disable:function(){if(!this.disabled){if(Ext.isSafari2){this.el.un("keyup",this.stopKeyUp,this)}this.el.un(this.isKeydown()?"keydown":"keypress",this.relay,this);this.disabled=true}},setDisabled:function(a){this[a?"disable":"enable"]()},isKeydown:function(){return this.forceKeyDown||Ext.EventManager.useKeydown}};
Ext.KeyMap=function(c,b,a){this.el=Ext.get(c);this.eventName=a||"keydown";this.bindings=[];if(b){this.addBinding(b)}this.enable()};Ext.KeyMap.prototype={stopEvent:false,addBinding:function(b){if(Ext.isArray(b)){Ext.each(b,function(j){this.addBinding(j)},this);return}var k=b.key,g=b.fn||b.handler,l=b.scope;if(b.stopEvent){this.stopEvent=b.stopEvent}if(typeof k=="string"){var h=[];var e=k.toUpperCase();for(var c=0,d=e.length;c<d;c++){h.push(e.charCodeAt(c))}k=h}var a=Ext.isArray(k);var i=function(o){if(this.checkModifiers(b,o)){var m=o.getKey();if(a){for(var n=0,j=k.length;n<j;n++){if(k[n]==m){if(this.stopEvent){o.stopEvent()}g.call(l||window,m,o);return}}}else{if(m==k){if(this.stopEvent){o.stopEvent()}g.call(l||window,m,o)}}}};this.bindings.push(i)},checkModifiers:function(b,h){var j,d,g=["shift","ctrl","alt"];for(var c=0,a=g.length;c<a;++c){d=g[c];j=b[d];if(!(j===undefined||(j===h[d+"Key"]))){return false}}return true},on:function(b,d,c){var h,a,e,g;if(typeof b=="object"&&!Ext.isArray(b)){h=b.key;a=b.shift;e=b.ctrl;g=b.alt}else{h=b}this.addBinding({key:h,shift:a,ctrl:e,alt:g,fn:d,scope:c})},handleKeyDown:function(g){if(this.enabled){var c=this.bindings;for(var d=0,a=c.length;d<a;d++){c[d].call(this,g)}}},isEnabled:function(){return this.enabled},enable:function(){if(!this.enabled){this.el.on(this.eventName,this.handleKeyDown,this);this.enabled=true}},disable:function(){if(this.enabled){this.el.removeListener(this.eventName,this.handleKeyDown,this);this.enabled=false}},setDisabled:function(a){this[a?"disable":"enable"]()}};
Ext.util.TextMetrics=function(){var a;return{measure:function(b,c,d){if(!a){a=Ext.util.TextMetrics.Instance(b,d)}a.bind(b);a.setFixedWidth(d||"auto");return a.getSize(c)},createInstance:function(b,c){return Ext.util.TextMetrics.Instance(b,c)}}}();Ext.util.TextMetrics.Instance=function(b,d){var c=new Ext.Element(document.createElement("div"));document.body.appendChild(c.dom);c.position("absolute");c.setLeftTop(-1000,-1000);c.hide();if(d){c.setWidth(d)}var a={getSize:function(g){c.update(g);var e=c.getSize();c.update("");return e},bind:function(e){c.setStyle(Ext.fly(e).getStyles("font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"))},setFixedWidth:function(e){c.setWidth(e)},getWidth:function(e){c.dom.style.width="auto";return this.getSize(e).width},getHeight:function(e){return this.getSize(e).height}};a.bind(b);return a};Ext.Element.addMethods({getTextWidth:function(c,b,a){return(Ext.util.TextMetrics.measure(this.dom,Ext.value(c,this.dom.innerHTML,true)).width).constrain(b||0,a||1000000)}});
Ext.util.Cookies={set:function(c,e){var a=arguments;var i=arguments.length;var b=(i>2)?a[2]:null;var h=(i>3)?a[3]:"/";var d=(i>4)?a[4]:null;var g=(i>5)?a[5]:false;document.cookie=c+"="+escape(e)+((b===null)?"":("; expires="+b.toGMTString()))+((h===null)?"":("; path="+h))+((d===null)?"":("; domain="+d))+((g===true)?"; secure":"")},get:function(d){var b=d+"=";var g=b.length;var a=document.cookie.length;var e=0;var c=0;while(e<a){c=e+g;if(document.cookie.substring(e,c)==b){return Ext.util.Cookies.getCookieVal(c)}e=document.cookie.indexOf(" ",e)+1;if(e===0){break}}return null},clear:function(a){if(Ext.util.Cookies.get(a)){document.cookie=a+"=; expires=Thu, 01-Jan-70 00:00:01 GMT"}},getCookieVal:function(b){var a=document.cookie.indexOf(";",b);if(a==-1){a=document.cookie.length}return unescape(document.cookie.substring(b,a))}};
Ext.handleError=function(a){throw a};Ext.Error=function(a){this.message=(this.lang[a])?this.lang[a]:a};Ext.Error.prototype=new Error();Ext.apply(Ext.Error.prototype,{lang:{},name:"Ext.Error",getName:function(){return this.name},getMessage:function(){return this.message},toJson:function(){return Ext.encode(this)}});
(function(){Ext.Layer=function(d,c){d=d||{};var e=Ext.DomHelper;var h=d.parentEl,g=h?Ext.getDom(h):document.body;if(c){this.dom=Ext.getDom(c)}if(!this.dom){var i=d.dh||{tag:"div",cls:"x-layer"};this.dom=e.append(g,i)}if(d.cls){this.addClass(d.cls)}this.constrain=d.constrain!==false;this.setVisibilityMode(Ext.Element.VISIBILITY);if(d.id){this.id=this.dom.id=d.id}else{this.id=Ext.id(this.dom)}this.zindex=d.zindex||this.getZIndex();this.position("absolute",this.zindex);if(d.shadow){this.shadowOffset=d.shadowOffset||4;this.shadow=new Ext.Shadow({offset:this.shadowOffset,mode:d.shadow})}else{this.shadowOffset=0}this.useShim=d.shim!==false&&Ext.useShims;this.useDisplay=d.useDisplay;this.hide()};var a=Ext.Element.prototype;var b=[];Ext.extend(Ext.Layer,Ext.Element,{getZIndex:function(){return this.zindex||parseInt((this.getShim()||this).getStyle("z-index"),10)||11000},getShim:function(){if(!this.useShim){return null}if(this.shim){return this.shim}var d=b.shift();if(!d){d=this.createShim();d.enableDisplayMode("block");d.dom.style.display="none";d.dom.style.visibility="visible"}var c=this.dom.parentNode;if(d.dom.parentNode!=c){c.insertBefore(d.dom,this.dom)}d.setStyle("z-index",this.getZIndex()-2);this.shim=d;return d},hideShim:function(){if(this.shim){this.shim.setDisplayed(false);b.push(this.shim);delete this.shim}},disableShadow:function(){if(this.shadow){this.shadowDisabled=true;this.shadow.hide();this.lastShadowOffset=this.shadowOffset;this.shadowOffset=0}},enableShadow:function(c){if(this.shadow){this.shadowDisabled=false;this.shadowOffset=this.lastShadowOffset;delete this.lastShadowOffset;if(c){this.sync(true)}}},sync:function(d){var n=this.shadow;if(!this.updating&&this.isVisible()&&(n||this.useShim)){var i=this.getShim(),m=this.getWidth(),j=this.getHeight(),e=this.getLeft(true),o=this.getTop(true);if(n&&!this.shadowDisabled){if(d&&!n.isVisible()){n.show(this)}else{n.realign(e,o,m,j)}if(i){if(d){i.show()}var k=n.el.getXY(),g=i.dom.style,c=n.el.getSize();g.left=(k[0])+"px";g.top=(k[1])+"px";g.width=(c.width)+"px";g.height=(c.height)+"px"}}else{if(i){if(d){i.show()}i.setSize(m,j);i.setLeftTop(e,o)}}}},destroy:function(){this.hideShim();if(this.shadow){this.shadow.hide()}this.removeAllListeners();Ext.removeNode(this.dom);delete this.dom},remove:function(){this.destroy()},beginUpdate:function(){this.updating=true},endUpdate:function(){this.updating=false;this.sync(true)},hideUnders:function(c){if(this.shadow){this.shadow.hide()}this.hideShim()},constrainXY:function(){if(this.constrain){var j=Ext.lib.Dom.getViewWidth(),d=Ext.lib.Dom.getViewHeight();var o=Ext.getDoc().getScroll();var n=this.getXY();var k=n[0],i=n[1];var c=this.shadowOffset;var l=this.dom.offsetWidth+c,e=this.dom.offsetHeight+c;var g=false;if((k+l)>j+o.left){k=j-l-c;g=true}if((i+e)>d+o.top){i=d-e-c;g=true}if(k<o.left){k=o.left;g=true}if(i<o.top){i=o.top;g=true}if(g){if(this.avoidY){var m=this.avoidY;if(i<=m&&(i+e)>=m){i=m-e-5}}n=[k,i];this.storeXY(n);a.setXY.call(this,n);this.sync()}}return this},isVisible:function(){return this.visible},showAction:function(){this.visible=true;if(this.useDisplay===true){this.setDisplayed("")}else{if(this.lastXY){a.setXY.call(this,this.lastXY)}else{if(this.lastLT){a.setLeftTop.call(this,this.lastLT[0],this.lastLT[1])}}}},hideAction:function(){this.visible=false;if(this.useDisplay===true){this.setDisplayed(false)}else{this.setLeftTop(-10000,-10000)}},setVisible:function(i,h,k,l,j){if(i){this.showAction()}if(h&&i){var g=function(){this.sync(true);if(l){l()}}.createDelegate(this);a.setVisible.call(this,true,true,k,g,j)}else{if(!i){this.hideUnders(true)}var g=l;if(h){g=function(){this.hideAction();if(l){l()}}.createDelegate(this)}a.setVisible.call(this,i,h,k,g,j);if(i){this.sync(true)}else{if(!h){this.hideAction()}}}return this},storeXY:function(c){delete this.lastLT;this.lastXY=c},storeLeftTop:function(d,c){delete this.lastXY;this.lastLT=[d,c]},beforeFx:function(){this.beforeAction();return Ext.Layer.superclass.beforeFx.apply(this,arguments)},afterFx:function(){Ext.Layer.superclass.afterFx.apply(this,arguments);this.sync(this.isVisible())},beforeAction:function(){if(!this.updating&&this.shadow){this.shadow.hide()}},setLeft:function(c){this.storeLeftTop(c,this.getTop(true));a.setLeft.apply(this,arguments);this.sync();return this},setTop:function(c){this.storeLeftTop(this.getLeft(true),c);a.setTop.apply(this,arguments);this.sync();return this},setLeftTop:function(d,c){this.storeLeftTop(d,c);a.setLeftTop.apply(this,arguments);this.sync();return this},setXY:function(j,h,k,l,i){this.fixDisplay();this.beforeAction();this.storeXY(j);var g=this.createCB(l);a.setXY.call(this,j,h,k,g,i);if(!h){g()}return this},createCB:function(e){var d=this;return function(){d.constrainXY();d.sync(true);if(e){e()}}},setX:function(g,h,j,k,i){this.setXY([g,this.getY()],h,j,k,i);return this},setY:function(k,g,i,j,h){this.setXY([this.getX(),k],g,i,j,h);return this},setSize:function(j,k,i,m,n,l){this.beforeAction();var g=this.createCB(n);a.setSize.call(this,j,k,i,m,g,l);if(!i){g()}return this},setWidth:function(i,h,k,l,j){this.beforeAction();var g=this.createCB(l);a.setWidth.call(this,i,h,k,g,j);if(!h){g()}return this},setHeight:function(j,i,l,m,k){this.beforeAction();var g=this.createCB(m);a.setHeight.call(this,j,i,l,g,k);if(!i){g()}return this},setBounds:function(o,m,p,i,n,k,l,j){this.beforeAction();var g=this.createCB(l);if(!n){this.storeXY([o,m]);a.setXY.call(this,[o,m]);a.setSize.call(this,p,i,n,k,g,j);g()}else{a.setBounds.call(this,o,m,p,i,n,k,g,j)}return this},setZIndex:function(c){this.zindex=c;this.setStyle("z-index",c+2);if(this.shadow){this.shadow.setZIndex(c+1)}if(this.shim){this.shim.setStyle("z-index",c)}return this}})})();
(function(){var a=Ext.EventManager;var b=Ext.lib.Dom;Ext.dd.DragDrop=function(e,c,d){if(e){this.init(e,c,d)}};Ext.dd.DragDrop.prototype={id:null,config:null,dragElId:null,handleElId:null,invalidHandleTypes:null,invalidHandleIds:null,invalidHandleClasses:null,startPageX:0,startPageY:0,groups:null,locked:false,lock:function(){this.locked=true},moveOnly:false,unlock:function(){this.locked=false},isTarget:true,padding:null,_domRef:null,__ygDragDrop:true,constrainX:false,constrainY:false,minX:0,maxX:0,minY:0,maxY:0,maintainOffset:false,xTicks:null,yTicks:null,primaryButtonOnly:true,available:false,hasOuterHandles:false,b4StartDrag:function(c,d){},startDrag:function(c,d){},b4Drag:function(c){},onDrag:function(c){},onDragEnter:function(c,d){},b4DragOver:function(c){},onDragOver:function(c,d){},b4DragOut:function(c){},onDragOut:function(c,d){},b4DragDrop:function(c){},onDragDrop:function(c,d){},onInvalidDrop:function(c){},b4EndDrag:function(c){},endDrag:function(c){},b4MouseDown:function(c){},onMouseDown:function(c){},onMouseUp:function(c){},onAvailable:function(){},defaultPadding:{left:0,right:0,top:0,bottom:0},constrainTo:function(j,h,o){if(Ext.isNumber(h)){h={left:h,right:h,top:h,bottom:h}}h=h||this.defaultPadding;var l=Ext.get(this.getEl()).getBox(),d=Ext.get(j),n=d.getScroll(),k,e=d.dom;if(e==document.body){k={x:n.left,y:n.top,width:Ext.lib.Dom.getViewWidth(),height:Ext.lib.Dom.getViewHeight()}}else{var m=d.getXY();k={x:m[0],y:m[1],width:e.clientWidth,height:e.clientHeight}}var i=l.y-k.y,g=l.x-k.x;this.resetConstraints();this.setXConstraint(g-(h.left||0),k.width-g-l.width-(h.right||0),this.xTickSize);this.setYConstraint(i-(h.top||0),k.height-i-l.height-(h.bottom||0),this.yTickSize)},getEl:function(){if(!this._domRef){this._domRef=Ext.getDom(this.id)}return this._domRef},getDragEl:function(){return Ext.getDom(this.dragElId)},init:function(e,c,d){this.initTarget(e,c,d);a.on(this.id,"mousedown",this.handleMouseDown,this)},initTarget:function(e,c,d){this.config=d||{};this.DDM=Ext.dd.DDM;this.groups={};if(typeof e!=="string"){e=Ext.id(e)}this.id=e;this.addToGroup((c)?c:"default");this.handleElId=e;this.setDragElId(e);this.invalidHandleTypes={A:"A"};this.invalidHandleIds={};this.invalidHandleClasses=[];this.applyConfig();this.handleOnAvailable()},applyConfig:function(){this.padding=this.config.padding||[0,0,0,0];this.isTarget=(this.config.isTarget!==false);this.maintainOffset=(this.config.maintainOffset);this.primaryButtonOnly=(this.config.primaryButtonOnly!==false)},handleOnAvailable:function(){this.available=true;this.resetConstraints();this.onAvailable()},setPadding:function(e,c,g,d){if(!c&&0!==c){this.padding=[e,e,e,e]}else{if(!g&&0!==g){this.padding=[e,c,e,c]}else{this.padding=[e,c,g,d]}}},setInitPosition:function(g,e){var h=this.getEl();if(!this.DDM.verifyEl(h)){return}var d=g||0;var c=e||0;var i=b.getXY(h);this.initPageX=i[0]-d;this.initPageY=i[1]-c;this.lastPageX=i[0];this.lastPageY=i[1];this.setStartPosition(i)},setStartPosition:function(d){var c=d||b.getXY(this.getEl());this.deltaSetXY=null;this.startPageX=c[0];this.startPageY=c[1]},addToGroup:function(c){this.groups[c]=true;this.DDM.regDragDrop(this,c)},removeFromGroup:function(c){if(this.groups[c]){delete this.groups[c]}this.DDM.removeDDFromGroup(this,c)},setDragElId:function(c){this.dragElId=c},setHandleElId:function(c){if(typeof c!=="string"){c=Ext.id(c)}this.handleElId=c;this.DDM.regHandle(this.id,c)},setOuterHandleElId:function(c){if(typeof c!=="string"){c=Ext.id(c)}a.on(c,"mousedown",this.handleMouseDown,this);this.setHandleElId(c);this.hasOuterHandles=true},unreg:function(){a.un(this.id,"mousedown",this.handleMouseDown);this._domRef=null;this.DDM._remove(this)},destroy:function(){this.unreg()},isLocked:function(){return(this.DDM.isLocked()||this.locked)},handleMouseDown:function(g,d){if(this.primaryButtonOnly&&g.button!=0){return}if(this.isLocked()){return}this.DDM.refreshCache(this.groups);var c=new Ext.lib.Point(Ext.lib.Event.getPageX(g),Ext.lib.Event.getPageY(g));if(!this.hasOuterHandles&&!this.DDM.isOverTarget(c,this)){}else{if(this.clickValidator(g)){this.setStartPosition();this.b4MouseDown(g);this.onMouseDown(g);this.DDM.handleMouseDown(g,this);this.DDM.stopEvent(g)}else{}}},clickValidator:function(d){var c=d.getTarget();return(this.isValidHandleChild(c)&&(this.id==this.handleElId||this.DDM.handleWasClicked(c,this.id)))},addInvalidHandleType:function(c){var d=c.toUpperCase();this.invalidHandleTypes[d]=d},addInvalidHandleId:function(c){if(typeof c!=="string"){c=Ext.id(c)}this.invalidHandleIds[c]=c},addInvalidHandleClass:function(c){this.invalidHandleClasses.push(c)},removeInvalidHandleType:function(c){var d=c.toUpperCase();delete this.invalidHandleTypes[d]},removeInvalidHandleId:function(c){if(typeof c!=="string"){c=Ext.id(c)}delete this.invalidHandleIds[c]},removeInvalidHandleClass:function(d){for(var e=0,c=this.invalidHandleClasses.length;e<c;++e){if(this.invalidHandleClasses[e]==d){delete this.invalidHandleClasses[e]}}},isValidHandleChild:function(h){var g=true;var k;try{k=h.nodeName.toUpperCase()}catch(j){k=h.nodeName}g=g&&!this.invalidHandleTypes[k];g=g&&!this.invalidHandleIds[h.id];for(var d=0,c=this.invalidHandleClasses.length;g&&d<c;++d){g=!Ext.fly(h).hasClass(this.invalidHandleClasses[d])}return g},setXTicks:function(g,c){this.xTicks=[];this.xTickSize=c;var e={};for(var d=this.initPageX;d>=this.minX;d=d-c){if(!e[d]){this.xTicks[this.xTicks.length]=d;e[d]=true}}for(d=this.initPageX;d<=this.maxX;d=d+c){if(!e[d]){this.xTicks[this.xTicks.length]=d;e[d]=true}}this.xTicks.sort(this.DDM.numericSort)},setYTicks:function(g,c){this.yTicks=[];this.yTickSize=c;var e={};for(var d=this.initPageY;d>=this.minY;d=d-c){if(!e[d]){this.yTicks[this.yTicks.length]=d;e[d]=true}}for(d=this.initPageY;d<=this.maxY;d=d+c){if(!e[d]){this.yTicks[this.yTicks.length]=d;e[d]=true}}this.yTicks.sort(this.DDM.numericSort)},setXConstraint:function(e,d,c){this.leftConstraint=e;this.rightConstraint=d;this.minX=this.initPageX-e;this.maxX=this.initPageX+d;if(c){this.setXTicks(this.initPageX,c)}this.constrainX=true},clearConstraints:function(){this.constrainX=false;this.constrainY=false;this.clearTicks()},clearTicks:function(){this.xTicks=null;this.yTicks=null;this.xTickSize=0;this.yTickSize=0},setYConstraint:function(c,e,d){this.topConstraint=c;this.bottomConstraint=e;this.minY=this.initPageY-c;this.maxY=this.initPageY+e;if(d){this.setYTicks(this.initPageY,d)}this.constrainY=true},resetConstraints:function(){if(this.initPageX||this.initPageX===0){var d=(this.maintainOffset)?this.lastPageX-this.initPageX:0;var c=(this.maintainOffset)?this.lastPageY-this.initPageY:0;this.setInitPosition(d,c)}else{this.setInitPosition()}if(this.constrainX){this.setXConstraint(this.leftConstraint,this.rightConstraint,this.xTickSize)}if(this.constrainY){this.setYConstraint(this.topConstraint,this.bottomConstraint,this.yTickSize)}},getTick:function(k,g){if(!g){return k}else{if(g[0]>=k){return g[0]}else{for(var d=0,c=g.length;d<c;++d){var e=d+1;if(g[e]&&g[e]>=k){var j=k-g[d];var h=g[e]-k;return(h>j)?g[d]:g[e]}}return g[g.length-1]}}},toString:function(){return("DragDrop "+this.id)}}})();if(!Ext.dd.DragDropMgr){Ext.dd.DragDropMgr=function(){var a=Ext.EventManager;return{ids:{},handleIds:{},dragCurrent:null,dragOvers:{},deltaX:0,deltaY:0,preventDefault:true,stopPropagation:true,initialized:false,locked:false,init:function(){this.initialized=true},POINT:0,INTERSECT:1,mode:0,_execOnAll:function(d,c){for(var e in this.ids){for(var b in this.ids[e]){var g=this.ids[e][b];if(!this.isTypeOfDD(g)){continue}g[d].apply(g,c)}}},_onLoad:function(){this.init();a.on(document,"mouseup",this.handleMouseUp,this,true);a.on(document,"mousemove",this.handleMouseMove,this,true);a.on(window,"unload",this._onUnload,this,true);a.on(window,"resize",this._onResize,this,true)},_onResize:function(b){this._execOnAll("resetConstraints",[])},lock:function(){this.locked=true},unlock:function(){this.locked=false},isLocked:function(){return this.locked},locationCache:{},useCache:true,clickPixelThresh:3,clickTimeThresh:350,dragThreshMet:false,clickTimeout:null,startX:0,startY:0,regDragDrop:function(c,b){if(!this.initialized){this.init()}if(!this.ids[b]){this.ids[b]={}}this.ids[b][c.id]=c},removeDDFromGroup:function(d,b){if(!this.ids[b]){this.ids[b]={}}var c=this.ids[b];if(c&&c[d.id]){delete c[d.id]}},_remove:function(c){for(var b in c.groups){if(b&&this.ids[b]&&this.ids[b][c.id]){delete this.ids[b][c.id]}}delete this.handleIds[c.id]},regHandle:function(c,b){if(!this.handleIds[c]){this.handleIds[c]={}}this.handleIds[c][b]=b},isDragDrop:function(b){return(this.getDDById(b))?true:false},getRelated:function(h,c){var g=[];for(var e in h.groups){for(var d in this.ids[e]){var b=this.ids[e][d];if(!this.isTypeOfDD(b)){continue}if(!c||b.isTarget){g[g.length]=b}}}return g},isLegalTarget:function(g,e){var c=this.getRelated(g,true);for(var d=0,b=c.length;d<b;++d){if(c[d].id==e.id){return true}}return false},isTypeOfDD:function(b){return(b&&b.__ygDragDrop)},isHandle:function(c,b){return(this.handleIds[c]&&this.handleIds[c][b])},getDDById:function(c){for(var b in this.ids){if(this.ids[b][c]){return this.ids[b][c]}}return null},handleMouseDown:function(d,c){if(Ext.QuickTips){Ext.QuickTips.disable()}if(this.dragCurrent){this.handleMouseUp(d)}this.currentTarget=d.getTarget();this.dragCurrent=c;var b=c.getEl();this.startX=d.getPageX();this.startY=d.getPageY();this.deltaX=this.startX-b.offsetLeft;this.deltaY=this.startY-b.offsetTop;this.dragThreshMet=false;this.clickTimeout=setTimeout(function(){var e=Ext.dd.DDM;e.startDrag(e.startX,e.startY)},this.clickTimeThresh)},startDrag:function(b,c){clearTimeout(this.clickTimeout);if(this.dragCurrent){this.dragCurrent.b4StartDrag(b,c);this.dragCurrent.startDrag(b,c)}this.dragThreshMet=true},handleMouseUp:function(b){if(Ext.QuickTips){Ext.QuickTips.enable()}if(!this.dragCurrent){return}clearTimeout(this.clickTimeout);if(this.dragThreshMet){this.fireEvents(b,true)}else{}this.stopDrag(b);this.stopEvent(b)},stopEvent:function(b){if(this.stopPropagation){b.stopPropagation()}if(this.preventDefault){b.preventDefault()}},stopDrag:function(b){if(this.dragCurrent){if(this.dragThreshMet){this.dragCurrent.b4EndDrag(b);this.dragCurrent.endDrag(b)}this.dragCurrent.onMouseUp(b)}this.dragCurrent=null;this.dragOvers={}},handleMouseMove:function(d){if(!this.dragCurrent){return true}if(Ext.isIE&&(d.button!==0&&d.button!==1&&d.button!==2)){this.stopEvent(d);return this.handleMouseUp(d)}if(!this.dragThreshMet){var c=Math.abs(this.startX-d.getPageX());var b=Math.abs(this.startY-d.getPageY());if(c>this.clickPixelThresh||b>this.clickPixelThresh){this.startDrag(this.startX,this.startY)}}if(this.dragThreshMet){this.dragCurrent.b4Drag(d);this.dragCurrent.onDrag(d);if(!this.dragCurrent.moveOnly){this.fireEvents(d,false)}}this.stopEvent(d);return true},fireEvents:function(n,o){var q=this.dragCurrent;if(!q||q.isLocked()){return}var r=n.getPoint();var b=[];var g=[];var l=[];var j=[];var d=[];for(var h in this.dragOvers){var c=this.dragOvers[h];if(!this.isTypeOfDD(c)){continue}if(!this.isOverTarget(r,c,this.mode)){g.push(c)}b[h]=true;delete this.dragOvers[h]}for(var p in q.groups){if("string"!=typeof p){continue}for(h in this.ids[p]){var k=this.ids[p][h];if(!this.isTypeOfDD(k)){continue}if(k.isTarget&&!k.isLocked()&&((k!=q)||(q.ignoreSelf===false))){if(this.isOverTarget(r,k,this.mode)){if(o){j.push(k)}else{if(!b[k.id]){d.push(k)}else{l.push(k)}this.dragOvers[k.id]=k}}}}}if(this.mode){if(g.length){q.b4DragOut(n,g);q.onDragOut(n,g)}if(d.length){q.onDragEnter(n,d)}if(l.length){q.b4DragOver(n,l);q.onDragOver(n,l)}if(j.length){q.b4DragDrop(n,j);q.onDragDrop(n,j)}}else{var m=0;for(h=0,m=g.length;h<m;++h){q.b4DragOut(n,g[h].id);q.onDragOut(n,g[h].id)}for(h=0,m=d.length;h<m;++h){q.onDragEnter(n,d[h].id)}for(h=0,m=l.length;h<m;++h){q.b4DragOver(n,l[h].id);q.onDragOver(n,l[h].id)}for(h=0,m=j.length;h<m;++h){q.b4DragDrop(n,j[h].id);q.onDragDrop(n,j[h].id)}}if(o&&!j.length){q.onInvalidDrop(n)}},getBestMatch:function(d){var g=null;var c=d.length;if(c==1){g=d[0]}else{for(var e=0;e<c;++e){var b=d[e];if(b.cursorIsOver){g=b;break}else{if(!g||g.overlap.getArea()<b.overlap.getArea()){g=b}}}}return g},refreshCache:function(c){for(var b in c){if("string"!=typeof b){continue}for(var d in this.ids[b]){var e=this.ids[b][d];if(this.isTypeOfDD(e)){var g=this.getLocation(e);if(g){this.locationCache[e.id]=g}else{delete this.locationCache[e.id]}}}}},verifyEl:function(c){if(c){var b;if(Ext.isIE){try{b=c.offsetParent}catch(d){}}else{b=c.offsetParent}if(b){return true}}return false},getLocation:function(j){if(!this.isTypeOfDD(j)){return null}var h=j.getEl(),n,g,d,p,o,q,c,m,i;try{n=Ext.lib.Dom.getXY(h)}catch(k){}if(!n){return null}g=n[0];d=g+h.offsetWidth;p=n[1];o=p+h.offsetHeight;q=p-j.padding[0];c=d+j.padding[1];m=o+j.padding[2];i=g-j.padding[3];return new Ext.lib.Region(q,c,m,i)},isOverTarget:function(k,b,d){var g=this.locationCache[b.id];if(!g||!this.useCache){g=this.getLocation(b);this.locationCache[b.id]=g}if(!g){return false}b.cursorIsOver=g.contains(k);var j=this.dragCurrent;if(!j||!j.getTargetCoord||(!d&&!j.constrainX&&!j.constrainY)){return b.cursorIsOver}b.overlap=null;var h=j.getTargetCoord(k.x,k.y);var c=j.getDragEl();var e=new Ext.lib.Region(h.y,h.x+c.offsetWidth,h.y+c.offsetHeight,h.x);var i=e.intersect(g);if(i){b.overlap=i;return(d)?true:b.cursorIsOver}else{return false}},_onUnload:function(c,b){Ext.dd.DragDropMgr.unregAll()},unregAll:function(){if(this.dragCurrent){this.stopDrag();this.dragCurrent=null}this._execOnAll("unreg",[]);for(var b in this.elementCache){delete this.elementCache[b]}this.elementCache={};this.ids={}},elementCache:{},getElWrapper:function(c){var b=this.elementCache[c];if(!b||!b.el){b=this.elementCache[c]=new this.ElementWrapper(Ext.getDom(c))}return b},getElement:function(b){return Ext.getDom(b)},getCss:function(c){var b=Ext.getDom(c);return(b)?b.style:null},ElementWrapper:function(b){this.el=b||null;this.id=this.el&&b.id;this.css=this.el&&b.style},getPosX:function(b){return Ext.lib.Dom.getX(b)},getPosY:function(b){return Ext.lib.Dom.getY(b)},swapNode:function(d,b){if(d.swapNode){d.swapNode(b)}else{var e=b.parentNode;var c=b.nextSibling;if(c==d){e.insertBefore(d,b)}else{if(b==d.nextSibling){e.insertBefore(b,d)}else{d.parentNode.replaceChild(b,d);e.insertBefore(d,c)}}}},getScroll:function(){var d,b,e=document.documentElement,c=document.body;if(e&&(e.scrollTop||e.scrollLeft)){d=e.scrollTop;b=e.scrollLeft}else{if(c){d=c.scrollTop;b=c.scrollLeft}else{}}return{top:d,left:b}},getStyle:function(c,b){return Ext.fly(c).getStyle(b)},getScrollTop:function(){return this.getScroll().top},getScrollLeft:function(){return this.getScroll().left},moveToEl:function(b,d){var c=Ext.lib.Dom.getXY(d);Ext.lib.Dom.setXY(b,c)},numericSort:function(d,c){return(d-c)},_timeoutCount:0,_addListeners:function(){var b=Ext.dd.DDM;if(Ext.lib.Event&&document){b._onLoad()}else{if(b._timeoutCount>2000){}else{setTimeout(b._addListeners,10);if(document&&document.body){b._timeoutCount+=1}}}},handleWasClicked:function(b,d){if(this.isHandle(d,b.id)){return true}else{var c=b.parentNode;while(c){if(this.isHandle(d,c.id)){return true}else{c=c.parentNode}}}return false}}}();Ext.dd.DDM=Ext.dd.DragDropMgr;Ext.dd.DDM._addListeners()}Ext.dd.DD=function(c,a,b){if(c){this.init(c,a,b)}};Ext.extend(Ext.dd.DD,Ext.dd.DragDrop,{scroll:true,autoOffset:function(c,b){var a=c-this.startPageX;var d=b-this.startPageY;this.setDelta(a,d)},setDelta:function(b,a){this.deltaX=b;this.deltaY=a},setDragElPos:function(c,b){var a=this.getDragEl();this.alignElWithMouse(a,c,b)},alignElWithMouse:function(c,h,g){var e=this.getTargetCoord(h,g);var b=c.dom?c:Ext.fly(c,"_dd");if(!this.deltaSetXY){var i=[e.x,e.y];b.setXY(i);var d=b.getLeft(true);var a=b.getTop(true);this.deltaSetXY=[d-e.x,a-e.y]}else{b.setLeftTop(e.x+this.deltaSetXY[0],e.y+this.deltaSetXY[1])}this.cachePosition(e.x,e.y);this.autoScroll(e.x,e.y,c.offsetHeight,c.offsetWidth);return e},cachePosition:function(b,a){if(b){this.lastPageX=b;this.lastPageY=a}else{var c=Ext.lib.Dom.getXY(this.getEl());this.lastPageX=c[0];this.lastPageY=c[1]}},autoScroll:function(l,k,e,m){if(this.scroll){var n=Ext.lib.Dom.getViewHeight();var b=Ext.lib.Dom.getViewWidth();var p=this.DDM.getScrollTop();var d=this.DDM.getScrollLeft();var j=e+k;var o=m+l;var i=(n+p-k-this.deltaY);var g=(b+d-l-this.deltaX);var c=40;var a=(document.all)?80:30;if(j>n&&i<c){window.scrollTo(d,p+a)}if(k<p&&p>0&&k-p<c){window.scrollTo(d,p-a)}if(o>b&&g<c){window.scrollTo(d+a,p)}if(l<d&&d>0&&l-d<c){window.scrollTo(d-a,p)}}},getTargetCoord:function(c,b){var a=c-this.deltaX;var d=b-this.deltaY;if(this.constrainX){if(a<this.minX){a=this.minX}if(a>this.maxX){a=this.maxX}}if(this.constrainY){if(d<this.minY){d=this.minY}if(d>this.maxY){d=this.maxY}}a=this.getTick(a,this.xTicks);d=this.getTick(d,this.yTicks);return{x:a,y:d}},applyConfig:function(){Ext.dd.DD.superclass.applyConfig.call(this);this.scroll=(this.config.scroll!==false)},b4MouseDown:function(a){this.autoOffset(a.getPageX(),a.getPageY())},b4Drag:function(a){this.setDragElPos(a.getPageX(),a.getPageY())},toString:function(){return("DD "+this.id)}});Ext.dd.DDProxy=function(c,a,b){if(c){this.init(c,a,b);this.initFrame()}};Ext.dd.DDProxy.dragElId="ygddfdiv";Ext.extend(Ext.dd.DDProxy,Ext.dd.DD,{resizeFrame:true,centerFrame:false,createFrame:function(){var b=this;var a=document.body;if(!a||!a.firstChild){setTimeout(function(){b.createFrame()},50);return}var d=this.getDragEl();if(!d){d=document.createElement("div");d.id=this.dragElId;var c=d.style;c.position="absolute";c.visibility="hidden";c.cursor="move";c.border="2px solid #aaa";c.zIndex=999;a.insertBefore(d,a.firstChild)}},initFrame:function(){this.createFrame()},applyConfig:function(){Ext.dd.DDProxy.superclass.applyConfig.call(this);this.resizeFrame=(this.config.resizeFrame!==false);this.centerFrame=(this.config.centerFrame);this.setDragElId(this.config.dragElId||Ext.dd.DDProxy.dragElId)},showFrame:function(e,d){var c=this.getEl();var a=this.getDragEl();var b=a.style;this._resizeProxy();if(this.centerFrame){this.setDelta(Math.round(parseInt(b.width,10)/2),Math.round(parseInt(b.height,10)/2))}this.setDragElPos(e,d);Ext.fly(a).show()},_resizeProxy:function(){if(this.resizeFrame){var a=this.getEl();Ext.fly(this.getDragEl()).setSize(a.offsetWidth,a.offsetHeight)}},b4MouseDown:function(b){var a=b.getPageX();var c=b.getPageY();this.autoOffset(a,c);this.setDragElPos(a,c)},b4StartDrag:function(a,b){this.showFrame(a,b)},b4EndDrag:function(a){Ext.fly(this.getDragEl()).hide()},endDrag:function(c){var b=this.getEl();var a=this.getDragEl();a.style.visibility="";this.beforeMove();b.style.visibility="hidden";Ext.dd.DDM.moveToEl(b,a);a.style.visibility="hidden";b.style.visibility="";this.afterDrag()},beforeMove:function(){},afterDrag:function(){},toString:function(){return("DDProxy "+this.id)}});Ext.dd.DDTarget=function(c,a,b){if(c){this.initTarget(c,a,b)}};Ext.extend(Ext.dd.DDTarget,Ext.dd.DragDrop,{getDragEl:Ext.emptyFn,isValidHandleChild:Ext.emptyFn,startDrag:Ext.emptyFn,endDrag:Ext.emptyFn,onDrag:Ext.emptyFn,onDragDrop:Ext.emptyFn,onDragEnter:Ext.emptyFn,onDragOut:Ext.emptyFn,onDragOver:Ext.emptyFn,onInvalidDrop:Ext.emptyFn,onMouseDown:Ext.emptyFn,onMouseUp:Ext.emptyFn,setXConstraint:Ext.emptyFn,setYConstraint:Ext.emptyFn,resetConstraints:Ext.emptyFn,clearConstraints:Ext.emptyFn,clearTicks:Ext.emptyFn,setInitPosition:Ext.emptyFn,setDragElId:Ext.emptyFn,setHandleElId:Ext.emptyFn,setOuterHandleElId:Ext.emptyFn,addInvalidHandleClass:Ext.emptyFn,addInvalidHandleId:Ext.emptyFn,addInvalidHandleType:Ext.emptyFn,removeInvalidHandleClass:Ext.emptyFn,removeInvalidHandleId:Ext.emptyFn,removeInvalidHandleType:Ext.emptyFn,toString:function(){return("DDTarget "+this.id)}});
Ext.dd.DragTracker=Ext.extend(Ext.util.Observable,{active:false,tolerance:5,autoStart:false,constructor:function(a){Ext.apply(this,a);this.addEvents("mousedown","mouseup","mousemove","dragstart","dragend","drag");this.dragRegion=new Ext.lib.Region(0,0,0,0);if(this.el){this.initEl(this.el)}Ext.dd.DragTracker.superclass.constructor.call(this,a)},initEl:function(a){this.el=Ext.get(a);a.on("mousedown",this.onMouseDown,this,this.delegate?{delegate:this.delegate}:undefined)},destroy:function(){this.el.un("mousedown",this.onMouseDown,this)},onMouseDown:function(c,b){if(this.fireEvent("mousedown",this,c)!==false&&this.onBeforeStart(c)!==false){this.startXY=this.lastXY=c.getXY();this.dragTarget=this.delegate?b:this.el.dom;if(this.preventDefault!==false){c.preventDefault()}var a=Ext.getDoc();a.on("mouseup",this.onMouseUp,this);a.on("mousemove",this.onMouseMove,this);a.on("selectstart",this.stopSelect,this);if(this.autoStart){this.timer=this.triggerStart.defer(this.autoStart===true?1000:this.autoStart,this)}}},onMouseMove:function(d,c){if(this.active&&Ext.isIE&&!d.browserEvent.button){d.preventDefault();this.onMouseUp(d);return}d.preventDefault();var b=d.getXY(),a=this.startXY;this.lastXY=b;if(!this.active){if(Math.abs(a[0]-b[0])>this.tolerance||Math.abs(a[1]-b[1])>this.tolerance){this.triggerStart()}else{return}}this.fireEvent("mousemove",this,d);this.onDrag(d);this.fireEvent("drag",this,d)},onMouseUp:function(c){var b=Ext.getDoc();b.un("mousemove",this.onMouseMove,this);b.un("mouseup",this.onMouseUp,this);b.un("selectstart",this.stopSelect,this);c.preventDefault();this.clearStart();var a=this.active;this.active=false;delete this.elRegion;this.fireEvent("mouseup",this,c);if(a){this.onEnd(c);this.fireEvent("dragend",this,c)}},triggerStart:function(a){this.clearStart();this.active=true;this.onStart(this.startXY);this.fireEvent("dragstart",this,this.startXY)},clearStart:function(){if(this.timer){clearTimeout(this.timer);delete this.timer}},stopSelect:function(a){a.stopEvent();return false},onBeforeStart:function(a){},onStart:function(a){},onDrag:function(a){},onEnd:function(a){},getDragTarget:function(){return this.dragTarget},getDragCt:function(){return this.el},getXY:function(a){return a?this.constrainModes[a].call(this,this.lastXY):this.lastXY},getOffset:function(c){var b=this.getXY(c);var a=this.startXY;return[a[0]-b[0],a[1]-b[1]]},constrainModes:{point:function(b){if(!this.elRegion){this.elRegion=this.getDragCt().getRegion()}var a=this.dragRegion;a.left=b[0];a.top=b[1];a.right=b[0];a.bottom=b[1];a.constrainTo(this.elRegion);return[a.left,a.top]}}});
Ext.dd.ScrollManager=function(){var c=Ext.dd.DragDropMgr;var e={};var b=null;var i={};var h=function(l){b=null;a()};var j=function(){if(c.dragCurrent){c.refreshCache(c.dragCurrent.groups)}};var d=function(){if(c.dragCurrent){var l=Ext.dd.ScrollManager;var m=i.el.ddScrollConfig?i.el.ddScrollConfig.increment:l.increment;if(!l.animate){if(i.el.scroll(i.dir,m)){j()}}else{i.el.scroll(i.dir,m,true,l.animDuration,j)}}};var a=function(){if(i.id){clearInterval(i.id)}i.id=0;i.el=null;i.dir=""};var g=function(m,l){a();i.el=m;i.dir=l;var n=(m.ddScrollConfig&&m.ddScrollConfig.frequency)?m.ddScrollConfig.frequency:Ext.dd.ScrollManager.frequency;i.id=setInterval(d,n)};var k=function(o,q){if(q||!c.dragCurrent){return}var s=Ext.dd.ScrollManager;if(!b||b!=c.dragCurrent){b=c.dragCurrent;s.refreshCache()}var t=Ext.lib.Event.getXY(o);var u=new Ext.lib.Point(t[0],t[1]);for(var m in e){var n=e[m],l=n._region;var p=n.ddScrollConfig?n.ddScrollConfig:s;if(l&&l.contains(u)&&n.isScrollable()){if(l.bottom-u.y<=p.vthresh){if(i.el!=n){g(n,"down")}return}else{if(l.right-u.x<=p.hthresh){if(i.el!=n){g(n,"left")}return}else{if(u.y-l.top<=p.vthresh){if(i.el!=n){g(n,"up")}return}else{if(u.x-l.left<=p.hthresh){if(i.el!=n){g(n,"right")}return}}}}}}a()};c.fireEvents=c.fireEvents.createSequence(k,c);c.stopDrag=c.stopDrag.createSequence(h,c);return{register:function(n){if(Ext.isArray(n)){for(var m=0,l=n.length;m<l;m++){this.register(n[m])}}else{n=Ext.get(n);e[n.id]=n}},unregister:function(n){if(Ext.isArray(n)){for(var m=0,l=n.length;m<l;m++){this.unregister(n[m])}}else{n=Ext.get(n);delete e[n.id]}},vthresh:25,hthresh:25,increment:100,frequency:500,animate:true,animDuration:0.4,refreshCache:function(){for(var l in e){if(typeof e[l]=="object"){e[l]._region=e[l].getRegion()}}}}}();
Ext.dd.Registry=function(){var d={};var b={};var a=0;var c=function(g,e){if(typeof g=="string"){return g}var h=g.id;if(!h&&e!==false){h="extdd-"+(++a);g.id=h}return h};return{register:function(j,k){k=k||{};if(typeof j=="string"){j=document.getElementById(j)}k.ddel=j;d[c(j)]=k;if(k.isHandle!==false){b[k.ddel.id]=k}if(k.handles){var h=k.handles;for(var g=0,e=h.length;g<e;g++){b[c(h[g])]=k}}},unregister:function(j){var l=c(j,false);var k=d[l];if(k){delete d[l];if(k.handles){var h=k.handles;for(var g=0,e=h.length;g<e;g++){delete b[c(h[g],false)]}}}},getHandle:function(e){if(typeof e!="string"){e=e.id}return b[e]},getHandleFromEvent:function(h){var g=Ext.lib.Event.getTarget(h);return g?b[g.id]:null},getTarget:function(e){if(typeof e!="string"){e=e.id}return d[e]},getTargetFromEvent:function(h){var g=Ext.lib.Event.getTarget(h);return g?d[g.id]||b[g.id]:null}}}();
Ext.dd.StatusProxy=function(a){Ext.apply(this,a);this.id=this.id||Ext.id();this.el=new Ext.Layer({dh:{id:this.id,tag:"div",cls:"x-dd-drag-proxy "+this.dropNotAllowed,children:[{tag:"div",cls:"x-dd-drop-icon"},{tag:"div",cls:"x-dd-drag-ghost"}]},shadow:!a||a.shadow!==false});this.ghost=Ext.get(this.el.dom.childNodes[1]);this.dropStatus=this.dropNotAllowed};Ext.dd.StatusProxy.prototype={dropAllowed:"x-dd-drop-ok",dropNotAllowed:"x-dd-drop-nodrop",setStatus:function(a){a=a||this.dropNotAllowed;if(this.dropStatus!=a){this.el.replaceClass(this.dropStatus,a);this.dropStatus=a}},reset:function(a){this.el.dom.className="x-dd-drag-proxy "+this.dropNotAllowed;this.dropStatus=this.dropNotAllowed;if(a){this.ghost.update("")}},update:function(a){if(typeof a=="string"){this.ghost.update(a)}else{this.ghost.update("");a.style.margin="0";this.ghost.dom.appendChild(a)}var b=this.ghost.dom.firstChild;if(b){Ext.fly(b).setStyle("float","none")}},getEl:function(){return this.el},getGhost:function(){return this.ghost},hide:function(a){this.el.hide();if(a){this.reset(true)}},stop:function(){if(this.anim&&this.anim.isAnimated&&this.anim.isAnimated()){this.anim.stop()}},show:function(){this.el.show()},sync:function(){this.el.sync()},repair:function(b,c,a){this.callback=c;this.scope=a;if(b&&this.animRepair!==false){this.el.addClass("x-dd-drag-repair");this.el.hideUnders(true);this.anim=this.el.shift({duration:this.repairDuration||0.5,easing:"easeOut",xy:b,stopFx:true,callback:this.afterRepair,scope:this})}else{this.afterRepair()}},afterRepair:function(){this.hide(true);if(typeof this.callback=="function"){this.callback.call(this.scope||this)}this.callback=null;this.scope=null},destroy:function(){Ext.destroy(this.ghost,this.el)}};
Ext.dd.DragSource=function(b,a){this.el=Ext.get(b);if(!this.dragData){this.dragData={}}Ext.apply(this,a);if(!this.proxy){this.proxy=new Ext.dd.StatusProxy()}Ext.dd.DragSource.superclass.constructor.call(this,this.el.dom,this.ddGroup||this.group,{dragElId:this.proxy.id,resizeFrame:false,isTarget:false,scroll:this.scroll===true});this.dragging=false};Ext.extend(Ext.dd.DragSource,Ext.dd.DDProxy,{dropAllowed:"x-dd-drop-ok",dropNotAllowed:"x-dd-drop-nodrop",getDragData:function(a){return this.dragData},onDragEnter:function(c,d){var b=Ext.dd.DragDropMgr.getDDById(d);this.cachedTarget=b;if(this.beforeDragEnter(b,c,d)!==false){if(b.isNotifyTarget){var a=b.notifyEnter(this,c,this.dragData);this.proxy.setStatus(a)}else{this.proxy.setStatus(this.dropAllowed)}if(this.afterDragEnter){this.afterDragEnter(b,c,d)}}},beforeDragEnter:function(b,a,c){return true},alignElWithMouse:function(){Ext.dd.DragSource.superclass.alignElWithMouse.apply(this,arguments);this.proxy.sync()},onDragOver:function(c,d){var b=this.cachedTarget||Ext.dd.DragDropMgr.getDDById(d);if(this.beforeDragOver(b,c,d)!==false){if(b.isNotifyTarget){var a=b.notifyOver(this,c,this.dragData);this.proxy.setStatus(a)}if(this.afterDragOver){this.afterDragOver(b,c,d)}}},beforeDragOver:function(b,a,c){return true},onDragOut:function(b,c){var a=this.cachedTarget||Ext.dd.DragDropMgr.getDDById(c);if(this.beforeDragOut(a,b,c)!==false){if(a.isNotifyTarget){a.notifyOut(this,b,this.dragData)}this.proxy.reset();if(this.afterDragOut){this.afterDragOut(a,b,c)}}this.cachedTarget=null},beforeDragOut:function(b,a,c){return true},onDragDrop:function(b,c){var a=this.cachedTarget||Ext.dd.DragDropMgr.getDDById(c);if(this.beforeDragDrop(a,b,c)!==false){if(a.isNotifyTarget){if(a.notifyDrop(this,b,this.dragData)){this.onValidDrop(a,b,c)}else{this.onInvalidDrop(a,b,c)}}else{this.onValidDrop(a,b,c)}if(this.afterDragDrop){this.afterDragDrop(a,b,c)}}delete this.cachedTarget},beforeDragDrop:function(b,a,c){return true},onValidDrop:function(b,a,c){this.hideProxy();if(this.afterValidDrop){this.afterValidDrop(b,a,c)}},getRepairXY:function(b,a){return this.el.getXY()},onInvalidDrop:function(b,a,c){this.beforeInvalidDrop(b,a,c);if(this.cachedTarget){if(this.cachedTarget.isNotifyTarget){this.cachedTarget.notifyOut(this,a,this.dragData)}this.cacheTarget=null}this.proxy.repair(this.getRepairXY(a,this.dragData),this.afterRepair,this);if(this.afterInvalidDrop){this.afterInvalidDrop(a,c)}},afterRepair:function(){if(Ext.enableFx){this.el.highlight(this.hlColor||"c3daf9")}this.dragging=false},beforeInvalidDrop:function(b,a,c){return true},handleMouseDown:function(b){if(this.dragging){return}var a=this.getDragData(b);if(a&&this.onBeforeDrag(a,b)!==false){this.dragData=a;this.proxy.stop();Ext.dd.DragSource.superclass.handleMouseDown.apply(this,arguments)}},onBeforeDrag:function(a,b){return true},onStartDrag:Ext.emptyFn,startDrag:function(a,b){this.proxy.reset();this.dragging=true;this.proxy.update("");this.onInitDrag(a,b);this.proxy.show()},onInitDrag:function(a,c){var b=this.el.dom.cloneNode(true);b.id=Ext.id();this.proxy.update(b);this.onStartDrag(a,c);return true},getProxy:function(){return this.proxy},hideProxy:function(){this.proxy.hide();this.proxy.reset(true);this.dragging=false},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)},b4EndDrag:function(a){},endDrag:function(a){this.onEndDrag(this.dragData,a)},onEndDrag:function(a,b){},autoOffset:function(a,b){this.setDelta(-12,-20)},destroy:function(){Ext.dd.DragSource.superclass.destroy.call(this);Ext.destroy(this.proxy)}});
Ext.dd.DropTarget=function(b,a){this.el=Ext.get(b);Ext.apply(this,a);if(this.containerScroll){Ext.dd.ScrollManager.register(this.el)}Ext.dd.DropTarget.superclass.constructor.call(this,this.el.dom,this.ddGroup||this.group,{isTarget:true})};Ext.extend(Ext.dd.DropTarget,Ext.dd.DDTarget,{dropAllowed:"x-dd-drop-ok",dropNotAllowed:"x-dd-drop-nodrop",isTarget:true,isNotifyTarget:true,notifyEnter:function(a,c,b){if(this.overClass){this.el.addClass(this.overClass)}return this.dropAllowed},notifyOver:function(a,c,b){return this.dropAllowed},notifyOut:function(a,c,b){if(this.overClass){this.el.removeClass(this.overClass)}},notifyDrop:function(a,c,b){return false}});
Ext.dd.DragZone=function(b,a){Ext.dd.DragZone.superclass.constructor.call(this,b,a);if(this.containerScroll){Ext.dd.ScrollManager.register(this.el)}};Ext.extend(Ext.dd.DragZone,Ext.dd.DragSource,{getDragData:function(a){return Ext.dd.Registry.getHandleFromEvent(a)},onInitDrag:function(a,b){this.proxy.update(this.dragData.ddel.cloneNode(true));this.onStartDrag(a,b);return true},afterRepair:function(){if(Ext.enableFx){Ext.Element.fly(this.dragData.ddel).highlight(this.hlColor||"c3daf9")}this.dragging=false},getRepairXY:function(a){return Ext.Element.fly(this.dragData.ddel).getXY()}});
Ext.dd.DropZone=function(b,a){Ext.dd.DropZone.superclass.constructor.call(this,b,a)};Ext.extend(Ext.dd.DropZone,Ext.dd.DropTarget,{getTargetFromEvent:function(a){return Ext.dd.Registry.getTargetFromEvent(a)},onNodeEnter:function(d,a,c,b){},onNodeOver:function(d,a,c,b){return this.dropAllowed},onNodeOut:function(d,a,c,b){},onNodeDrop:function(d,a,c,b){return false},onContainerOver:function(a,c,b){return this.dropNotAllowed},onContainerDrop:function(a,c,b){return false},notifyEnter:function(a,c,b){return this.dropNotAllowed},notifyOver:function(a,c,b){var d=this.getTargetFromEvent(c);if(!d){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,a,c,b);this.lastOverNode=null}return this.onContainerOver(a,c,b)}if(this.lastOverNode!=d){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,a,c,b)}this.onNodeEnter(d,a,c,b);this.lastOverNode=d}return this.onNodeOver(d,a,c,b)},notifyOut:function(a,c,b){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,a,c,b);this.lastOverNode=null}},notifyDrop:function(a,c,b){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,a,c,b);this.lastOverNode=null}var d=this.getTargetFromEvent(c);return d?this.onNodeDrop(d,a,c,b):this.onContainerDrop(a,c,b)},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)}});
Ext.Element.addMethods({initDD:function(c,b,d){var a=new Ext.dd.DD(Ext.id(this.dom),c,b);return Ext.apply(a,d)},initDDProxy:function(c,b,d){var a=new Ext.dd.DDProxy(Ext.id(this.dom),c,b);return Ext.apply(a,d)},initDDTarget:function(c,b,d){var a=new Ext.dd.DDTarget(Ext.id(this.dom),c,b);return Ext.apply(a,d)}});
Ext.Resizable=Ext.extend(Ext.util.Observable,{constructor:function(d,e){this.el=Ext.get(d);if(e&&e.wrap){e.resizeChild=this.el;this.el=this.el.wrap(typeof e.wrap=="object"?e.wrap:{cls:"xresizable-wrap"});this.el.id=this.el.dom.id=e.resizeChild.id+"-rzwrap";this.el.setStyle("overflow","hidden");this.el.setPositioning(e.resizeChild.getPositioning());e.resizeChild.clearPositioning();if(!e.width||!e.height){var g=e.resizeChild.getSize();this.el.setSize(g.width,g.height)}if(e.pinned&&!e.adjustments){e.adjustments="auto"}}this.proxy=this.el.createProxy({tag:"div",cls:"x-resizable-proxy",id:this.el.id+"-rzproxy"},Ext.getBody());this.proxy.unselectable();this.proxy.enableDisplayMode("block");Ext.apply(this,e);if(this.pinned){this.disableTrackOver=true;this.el.addClass("x-resizable-pinned")}var k=this.el.getStyle("position");if(k!="absolute"&&k!="fixed"){this.el.setStyle("position","relative")}if(!this.handles){this.handles="s,e,se";if(this.multiDirectional){this.handles+=",n,w"}}if(this.handles=="all"){this.handles="n s e w ne nw se sw"}var o=this.handles.split(/\s*?[,;]\s*?| /);var c=Ext.Resizable.positions;for(var j=0,l=o.length;j<l;j++){if(o[j]&&c[o[j]]){var n=c[o[j]];this[n]=new Ext.Resizable.Handle(this,n,this.disableTrackOver,this.transparent,this.handleCls)}}this.corner=this.southeast;if(this.handles.indexOf("n")!=-1||this.handles.indexOf("w")!=-1){this.updateBox=true}this.activeHandle=null;if(this.resizeChild){if(typeof this.resizeChild=="boolean"){this.resizeChild=Ext.get(this.el.dom.firstChild,true)}else{this.resizeChild=Ext.get(this.resizeChild,true)}}if(this.adjustments=="auto"){var b=this.resizeChild;var m=this.west,h=this.east,a=this.north,o=this.south;if(b&&(m||a)){b.position("relative");b.setLeft(m?m.el.getWidth():0);b.setTop(a?a.el.getHeight():0)}this.adjustments=[(h?-h.el.getWidth():0)+(m?-m.el.getWidth():0),(a?-a.el.getHeight():0)+(o?-o.el.getHeight():0)-1]}if(this.draggable){this.dd=this.dynamic?this.el.initDD(null):this.el.initDDProxy(null,{dragElId:this.proxy.id});this.dd.setHandleElId(this.resizeChild?this.resizeChild.id:this.el.id);if(this.constrainTo){this.dd.constrainTo(this.constrainTo)}}this.addEvents("beforeresize","resize");if(this.width!==null&&this.height!==null){this.resizeTo(this.width,this.height)}else{this.updateChildSize()}if(Ext.isIE){this.el.dom.style.zoom=1}Ext.Resizable.superclass.constructor.call(this)},adjustments:[0,0],animate:false,disableTrackOver:false,draggable:false,duration:0.35,dynamic:false,easing:"easeOutStrong",enabled:true,handles:false,multiDirectional:false,height:null,width:null,heightIncrement:0,widthIncrement:0,minHeight:5,minWidth:5,maxHeight:10000,maxWidth:10000,minX:0,minY:0,pinned:false,preserveRatio:false,resizeChild:false,transparent:false,resizeTo:function(b,a){this.el.setSize(b,a);this.updateChildSize();this.fireEvent("resize",this,b,a,null)},startSizing:function(c,b){this.fireEvent("beforeresize",this,c);if(this.enabled){if(!this.overlay){this.overlay=this.el.createProxy({tag:"div",cls:"x-resizable-overlay",html:"&#160;"},Ext.getBody());this.overlay.unselectable();this.overlay.enableDisplayMode("block");this.overlay.on({scope:this,mousemove:this.onMouseMove,mouseup:this.onMouseUp})}this.overlay.setStyle("cursor",b.el.getStyle("cursor"));this.resizing=true;this.startBox=this.el.getBox();this.startPoint=c.getXY();this.offsets=[(this.startBox.x+this.startBox.width)-this.startPoint[0],(this.startBox.y+this.startBox.height)-this.startPoint[1]];this.overlay.setSize(Ext.lib.Dom.getViewWidth(true),Ext.lib.Dom.getViewHeight(true));this.overlay.show();if(this.constrainTo){var a=Ext.get(this.constrainTo);this.resizeRegion=a.getRegion().adjust(a.getFrameWidth("t"),a.getFrameWidth("l"),-a.getFrameWidth("b"),-a.getFrameWidth("r"))}this.proxy.setStyle("visibility","hidden");this.proxy.show();this.proxy.setBox(this.startBox);if(!this.dynamic){this.proxy.setStyle("visibility","visible")}}},onMouseDown:function(a,b){if(this.enabled){b.stopEvent();this.activeHandle=a;this.startSizing(b,a)}},onMouseUp:function(b){this.activeHandle=null;var a=this.resizeElement();this.resizing=false;this.handleOut();this.overlay.hide();this.proxy.hide();this.fireEvent("resize",this,a.width,a.height,b)},updateChildSize:function(){if(this.resizeChild){var d=this.el;var e=this.resizeChild;var c=this.adjustments;if(d.dom.offsetWidth){var a=d.getSize(true);e.setSize(a.width+c[0],a.height+c[1])}if(Ext.isIE){setTimeout(function(){if(d.dom.offsetWidth){var g=d.getSize(true);e.setSize(g.width+c[0],g.height+c[1])}},10)}}},snap:function(c,e,b){if(!e||!c){return c}var d=c;var a=c%e;if(a>0){if(a>(e/2)){d=c+(e-a)}else{d=c-a}}return Math.max(b,d)},resizeElement:function(){var a=this.proxy.getBox();if(this.updateBox){this.el.setBox(a,false,this.animate,this.duration,null,this.easing)}else{this.el.setSize(a.width,a.height,this.animate,this.duration,null,this.easing)}this.updateChildSize();if(!this.dynamic){this.proxy.hide()}if(this.draggable&&this.constrainTo){this.dd.resetConstraints();this.dd.constrainTo(this.constrainTo)}return a},constrain:function(b,c,a,d){if(b-c<a){c=b-a}else{if(b-c>d){c=b-d}}return c},onMouseMove:function(z){if(this.enabled&&this.activeHandle){try{if(this.resizeRegion&&!this.resizeRegion.contains(z.getPoint())){return}var t=this.curSize||this.startBox,l=this.startBox.x,k=this.startBox.y,c=l,b=k,m=t.width,u=t.height,d=m,o=u,n=this.minWidth,A=this.minHeight,s=this.maxWidth,D=this.maxHeight,i=this.widthIncrement,a=this.heightIncrement,B=z.getXY(),r=-(this.startPoint[0]-Math.max(this.minX,B[0])),p=-(this.startPoint[1]-Math.max(this.minY,B[1])),j=this.activeHandle.position,E,g;switch(j){case"east":m+=r;m=Math.min(Math.max(n,m),s);break;case"south":u+=p;u=Math.min(Math.max(A,u),D);break;case"southeast":m+=r;u+=p;m=Math.min(Math.max(n,m),s);u=Math.min(Math.max(A,u),D);break;case"north":p=this.constrain(u,p,A,D);k+=p;u-=p;break;case"west":r=this.constrain(m,r,n,s);l+=r;m-=r;break;case"northeast":m+=r;m=Math.min(Math.max(n,m),s);p=this.constrain(u,p,A,D);k+=p;u-=p;break;case"northwest":r=this.constrain(m,r,n,s);p=this.constrain(u,p,A,D);k+=p;u-=p;l+=r;m-=r;break;case"southwest":r=this.constrain(m,r,n,s);u+=p;u=Math.min(Math.max(A,u),D);l+=r;m-=r;break}var q=this.snap(m,i,n);var C=this.snap(u,a,A);if(q!=m||C!=u){switch(j){case"northeast":k-=C-u;break;case"north":k-=C-u;break;case"southwest":l-=q-m;break;case"west":l-=q-m;break;case"northwest":l-=q-m;k-=C-u;break}m=q;u=C}if(this.preserveRatio){switch(j){case"southeast":case"east":u=o*(m/d);u=Math.min(Math.max(A,u),D);m=d*(u/o);break;case"south":m=d*(u/o);m=Math.min(Math.max(n,m),s);u=o*(m/d);break;case"northeast":m=d*(u/o);m=Math.min(Math.max(n,m),s);u=o*(m/d);break;case"north":E=m;m=d*(u/o);m=Math.min(Math.max(n,m),s);u=o*(m/d);l+=(E-m)/2;break;case"southwest":u=o*(m/d);u=Math.min(Math.max(A,u),D);E=m;m=d*(u/o);l+=E-m;break;case"west":g=u;u=o*(m/d);u=Math.min(Math.max(A,u),D);k+=(g-u)/2;E=m;m=d*(u/o);l+=E-m;break;case"northwest":E=m;g=u;u=o*(m/d);u=Math.min(Math.max(A,u),D);m=d*(u/o);k+=g-u;l+=E-m;break}}this.proxy.setBounds(l,k,m,u);if(this.dynamic){this.resizeElement()}}catch(v){}}},handleOver:function(){if(this.enabled){this.el.addClass("x-resizable-over")}},handleOut:function(){if(!this.resizing){this.el.removeClass("x-resizable-over")}},getEl:function(){return this.el},getResizeChild:function(){return this.resizeChild},destroy:function(b){Ext.destroy(this.dd,this.overlay,this.proxy);this.overlay=null;this.proxy=null;var c=Ext.Resizable.positions;for(var a in c){if(typeof c[a]!="function"&&this[c[a]]){this[c[a]].destroy()}}if(b){this.el.update("");Ext.destroy(this.el);this.el=null}this.purgeListeners()},syncHandleHeight:function(){var a=this.el.getHeight(true);if(this.west){this.west.el.setHeight(a)}if(this.east){this.east.el.setHeight(a)}}});Ext.Resizable.positions={n:"north",s:"south",e:"east",w:"west",se:"southeast",sw:"southwest",nw:"northwest",ne:"northeast"};Ext.Resizable.Handle=Ext.extend(Object,{constructor:function(d,g,c,e,a){if(!this.tpl){var b=Ext.DomHelper.createTemplate({tag:"div",cls:"x-resizable-handle x-resizable-handle-{0}"});b.compile();Ext.Resizable.Handle.prototype.tpl=b}this.position=g;this.rz=d;this.el=this.tpl.append(d.el.dom,[this.position],true);this.el.unselectable();if(e){this.el.setOpacity(0)}if(!Ext.isEmpty(a)){this.el.addClass(a)}this.el.on("mousedown",this.onMouseDown,this);if(!c){this.el.on({scope:this,mouseover:this.onMouseOver,mouseout:this.onMouseOut})}},afterResize:function(a){},onMouseDown:function(a){this.rz.onMouseDown(this,a)},onMouseOver:function(a){this.rz.handleOver(this,a)},onMouseOut:function(a){this.rz.handleOut(this,a)},destroy:function(){Ext.destroy(this.el);this.el=null}});
Ext.state.Provider=function(){this.addEvents("statechange");this.state={};Ext.state.Provider.superclass.constructor.call(this)};Ext.extend(Ext.state.Provider,Ext.util.Observable,{get:function(b,a){return typeof this.state[b]=="undefined"?a:this.state[b]},clear:function(a){delete this.state[a];this.fireEvent("statechange",this,a,null)},set:function(a,b){this.state[a]=b;this.fireEvent("statechange",this,a,b)},decodeValue:function(b){var e=/^(a|n|d|b|s|o)\:(.*)$/;var g=e.exec(unescape(b));if(!g||!g[1]){return}var d=g[1];var a=g[2];switch(d){case"n":return parseFloat(a);case"d":return new Date(Date.parse(a));case"b":return(a=="1");case"a":var c=[];if(a!=""){Ext.each(a.split("^"),function(h){c.push(this.decodeValue(h))},this)}return c;case"o":var c={};if(a!=""){Ext.each(a.split("^"),function(i){var h=i.split("=");c[h[0]]=this.decodeValue(h[1])},this)}return c;default:return a}},encodeValue:function(c){var b;if(typeof c=="number"){b="n:"+c}else{if(typeof c=="boolean"){b="b:"+(c?"1":"0")}else{if(Ext.isDate(c)){b="d:"+c.toGMTString()}else{if(Ext.isArray(c)){var g="";for(var e=0,a=c.length;e<a;e++){g+=this.encodeValue(c[e]);if(e!=a-1){g+="^"}}b="a:"+g}else{if(typeof c=="object"){var g="";for(var d in c){if(typeof c[d]!="function"&&c[d]!==undefined){g+=d+"="+this.encodeValue(c[d])+"^"}}b="o:"+g.substring(0,g.length-1)}else{b="s:"+c}}}}}return escape(b)}});
Ext.state.Manager=function(){var a=new Ext.state.Provider();return{setProvider:function(b){a=b},get:function(c,b){return a.get(c,b)},set:function(b,c){a.set(b,c)},clear:function(b){a.clear(b)},getProvider:function(){return a}}}();
Ext.state.CookieProvider=function(a){Ext.state.CookieProvider.superclass.constructor.call(this);this.path="/";this.expires=new Date(new Date().getTime()+(1000*60*60*24*7));this.domain=null;this.secure=false;Ext.apply(this,a);this.state=this.readCookies()};Ext.extend(Ext.state.CookieProvider,Ext.state.Provider,{set:function(a,b){if(typeof b=="undefined"||b===null){this.clear(a);return}this.setCookie(a,b);Ext.state.CookieProvider.superclass.set.call(this,a,b)},clear:function(a){this.clearCookie(a);Ext.state.CookieProvider.superclass.clear.call(this,a)},readCookies:function(){var d={};var h=document.cookie+";";var b=/\s?(.*?)=(.*?);/g;var g;while((g=b.exec(h))!=null){var a=g[1];var e=g[2];if(a&&a.substring(0,3)=="ys-"){d[a.substr(3)]=this.decodeValue(e)}}return d},setCookie:function(a,b){document.cookie="ys-"+a+"="+this.encodeValue(b)+((this.expires==null)?"":("; expires="+this.expires.toGMTString()))+((this.path==null)?"":("; path="+this.path))+((this.domain==null)?"":("; domain="+this.domain))+((this.secure==true)?"; secure":"")},clearCookie:function(a){document.cookie="ys-"+a+"=null; expires=Thu, 01-Jan-70 00:00:01 GMT"+((this.path==null)?"":("; path="+this.path))+((this.domain==null)?"":("; domain="+this.domain))+((this.secure==true)?"; secure":"")}});
var jsonlint=(function(){var require=true,module=false;var exports={};var grammar=(function(){var parser={trace:function trace(){},yy:{},symbols_:{"JSONString":2,"STRING":3,"JSONNumber":4,"NUMBER":5,"JSONNullLiteral":6,"NULL":7,"JSONBooleanLiteral":8,"TRUE":9,"FALSE":10,"JSONText":11,"JSONObject":12,"JSONArray":13,"JSONValue":14,"{":15,"}":16,"JSONMemberList":17,"JSONMember":18,":":19,",":20,"[":21,"]":22,"JSONElementList":23,"$accept":0,"$end":1},terminals_:{"3":"STRING","5":"NUMBER","7":"NULL","9":"TRUE","10":"FALSE","15":"{","16":"}","19":":","20":",","21":"[","22":"]"},productions_:[0,[2,1],[4,1],[6,1],[8,1],[8,1],[11,1],[11,1],[14,1],[14,1],[14,1],[14,1],[14,1],[14,1],[12,2],[12,3],[18,3],[17,1],[17,3],[13,2],[13,3],[23,1],[23,3]],performAction:function anonymous(yytext,yyleng,yylineno,yy){var $$=arguments[5],$0=arguments[5].length;switch(arguments[4]){case 1:this.$=yytext;break;case 2:this.$=Number(yytext);break;case 3:this.$=null;break;case 4:this.$=true;break;case 5:this.$=false;break;case 6:return this.$=$$[$0-1+1-1];break;case 7:return this.$=$$[$0-1+1-1];break;case 8:this.$=$$[$0-1+1-1];break;case 9:this.$=$$[$0-1+1-1];break;case 10:this.$=$$[$0-1+1-1];break;case 11:this.$=$$[$0-1+1-1];break;case 12:this.$=$$[$0-1+1-1];break;case 13:this.$=$$[$0-1+1-1];break;case 14:this.$={};break;case 15:this.$=$$[$0-3+2-1];break;case 16:this.$=[$$[$0-3+1-1],$$[$0-3+3-1]];break;case 17:this.$={};this.$[$$[$0-1+1-1][0]]=$$[$0-1+1-1][1];break;case 18:this.$=$$[$0-3+1-1];$$[$0-3+1-1][$$[$0-3+3-1][0]]=$$[$0-3+3-1][1];break;case 19:this.$=[];break;case 20:this.$=$$[$0-3+2-1];break;case 21:this.$=[$$[$0-1+1-1]];break;case 22:this.$=$$[$0-3+1-1];$$[$0-3+1-1].push($$[$0-3+3-1]);break;default:;}},table:[{"11":1,"12":2,"13":3,"15":[1,4],"21":[1,5]},{"1":[3]},{"1":[2,6]},{"1":[2,7]},{"16":[1,6],"17":7,"18":8,"2":9,"3":[1,10]},{"22":[1,11],"23":12,"14":13,"6":14,"8":15,"2":16,"4":17,"12":18,"13":19,"7":[1,20],"9":[1,21],"10":[1,22],"3":[1,10],"5":[1,23],"15":[1,4],"21":[1,5]},{"1":[2,14],"22":[2,14],"20":[2,14],"16":[2,14]},{"16":[1,24],"20":[1,25]},{"16":[2,17],"20":[2,17]},{"19":[1,26]},{"19":[2,1],"22":[2,1],"20":[2,1],"16":[2,1]},{"1":[2,19],"22":[2,19],"20":[2,19],"16":[2,19]},{"22":[1,27],"20":[1,28]},{"22":[2,21],"20":[2,21]},{"22":[2,8],"20":[2,8],"16":[2,8]},{"22":[2,9],"20":[2,9],"16":[2,9]},{"22":[2,10],"20":[2,10],"16":[2,10]},{"22":[2,11],"20":[2,11],"16":[2,11]},{"22":[2,12],"20":[2,12],"16":[2,12]},{"22":[2,13],"20":[2,13],"16":[2,13]},{"22":[2,3],"20":[2,3],"16":[2,3]},{"22":[2,4],"20":[2,4],"16":[2,4]},{"22":[2,5],"20":[2,5],"16":[2,5]},{"22":[2,2],"20":[2,2],"16":[2,2]},{"1":[2,15],"22":[2,15],"20":[2,15],"16":[2,15]},{"18":29,"2":9,"3":[1,10]},{"14":30,"6":14,"8":15,"2":16,"4":17,"12":18,"13":19,"7":[1,20],"9":[1,21],"10":[1,22],"3":[1,10],"5":[1,23],"15":[1,4],"21":[1,5]},{"1":[2,20],"22":[2,20],"20":[2,20],"16":[2,20]},{"14":31,"6":14,"8":15,"2":16,"4":17,"12":18,"13":19,"7":[1,20],"9":[1,21],"10":[1,22],"3":[1,10],"5":[1,23],"15":[1,4],"21":[1,5]},{"16":[2,18],"20":[2,18]},{"16":[2,16],"20":[2,16]},{"22":[2,22],"20":[2,22]}],parseError:function parseError(str,hash){throw new Error(str);},parse:function parse(input){var self=this,stack=[0],vstack=[null],table=this.table,yytext="",yylineno=0,yyleng=0,shifts=0,reductions=0;this.lexer.setInput(input);this.lexer.yy=this.yy;var parseError=this.yy.parseError=this.yy.parseError||this.parseError;function lex(){var token;token=self.lexer.lex()||1;if(typeof token!=="number"){token=self.symbols_[token];}
return token;};
var symbol,state,action,a,r,yyval={},p,len,ip=0,newState,expected;symbol=lex();while(true){state=stack[stack.length-1];action=table[state]&&table[state][symbol];if(typeof action==="undefined"||!action.length||!action[0]){expected=[];for(p in table[state]){if(this.terminals_[p]&&p!=1){expected.push("'"+this.terminals_[p]+"'");}};
if(this.lexer.showPosition){parseError("Parse error on line "+(yylineno+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+expected.join(", "),{text:this.lexer.match,token:this.terminals_[symbol],line:this.lexer.yylineno,expected:expected});}else{parseError("Parse error on line "+(yylineno+1)+": Unexpected '"+this.terminals_[symbol]+"'",{text:this.lexer.match,token:this.terminals_[symbol],line:this.lexer.yylineno,expected:expected});}};
if(action[0]instanceof Array&&action.length>1){throw new Error("Parse Error: multiple actions possible at state: "+state+", token: "+symbol);};
a=action;switch(a[0]){case 1:shifts++;stack.push(symbol);++ip;yyleng=this.lexer.yyleng;yytext=this.lexer.yytext;yylineno=this.lexer.yylineno;symbol=lex();vstack.push(null);stack.push(a[1]);break;case 2:reductions++;len=this.productions_[a[1]][1];yyval.$=vstack[vstack.length-len];r=this.performAction.call(yyval,yytext,yyleng,yylineno,this.yy,a[1],vstack);if(typeof r!=="undefined"){return r;};
if(len){stack=stack.slice(0,-1*len*2);vstack=vstack.slice(0,-1*len);};
stack.push(this.productions_[a[1]][0]);vstack.push(yyval.$);newState=table[stack[stack.length-2]][stack[stack.length-1]];stack.push(newState);break;case 3:this.reductionCount=reductions;this.shiftCount=shifts;return true;default:;}};
return true;}};var lexer=(function(){var lexer=({EOF:"",parseError:function parseError(str,hash){if(this.yy.parseError){this.yy.parseError(str,hash);}else{throw new Error(str);}},setInput:function(input){this._input=input;this._more=this._less=this.done=false;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";return this;},input:function(){var ch=this._input[0];this.yytext+=ch;this.yyleng++;this.match+=ch;this.matched+=ch;var lines=ch.match(/\n/);if(lines){this.yylineno++;};
this._input=this._input.slice(1);return ch;},unput:function(ch){this._input=ch+this._input;return this;},more:function(){this._more=true;return this;},pastInput:function(){var past=this.matched.substr(0,this.matched.length-this.match.length);return(past.length>20?"...":"")+past.substr(-20).replace(/\n/g,"");},upcomingInput:function(){var next=this.match;if(next.length<20){next+=this._input.substr(0,20-next.length);};
return(next.substr(0,20)+(next.length>20?"...":"")).replace(/\n/g,"");},showPosition:function(){var pre=this.pastInput();var c=(new Array(pre.length+1)).join("-");return pre+this.upcomingInput()+"\n"+c+"^";},next:function(){if(this.done){return this.EOF;};
if(!this._input){this.done=true;};
var token,match,lines;if(!this._more){this.yytext="";this.match="";};
for(var i=0;i<this.rules.length;i++){match=this._input.match(this.rules[i]);if(match){lines=match[0].match(/\n/g);if(lines){this.yylineno+=lines.length;};
this.yytext+=match[0];this.match+=match[0];this.matches=match;this.yyleng=this.yytext.length;this._more=false;this._input=this._input.slice(match[0].length);this.matched+=match[0];token=this.performAction.call(this,this.yy,this,i);if(token){return token;}else{return;}}};
if(this._input==this.EOF){return this.EOF;}else{this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno});}},lex:function(){var r=this.next();if(typeof r!=="undefined"){return r;}else{return this.lex();}}});lexer.performAction=function anonymous(yy,yy_){switch(arguments[2]){case 0:break;case 1:return 5;break;case 2:yy_.yytext=yy_.yytext.substr(1,yy_.yyleng-2);return 3;break;case 3:return 15;break;case 4:return 16;break;case 5:return 21;break;case 6:return 22;break;case 7:return 20;break;case 8:return 19;break;case 9:return 9;break;case 10:return 10;break;case 11:return 7;break;case 12:return"INVALID";break;default:;}};lexer.rules=[/^\s+/,/^-?([0-9]|[1-9][0-9]+)(\.[0-9]+)?([eE][-+]?[0-9]+)?\b\b/,/^"(\\["bfnrt\/\\]|\\u[a-fA-F0-9]{4}|[^\0-\x08\x0a-\x1f"\\])*"/,/^\{/,/^\}/,/^\[/,/^\]/,/^,/,/^:/,/^true\b/,/^false\b/,/^null\b/,/^./];return lexer;})();
parser.lexer=lexer;return parser;})();if(typeof require!=='undefined'){exports.parser=grammar;exports.parse=function(){return grammar.parse.apply(grammar,arguments);};
exports.main=function commonjsMain(args){var cwd=require("file").path(require("file").cwd());if(!args[1]){throw new Error("Usage: "+args[0]+" FILE");};
var source=cwd.join(args[1]).read({charset:"utf-8"});this.parse(source);};
if(require.main===module){exports.main(require("system").args);}};
return exports;})();
/*! http://mths.be/punycode by @mathias */
;(function(y){var e,a=typeof define=='function'&&typeof define.amd=='object'&&define.amd&&define,p=typeof exports=='object'&&exports,I=typeof module=='object'&&module,A=typeof require=='function'&&require,s=2147483647,l=36,n=1,q=26,i=38,m=700,o=72,h=128,G='-',d=/[^ -~]/,v=/^xn--/,r={overflow:'Overflow: input needs wider integers to process.','not-basic':'Illegal input >= 0x80 (not a basic code point)','invalid-input':'Invalid input'},g=l-n,B=Math.floor,x=String.fromCharCode,H;function z(J){throw RangeError(r[J])}function E(L,J){var K=L.length;while(K--){L[K]=J(L[K])}return L}function c(J,K){var L='.';return E(J.split(L),K).join(L)}function k(M){var L=[],K=0,N=M.length,O,J;while(K<N){O=M.charCodeAt(K++);if((O&63488)==55296&&K<N){J=M.charCodeAt(K++);if((J&64512)==56320){L.push(((O&1023)<<10)+(J&1023)+65536)}else{L.push(O,J)}}else{L.push(O)}}return L}function D(J){return E(J,function(L){var K='';if(L>65535){L-=65536;K+=x(L>>>10&1023|55296);L=56320|L&1023}K+=x(L);return K}).join('')}function f(J){return J-48<10?J-22:J-65<26?J-65:J-97<26?J-97:l}function w(K,J){return K+22+75*(K<26)-((J!=0)<<5)}function b(M,K,L){var J=0;M=L?B(M/m):M>>1;M+=B(M/K);for(;M>g*q>>1;J+=l){M=B(M/g)}return B(J+(g+1)*M/(M+i))}function C(K,J){K-=(K-97<26)<<5;return K+(!J&&K-65<26)<<5}function u(W){var M=[],P=W.length,R,S=0,L=h,T=o,O,Q,U,K,X,N,V,Z,J,Y;O=W.lastIndexOf(G);if(O<0){O=0}for(Q=0;Q<O;++Q){if(W.charCodeAt(Q)>=128){z('not-basic')}M.push(W.charCodeAt(Q))}for(U=O>0?O+1:0;U<P;){for(K=S,X=1,N=l;;N+=l){if(U>=P){z('invalid-input')}V=f(W.charCodeAt(U++));if(V>=l||V>B((s-S)/X)){z('overflow')}S+=V*X;Z=N<=T?n:(N>=T+q?q:N-T);if(V<Z){break}Y=l-Z;if(X>B(s/Y)){z('overflow')}X*=Y}R=M.length+1;T=b(S-K,R,K==0);if(B(S/R)>s-L){z('overflow')}L+=B(S/R);S%=R;M.splice(S++,0,L)}return D(M)}function j(V){var M,X,S,K,T,R,N,J,Q,Z,W,L=[],P,O,Y,U;V=k(V);P=V.length;M=h;X=0;T=o;for(R=0;R<P;++R){W=V[R];if(W<128){L.push(x(W))}}S=K=L.length;if(K){L.push(G)}while(S<P){for(N=s,R=0;R<P;++R){W=V[R];if(W>=M&&W<N){N=W}}O=S+1;if(N-M>B((s-X)/O)){z('overflow')}X+=(N-M)*O;M=N;for(R=0;R<P;++R){W=V[R];if(W<M&&++X>s){z('overflow')}if(W==M){for(J=X,Q=l;;Q+=l){Z=Q<=T?n:(Q>=T+q?q:Q-T);if(J<Z){break}U=J-Z;Y=l-Z;L.push(x(w(Z+U%Y,0)));J=B(U/Y)}L.push(x(w(J,0)));T=b(X,O,S==K);X=0;++S}}++X;++M}return L.join('')}function t(J){return c(J,function(K){return v.test(K)?u(K.slice(4).toLowerCase()):K})}function F(J){return c(J,function(K){return d.test(K)?'xn--'+j(K):K})}e={version:'1.1.1',ucs2:{decode:k,encode:D},decode:u,encode:j,toASCII:F,toUnicode:t};if(p){if(I&&I.exports==p){I.exports=e}else{for(H in e){e.hasOwnProperty(H)&&(p[H]=e[H])}}}else{if(a){define('punycode',e)}else{y.punycode=e}}}(this));
Lucid={};Lucid.Boot={site:null,root:null,web:null,getRoot:function(append) {if(isUndefined(append)) {append="";} return LB.root+(append!=""?(append!="/"?"/":"")+append:"");},getWeb:function(append) {if(isUndefined(append)) {append="";} return LB.web+(append!=""?(append!="/"?"/":"")+append:"");},load:function() {Lucid.Boot.site=new Lucid.Core.Controller.Site();return Lucid.Boot.site;}};Lucid.Lib={};Lucid.Lib.System={errorReporting:1,setErrorReporting:function(errorReporting) {this.errorReporting=errorReporting;},getErrorReporting:function() {return this.errorReporting;}};var dump=function() {if(typeof console!="undefined"&&typeof console.log=="function") {for(var i=0,l=arguments.length;i<l;i++) {console.log(arguments[i]);}}};var isEmpty=function(value) {return value===undefined||value===null||value==="";};var isNull=function(value) {return value===null;};var isUndefined=function(value) {return value===undefined;};var typeOf=function(value,type) {var r=typeof value;if(r=="object") {if(value) {if(value instanceof Array) {r="array";} else if(value instanceof Object) {r="object";} else {var cls=Object.prototype.toString.call((value));if(cls=="[object Window]") {r="object";} if((cls=="[object Array]"||typeof value.length=="number"&&typeof value.splice!="undefined"&&typeof value.propertyIsEnumerable!="undefined"&&!value.propertyIsEnumerable("splice"))) {r="array";} else if((cls=="[object Function]"||typeof value.call!="undefined"&&typeof value.propertyIsEnumerable!="undefined"&&!value.propertyIsEnumerable("call"))) {r="function";}}} else {r="null";}} else if(r=="function"&&typeof value.call=="undefined") {r="object";} return isEmpty(type)?r:r==type.toLowerCase();};Object.apply=Ext.apply;Object.applyIf=Ext.applyIf;Object.clone=function(object) {var r={};for(var i in object) {r[i]=object[i];} return r;};Object.createNamespace=Ext.namespace;Object.extend=Ext.extend||function(object,withObject) {var key,source;for(var i=1;i<arguments.length;i++) {source=arguments[i];for(key in source) {object[key]=source[key];} for(var j=0;j<Object.extend.PROTOTYPE_FIELDS.length;j++) {key=Object.extend.PROTOTYPE_FIELDS[j];if(Object.prototype.hasOwnProperty.call(source,key)) {object[key]=source[key];}}}};Object.extend.PROTOTYPE_FIELDS=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];Object.extending=function(object,withObject) {try {eval(object+" = Object.extend("+withObject+","+object+");");} catch(ex) {if(typeof eval(object)=="undefined") {throw new Error("Extending failed: The object '"+object+"' is undefined.");} else if(typeof eval(withObject)=="undefined") {throw new Error("Extending failed: The object '"+withObject+"' is undefined.");} else {throw ex;}}};Object.hashCode=function(object) {return this.serialize(object).hashCode();};Object.isDefined=function(object,field) {return typeof(object[field])!="undefined";};Object.isEmpty=function(object) {for(var i in object) {return false;} return true;};if(!Object.keys) {Object.keys=(function() {var hasOwnProperty=Object.prototype.hasOwnProperty;var hasDontEnumBug=!({toString:null}).propertyIsEnumerable("toString");var dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];return function(obj) {if(typeof obj!=="object"&&typeof obj!=="function"||obj===null) {throw new TypeError("Object.keys() called on non-object");} var r=[];for(var prop in obj) {if(hasOwnProperty.call(obj,prop)) {r.push(prop);}} if(hasDontEnumBug) {for(var i=0,l=dontEnums.length;i<l;i++) {if(hasOwnProperty.call(obj,dontEnums[i])) {r.push(dontEnums[i]);}}} return r}})()};Object.override=Ext.override;Object.save=function(v,d) {d=(typeOf(d,"Object")?d:{});return typeOf(v,"Object")?v:d;};Object.serialize=function(mixed,parseStack) {parseStack=parseStack||[];for(var i=0,l=parseStack.length;i<l;i++) {if(mixed===parseStack[i]) {return"null";}} if(mixed===null) {return"null";} else if(typeOf(mixed,"Boolean")) {return mixed?"true":"false";} else if(typeOf(mixed,"Number")) {return(mixed===NaN||mixed===Infinity?0:mixed);} else if(typeOf(mixed,"String")) {return"\""+mixed+"\"";} else if(typeOf(mixed,"Array")) {var r=[];parseStack.push(mixed);for(var i=0,l=mixed.length;i<l;i++) {r.push(i+":"+Object.serialize(mixed[i],parseStack));} return"["+r.join(",")+"]";} else if(typeOf(mixed,"Object")) {var r=[];parseStack.push(mixed);for(i in mixed) {if(!typeOf(mixed[i],"Function")) {r.push(i+":"+Object.serialize(mixed[i],parseStack));}} return"{"+r.join(",")+"}";} else if(Object.typeOf(mixed,"HTMLElement")) {return mixed.outerHTML||new XMLSerializer().serializeToString(mixed);} else {return"undefined";}};Object.IS_HTML_ELEMENT_REGEXP=/^HTML.*Element|HTMLDocument$/;Object.PARSE_CLASS_NAME_REGEXP=/^\[object\s(.*)\]/;Object.typeOf=function(mixed,type) {if(type) {if(type.toLower()=="dom"||type.toLower()=="htmlelement") {return Object.IS_HTML_ELEMENT_REGEXP.test(Object.typeOf(mixed));} else {return(Object.prototype.toString.call(mixed).match(Object.PARSE_CLASS_NAME_REGEXP)[1]==type)?true:false;}} else {if(mixed!==null&&typeof mixed=="object"&&Object.prototype.toString.call(mixed)=="[object Object]"&&typeof mixed.nodeName=="string") {return"HTML"+mixed.nodeName+"Element";} return Object.prototype.toString.call(mixed).match(Object.PARSE_CLASS_NAME_REGEXP)[1];}};if(typeof document.getElementsByClassName=="undefined") {document.getElementsByClassName=function(className,node,tag) {node=node?node:document;tag=tag?tag:"*";var r=[];var elements=node.getElementsByTagName(tag);var regexp=new RegExp("(^|\\s)"+className+"(\\s|$)");for(var i=0,l=elements.length;i<l;i++) {if(regexp.test(elements[i].className)) {r.push(els[i]);}} return r;}} if(typeof Range=="object"&&typeof Range.prototype.createContextualFragment=="undefined") {Range.prototype.createContextualFragment=function(tagString) {var ownerDocument=this.startContainer.ownerDocument;var container=ownerDocument.createElement("div");container.innerHTML=tagString;var r=ownerDocument.createDocumentFragment(),n;while((n=container.firstChild)) {r.appendChild(n);} return r;};} Object.createNamespace("Lucid");Lucid.Core={};Array.isArray=function(mixed) {return typeOf(mixed,"Array");};Array.save=function(v,d) {d=(typeOf(d,"Array")?d:[]);if(typeOf(v,"Array")) {return v;} else {return d;}};Array.Sort={};Array.Sort.Numeric=function(a,b) {return a-b;};Array.Sort.Natural=function(a,b) {var x=a.toString().toLowerCase()||"";var y=b.toString().toLowerCase()||"";var nC=String.fromCharCode(0);var xN=x.replace(/([-]{0,1}[0-9.]{1,})/g,nC+"$1"+nC).split(nC);var yN=y.replace(/([-]{0,1}[0-9.]{1,})/g,nC+"$1"+nC).split(nC);var xD=(new Date(x)).getTime();var yD=(new Date(y)).getTime();if(xD&&yD&&xD<yD) {return-1;} else if(xD&&yD&&xD>yD) {return 1;} for(var cLoc=0,numS=Math.max(xN.length,yN.length);cLoc<numS;cLoc++) {if((parseFloat(xN[cLoc])||xN[cLoc])<(parseFloat(yN[cLoc])||yN[cLoc])) {return-1;} else if((parseFloat(xN[cLoc])||xN[cLoc])>(parseFloat(yN[cLoc])||yN[cLoc])) {return 1;}} return 0;};Array.prototype.clean=function() {var r=[],v;for(var i=0,l=this.length;i<l;i++) {v=this[i];if(typeOf(v,"String")) {v=v.trim();} if(!isEmpty(v)) {r.push(v);}} return r;};Array.prototype.clone=function() {return this.concat();};Array.prototype.contains=function(needle) {return this.indexOf(needle)!==-1;};Array.prototype.each=Array.prototype.forEach;if(isUndefined(Array.prototype.every)) {Array.prototype.every=function(callable,bindTo) {if(!typeOf(callable,"function")) {throw new LC.Error.ArgumentIsInvalid("callable");} for(var i=0,l=this.length;i<l;i++) {if(!callable.call(bindTo,this[i],i,this)) {return false;}} return true;};} Array.prototype.exchange=function(from,to) {from=Number.save(from);to=Number.save(to);var r=[],l=this.length;if(from==to||!from.isWithin(0,l-1)||!to.isWithin(0,l-1)) {return this;} else if(to>from) {r.push.apply(r,this.slice(0,from));r.push(this[to]);r.push.apply(r,this.slice(from+1,to-l));r.push(this[from]);r.push.apply(r,this.slice(to+1));} else if(to<from) {r.push.apply(r,this.slice(0,to));r.push(this[from]);r.push.apply(r,this.slice(to+1,from-l));r.push(this[to]);r.push.apply(r,this.slice(from+1));} return r;};if(isUndefined(Array.prototype.filter)) {Array.prototype.filter=function(callable,bindTo) {if(!typeOf(callable,"function")) {throw new LC.Error.ArgumentIsInvalid("callable");} var r=[];for(var i=0,l=this.length;i<l;i++) {if(callable.call(bindTo,this[i],i,this)) {r.push(this[i]);}} return r;};} if(isUndefined(Array.prototype.forEach)) {Array.prototype.forEach=function(callable,bindTo) {if(!typeOf(callable,"function")) {throw new LC.Error.ArgumentIsInvalid("callable");} for(var i=0,l=this.length;i<l;i++) {if(!isUndefined(this[i])) {callable.call(bindTo,this[i],i,this);}}};} Array.prototype.get=function(index,d) {if(typeOf(index,"Array")) {for(var i=0,l=index.length;i<l;i++) {if(!isUndefined(this[index[i]])) {return this[index[i]];}} return!isUndefined(d)?d:null;} else {return(!isUndefined(this[index]))?this[index]:!isUndefined(d)?d:null;}};Array.prototype.getChunks=function(size) {size=Number.save(size,1);for(var x,i=0,c=-1,l=this.length,r=[];i<l;i++) {(x=i%size)?r[c][x]=this[i]:r[++c]=[this[i]];} return r;};Array.prototype.getDifference=function(to) {return Error("Not Implemented");};Array.prototype.getFirst=function() {return(this.length>0)?this[0]:false;};Array.prototype.getKeys=function() {var r=[],key;for(key in this) {if(this.hasOwnProperty(key)) {r.push(key);}} return r;};Array.prototype.getRandom=function() {return this[Number.getRandom(0,this.length-1)];};Array.prototype.getLast=function() {return(this.length>0)?this[this.length-1]:false;};if(isUndefined(Array.prototype.indexOf)) {Array.prototype.indexOf=function(needle,offset) {offset=Number.save(offset);if(offset<0) {offset=Math.max(0,this.length+offset);} for(var i=offset;i<this.length;i++) {if(this[i]===needle) {return i;}} return-1;};} if(isUndefined(Array.prototype.lastIndexOf)) {Array.prototype.lastIndexOf=function(needle,offset) {offset=Number.save(offset);if(offset<0) {offset=Math.max(0,this.length+offset);} for(var i=offset;i>=0;i--) {if(this[i]===needle) {return i;}} return-1;};} Array.prototype.isEmpty=function() {return this.length==0;};Array.prototype.merge=function(source) {var target=this;var l=target.length;var i=source.length;while(i--) {target[l+i]=source[i];} return target;};if(isUndefined(Array.prototype.map)) {Array.prototype.map=function(callable,bindTo) {if(!typeOf(callable,"function")) {throw new LC.Error.ArgumentIsInvalid("callable");} var r=[];for(var i=0,l=this.length;i<l;i++) {r.push(callable.call(bindTo,this[i],i,this));} return r;};} Array.prototype.moveDown=function(index) {var to=index-1;if(to<0) {return this;} return this.exchange(index,to);};Array.prototype.moveTo=function(index,to) {index=Number.save(index);to=Number.save(to);var r=[],l=this.length;if(index==to||!index.isWithin(0,l-1)||!to.isWithin(0,l-1)) {return this;} else if(index.isWithin(to-1,to+1)) {r=this.exchange(index,to);} else if(to>index) {r.push.apply(r,this.slice(0,index));r.push.apply(r,this.slice(index+1,to));r.push(this[index]);r.push.apply(r,this.slice(to,l));} else if(to<index) {r.push.apply(r,this.slice(0,to));r.push(this[index]);r.push.apply(r,this.slice(to,index));r.push.apply(r,this.slice(index+1,l));} return r;};Array.prototype.moveUp=function(index) {var to=index+1;if(to>this.length) {return this;} return this.exchange(index,to);};Array.prototype.save=function(value,defaultValue) {return this.setValues(Array.save(value,defaultValue));};Array.prototype.setValues=function(array) {this.length=0;for(var i=0,l=array.length;i<l;i++) {this.push(array[i]);} return this;};if(isUndefined(Array.prototype.some)) {Array.prototype.some=function(callable,bindTo) {if(!typeOf(callable,"function")) {throw new LC.Error.ArgumentIsInvalid("callable");} for(var i=0,l=this.length;i<l;i++) {if(callable.call(bindTo,this[i],i,this)) {return true;}} return false;};} if(isUndefined(Array.prototype.reverse)) {Array.prototype.reverse=function() {var r=[];for(var i=this.length-1;i>=0;i--) {r.push(this[i]);} return r;};} Array.prototype.rotateLeft=function(steps) {steps=Number.save(steps,1);var r=this,l=this.length,first;while(steps--) {var first=r[0];r=r.slice(1,l);r.push(first);} return r;};Array.prototype.rotateRight=function(steps) {steps=Number.save(steps,1);var r=this;while(steps--) {r=r.moveTo(this.length-1,0);} return r;};Array.prototype.shuffle=function() {var r=this;return r.sort(function(a,b) {return 0.5-Math.random();});};Array.prototype.unique=function() {var r=this;for(var i=0;i<r.length;i++) {for(var j=0;j<r.length-i;j++) {if(r[i]==r[i+j+1]) {r.splice(i+j+1,1);j--;}}} return r;};Boolean.parse=function(value) {if(isEmpty(value)) {return false;} else if(typeOf(value,"Boolean")) {return value;} else if(typeOf(value,"String")&&["true","yes","on"].indexOf(value.toLower())!==-1) {return true;} else if(typeOf(value,"String")&&["false","no","off"].indexOf(value.toLower())!==-1) {return false;} else {return Boolean(value);}};Boolean.save=function(value,defaultValue) {defaultValue=(typeof(defaultValue,"Boolean")?defaultValue:false);if(typeOf(value,"Boolean")) {return value;} else {return defaultValue;}};Date.isLeapYear=function(year) {return year%4==0&&(year%100!=0||year%400==0);};Date.isLongIsoYear=function(year) {var n=5*year+12-4*(Math.floor(year/100)-Math.floor(year/400));n+=Math.floor((year-100)/400)-Math.floor((year-102)/400);n+=Math.floor((year-200)/400)-Math.floor((year-199)/400);return n%28<5;};Date.getDaysOfMonth=function(year,month) {switch(month) {case 2:return Date.isLeapYear(year)?29:28;case 4:case 6:case 9:case 11:return 30;} return 31;};Date.getWeekNumber=function(year,month,day) {var d=new Date(year,month-1,day);return Math.floor(Math.round(((d.valueOf()+(((3-0+7)%7)-((((d.getDay()+6)%7)-0+7)%7))*(24*60*60*1000))-(new Date(new Date(first).getFullYear(),0,1).valueOf()))/(24*60*60*1000))/7)+1;};if(!Date.now) {Date.now=function() {return+new Date();};} Date.parseString=function(string,now) {var i,match,s,r="";string=String(string).replace(/\s{2,}|^\s|\s$/g," ").replace(/[\t\r\n]/g,"").toLower();now=typeOf(now,"number")?new Date(now*1000):new Date();if(string.toLower()=="now") {return(new Date()).getTime()/1000;} else if(r=Date.parse(string)) {return(r/1000);} else if(match=string.match(Date.parseString.ISO_REGEXP)) {if(!match[2]) {match[2]="00:00:00";} else if(!match[3]) {match[2]+=":00";} s=match[1].split(/-/g);for(i in Date.parseString.MONTHS) {if(Date.parseString.MONTHS[i]==s[1]-1) {s[1]=i;}} s[0]=parseInt(s[0],10);s[0]=(s[0]>=0&&s[0]<=69)?"20"+(s[0]<10?"0"+s[0]:s[0]+""):(s[0]>=70&&s[0]<=99)?"19"+s[0]:s[0]+"";return parseInt(Date.parseString(s[2]+" "+s[1]+" "+s[0]+" "+match[2])+(match[4]?match[4]/1000:""),10);} else {if(match=string.match(Date.parseString.ETD_REGEXP)) {for(i=0;i<match.length;i++) {if(!(now=Date.parseString.ETD_PROCESSOR(match[i].split(" "),now))) {return false;}} return(now.getTime()/1000);} return false;}};Date.parseString.ISO_REGEXP=/^(\d{2,4}-\d{2}-\d{2})(?:\s(\d{1,2}:\d{2}(:\d{2})?)?(?:\.(\d+))?)?$/;Date.parseString.ETD_REGEXP=/([+-]?\d+\s(years?|months?|weeks?|days?|hours?|min|minutes?|sec|seconds?|sun\.?|sunday|mon\.?|monday|tue\.?|tuesday|wed\.?|wednesday|thu\.?|thursday|fri\.?|friday|sat\.?|saturday)|(last|next)\s(years?|months?|weeks?|days?|hours?|min|minutes?|sec|seconds?|sun\.?|sunday|mon\.?|monday|tue\.?|tuesday|wed\.?|wednesday|thu\.?|thursday|fri\.?|friday|sat\.?|saturday))(\sago)?/gi;Date.parseString.ETD_PROCESSOR=function(m,now) {var ago=(m[2]&&m[2]=="ago");var num=(num=m[0]=="last"?-1:1)*(ago?-1:1);switch(m[0]) {case"last":case"next":switch(m[1].substring(0,3)) {case"yea":now.setFullYear(now.getFullYear()+num);break;case"mon":now.setMonth(now.getMonth()+num);break;case"wee":now.setDate(now.getDate()+(num*7));break;case"day":now.setDate(now.getDate()+num);break;case"hou":now.setHours(now.getHours()+num);break;case"min":now.setMinutes(now.getMinutes()+num);break;case"sec":now.setSeconds(now.getSeconds()+num);break;default:var day;if(!isUndefined(day=Date.parseString.DAYS[m[1].substring(0,3)])) {var diff=day-now.getDay();if(diff==0) {diff=7*num;} else if(diff>0) {if(m[0]=="last") {diff-=7;}} else {if(m[0]=="next") {diff+=7;}} now.setDate(now.getDate()+diff);}} break;default:if(/\d+/.test(m[0])) {num*=parseInt(m[0],10);switch(m[1].substring(0,3)) {case"yea":now.setFullYear(now.getFullYear()+num);break;case"mon":now.setMonth(now.getMonth()+num);break;case"wee":now.setDate(now.getDate()+(num*7));break;case"day":now.setDate(now.getDate()+num);break;case"hou":now.setHours(now.getHours()+num);break;case"min":now.setMinutes(now.getMinutes()+num);break;case"sec":now.setSeconds(now.getSeconds()+num);break;}} else {return false;} break;} return now;};Date.parseString.DAYS={"sun":0,"mon":1,"tue":2,"wed":3,"thu":4,"fri":5,"sat":6};Date.parseString.MONTHS={"jan":0,"feb":1,"mar":2,"apr":3,"may":4,"jun":5,"jul":6,"aug":7,"sep":8,"oct":9,"nov":10,"dec":11};Date.parseTimestamp=function(timestamp) {var r=new Date();r.setTime(timestamp*1000);return r;};Date.prototype.getDayOfMonth=function() {return this.getDate();};Date.prototype.getMonths=function() {return this.getMonth()+1;};Date.prototype.getDayOfWeek=function() {var r=this.getDay();return r==0?7:r+1;};Date.prototype.getYears=function() {return this.getFullYear();};Date.prototype.getDaysOfMonth=function() {return Date.getDaysOfMonth(this.getYears(),this.getMonths());};Date.prototype.getWeekNumber=function() {return Date.getWeekNumber(this.getYears(),this.getMonths(),this.getDayOfMonth());};Date.prototype.isLeapYear=function(year) {return Date.isLeapYear(this.getYears());};Date.prototype.isLongIsoYear=function() {return Date.isLongIsoYear(this.getYears());};Date.prototype.setMonths=function(months) {return this.setMonth(months+1);};Date.prototype.setYears=function(years) {return this.setFullYear(years+1);};Function.ABSTRACT=function(){throw Error("Not implemented");};Function.EMPTY=function(){};Function.constant=function(r) {return function(){return r;};};Function.memoize=function(callable) {if(typeOf(callable,"Function")) {var hash=callable.toString().hashCode();var r=function() {var cache=Function.memoize.cache[hash];var key=Json.stringify([this].concat(arguments));return cache.r[key]||(cache.r[key]=cache.c.apply(this,arguments));};if(!Function.memoize.cache) {Function.memoize.cache={};} r.memoize=callable;Function.memoize.cache[hash]={c:callable,r:{}};} else {return callable;}};Function.unmemoize=function(callable) {if(callable.memoize&&typeOf(callable.memoize,"Function")) {return callable.memoize;} else {return callable;}};Json={};Json.format=function(mixed) {return Json.stringify((typeOf(mixed,"String")?Json.parse(mixed):mixed),"\t");};Json.parse=(typeof JSON!="undefined"&&typeof Json.parse=="function"?JSON.parse:Ext.decode);Json.stringify=function(mixed,a1) {var r;if(typeof JSON=="object") {if(mixed===window||mixed===document) {return null;} var parseStack=[];r=JSON.stringify(mixed,function(k,v) {if(typeOf(v,"Object")&&Object.typeOf(v,"HTMLElement")) {return v.outerHTML||new XMLSerializer().serializeToString(v);} else if(typeOf(v,"Object")) {for(var i=parseStack.length-1;i>=0;--i) {if(v===parseStack[i]) {return null;}} parseStack.push(v);} return v;},a1);} else {r=Ext.encode(mixed);} return r;};Json.validate=function(value) {if(!isUndefined(jsonlint)&&typeOf(jsonlint.parse,"Function")) {try {var decoded=jsonlint.parse(value);return(!isUndefined(decoded))?true:false;} catch(e) {return false;}} else {try {return(!isUndefined(self.parse(value))?true:false);} catch(e) {return false;}}};Number.getRandom=function(min,max) {min=Number.save(min,0);max=Number.save(max,Number.MAX_VALUE);var r=Number(Math.random()*(max-min)).round()+min;return r;},Number.parseBinary=function(binary) {return parseInt(binary,2);};Number.parseDecimal=function(decimal) {return parseInt(decimal,10);};Number.parseHex=function(hex) {return parseInt(hex,16);};Number.parseOctal=function(octal) {return parseInt(octal,8);};Number.save=function(v,d) {d=(!isEmpty(d)&&typeOf(d,"Number")?d:0);if(!isEmpty(v)&&typeOf(v,"Number")) {return v;} else if(typeOf(v,"Object")&&typeOf(v.valueOf,"Function")) {return v.valueOf();} else if(typeOf(v,"String")&&v==Number(v).toString()) {return Number(v);} else {return d;}};Number.saveBetween=function(number,min,max) {min=Number.save(min,Number.MIN_VALUE);max=Number.save(max,Number.MAX_VALUE);if(number<min) {return min;} else if(number>max) {return max;} else {return number;}};Number.saveMaximum=function(number,max) {max=Number.save(max,Number.MAX_VALUE);return number>max?max:number;};Number.saveMinumum=function(number,min) {min=Number.save(min,Number.MIN_VALUE);return number<min?min:number;};Number.saveWithin=function(number,min,max) {min=Number.save(min,Number.MIN_VALUE);max=Number.save(max,Number.MAX_VALUE);if(number<min) {return min;} else if(number>max) {return max;} else {return number;}};Number.prototype.format=function(precision,decimalPoint,thousandsSeperator) {number=this;precision=Math.abs(Number.save(precision,0));decimalPoint=String.save(decimalPoint,".");thousandsSeperator=String.save(thousandsSeperator,",");var s=(precision>0)?number.toFixed(precision):Math.round(number).toFixed(precision);var abs=Math.abs(number).toFixed(precision);var a,i;if(abs>=1000) {a=abs.split(/\D/);i=a[0].length%3||3;a[0]=s.slice(0,i+(number<0))+a[0].slice(i).replace(/(\d{3})/g,thousandsSeperator+"$1");s=a.join(decimalPoint);} else {s=s.replace(".",decimalPoint);} return s;};Number.prototype.getMaximum=function() {return Number.MAX_VALUE;};Number.prototype.getMinimum=function() {return Number.MIN_VALUE;},Number.prototype.getRandom=function() {return Number.getRandom(0,this);};Number.prototype.isBetween=function(min,max) {min=Number.save(min,this.MIN_VALUE);max=Number.save(max,this.MAX_VALUE);return(this>min&&this<max)?true:false;};Number.prototype.isEven=function() {return this.isMultipleOf(2);};Number.prototype.isInteger=function() {return this.isMultipleOf(1);};Number.prototype.isMultipleOf=function(of) {return!(this%of);};Number.prototype.isUneven=function() {return!this.isMultipleOf(2);};Number.prototype.isWithin=function(min,max) {return this.isBetween(min-1,max+1);};Number.prototype.pad=function(pad,r) {r=Number.save(r,10);var n=this;for(;parseInt(n,10)<r&&r>1;r/=10) {n=pad.toString()+n;} return n.toString();};Number.prototype.round=function(precision) {precision=Number.save(precision,0);var r=Math.pow(10,precision);return Math.round(this*r)/r;};Number.prototype.toBinary=function() {return this.toString(2);};Number.prototype.toHex=function() {return this.toString(16);};Number.prototype.toOctal=function() {return"0"+this.toString(8);};RegExp.escape=function(string) {return String(string).replace(/([-.*+?^${}()|[\]\/\\])/g,"\\$1");};RegExp.prototype=Object.apply(RegExp.prototype,{match:function(string) {return this.exec(string);}});String.concatenate=function() {return Array.prototype.join.call(arguments,"");};String.getRandom=function(length,chars) {length=Number.save(length,12);chars=String.save(chars);var r="";var c=chars.length;if(chars.length>0) {for(var i=0;i<length;i++) {r+=chars.getSubString(Number.getRandom(0,c-1),1)}} else {while(r.length<length) {r+=(function() {return Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^(new Date().getTime())).toString(36);})();} r=r.getSubString(0,length);} return r;};String.save=function(v,d) {d=(!isEmpty(d)&&typeOf(d,"String")?d:"");if(isEmpty(v)) {return d;} else if(typeOf(v,"Object")&&typeOf(v.toString,"Function")) {return v.toString();} else if(typeOf(v,"String")) {return v;} else {return d;}};String.prototype.camelize=function(flags) {flags=String.save(flags).toLower();var i,r=this;var isLower=flags.contains("l");var isUpper=flags.contains("u");r=r.replace(/[^a-zA-Z0-9]/gi,"|").split("|").clean();if(isLower) {i=1;r[0]=r[0].toLower();} else {i=0;} for(i,l=r.length;i<l;i++) {r[i]=r[i].toUpperFirst();} r=r.join("");return r;};String.prototype.capitalize=function() {return this.charAt(0).toUpperCase()+this.substring(1).toLowerCase();};String.prototype.compare=function(withString,flags) {var isIgnoreCase=String.save(flags).toLower().contains("i");var test1=isIgnoreCase?this.toLower():this;var test2=isIgnoreCase?withString.toLower():String(withString);if(test1<test2) {return-1;} else if(test1==test2) {return 0;} else {return 1;}};String.prototype.compress=function() {var r=this;return r.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"");};String.prototype.chunks=function(length,eol) {length=Number.save(length,76);eol=String.save(eol,"\n\r");var r="",str=this;while(str.length>length) {r+=str.substring(0,length)+eol;str=str.substring(length);} return r+str;};String.prototype.contains=function(needle,offset) {if(this.indexOf(String.save(needle),Number.save(offset))>-1) {return true;} return false;};String.prototype.countChar=function(chr) {if(chr.length>1) {return false;} var r=0;for(var i=0,l=this.length;i<l;i++) {if(this.substr(i,1)==chr) {r++;}} return r;};String.prototype.endsWith=function(string,flags) {var isIgnoreCase=String.save(flags).toLower().contains("i");if(isIgnoreCase) {return this.toLower().getSubString(this.length-string.length,string.length)==string.toLower();} else {return this.getSubString(this.length-string.length,string.length)==string;}};String.prototype.getDistance=function(to) {throw new LC.Error.NotImplemented();};String.prototype.getFirst=function() {return(this.length>1)?this.substring(0,1):false;};String.prototype.getLast=function() {return(this.lenght>1)?this.substring(this.length-1,this.length):false;};String.prototype.getLength=function() {return this.lenght;};String.prototype.getPosition=function(needle,offset,flags) {offset=Integer.save(offset);flags=String.save(flags).toLowerCase();var r=this;if(flags.contains("i")&&flags.contains("r")) {return r.toLowerCalse().lastIndexOf(needle);} else if(flags.contains("i")) {return r.toLowerCalse().indexOf(needle);} else if(flags.contains("r")) {return r.lastIndexOf(needle);} else {return r.indexOf(needle);}};String.prototype.getSubString=String.prototype.substr;String.prototype.hashCode=function() {var r=0;for(var i=0;i<this.length;++i) {r=31*r+this.charCodeAt(i);r%=0x100000000;} return r;};String.prototype.isAlpha=function() {return/^[a-z]+$/i.test(this)};String.prototype.isAlphaNumeric=function() {return/[^a-zA-Z0-9]/i.test(this)};String.prototype.isEmpty=function() {return/^[\s\xa0]*$/.test(this);};String.prototype.isFirstLowerCase=function() {return this.getFirst().isLowerCase();};String.prototype.isFirstUpperCase=function() {return this.getFirst().isUpperCase();};String.prototype.isLowerCase=function() {return this.toLowerCase()==this;};String.prototype.isNumeric=function() {return!/[^0-9]/.test(this);};String.prototype.isUpperCase=function() {return this.toUpperCase()==this;};String.prototype.leftTrim=function(charlist) {return this.trim(charlist,"left");};String.prototype.normalizeNewlines=function() {return this.replace(/(\r\n|\r|\n)/g,"\n");};String.prototype.normalizeWhitespace=function() {return this.replace(/\xa0|\s/g," ");};String.prototype._quote=String.prototype.quote;String.prototype.quote=function(quote) {return(!quote?"\""+this+"\"":quote+this+quote);};String.prototype.pad=function(string,length,mode) {string=String.save(string," ");length=Number.save(length,30);mode=String.save(mode,"right");var left="",right="",lengthAll,lengthR,lengthL;if(mode=="left") {length=length-this.length;string=string.repeat(length);left=string.substr(0,length);} else if(mode=="right") {length=length-this.length;string=string.repeat(length);right=string.substr(0,length);} else if(mode=="both") {lengthAll=length-this.length;lengthR=Number(lengthAll/2).round();lengthL=lengthAll-lengthR;string=string.repeat(length);right=string.substr(0,lengthR);left=string.substr(0,lengthL);} return String(left+this+right);};String.prototype.remove=function(string) {return this.replace(new RegExp(RegExp.escape(string),"g"),"");};String.prototype.repeat=function(count) {if(count<1) {return"";} return String(new Array(count+1).join(this));};String.prototype.reverse=function() {var r="",i=this.length;while(i>0) {r+=this.substring(i-1,i);i--;} return r;};String.prototype.rightTrim=function(charlist) {return this.trim(charlist,"right");};String.prototype.shuffle=function() {return this.toArray().shuffle().join("");};String.prototype.startsWith=function(string,flags) {var isIgnoreCase=String.save(flags).toLower().contains("i");if(isIgnoreCase) {return this.toLower().getSubString(0,string.length)==string.toLower();} else {return this.getSubString(0,string.length)==string;}};String.prototype.template=function() {var args=arguments,r=this;return r.replace(/\{(\d+)\}/g,function(m,i) {return args[i];});};String.prototype.trim=function(charlist,mode) {if(!charlist) {charlist=" \n\r\t\f\x0b\xa0\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u3000";} else {charlist=String(charlist).replace(/([\[\]\(\)\.\?\/\*\{\}\+\$\^\:])/g,"$1");} mode=String.save(mode);mode=["left","right","both"].indexOf(mode.toLower())!==-1?mode.toLower():"both";var r=this+"",l=this.length;if(mode=="left"||mode=="both") {for(var i=0;i<l;i++) {if(charlist.indexOf(r.charAt(i))===-1) {r=r.substring(i);break;}} l=r.length;} if(mode=="right"||mode=="both") {for(var i=l-1;i>=0;i--) {if(charlist.indexOf(r.charAt(i))===-1) {r=r.substring(0,i+1);break;}}} return r;};String.prototype.toArray=function() {return this.split("");};String.prototype.toLower=String.prototype.toLowerCase;String.prototype.toLowerCamelCase=function() {return this.camelize("l");};String.prototype.toLowerFirst=function() {return this.getFirst().toLower()+this.getSubString(1,this.length-1);};String.prototype.toLowerWords=function() {var r=[],parts;parts=this.split(" ");for(var i=0,l=parts.length;i<l;i++) {r.push(parts[i].toLowerFirst());} return r.join(" ");};String.prototype.toUpper=String.prototype.toUpperCase;String.prototype.toUpperCamelCase=function() {return this.camelize("u");};String.prototype.toUpperFirst=function() {return this.getFirst().toUpper()+this.getSubString(1,this.length-1);};String.prototype.toUpperWords=function() {var r=[],parts;parts=this.split(" ");for(var i=0,l=parts.length;i<l;i++) {r.push(parts[i].toUpperFirst());} return r.join(" ");};String.prototype.truncate=function(length,truncation) {length=Number.save(length,30);truncation=String.save(truncation,"...");return this.length>length?this.slice(0,length-truncation.length)+truncation:String(this);};String.prototype.unquote=function(quotes) {quotes=String.save(quotes,"'\"");for(var i=0,l=quotes.length;i<l;i++) {if(this.charAt(0)==quotes.charAt(i)&&this.charAt(this.length-1)==quotes.charAt(i)) {return String(this.getSubString(1,this.length-2));}} return String(this);};Object.createNamespace("Lucid.Lib.System.Encode");Lucid.Lib.System.Encode.Base64={BASE64:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",decode:function(v) {var o1,o2,o3,h1,h2,h3,h4,bits,i=0,c=0,r=[];if(!v) {return v;} v+="";do{h1=this.BASE64.indexOf(v.charAt(i++));h2=this.BASE64.indexOf(v.charAt(i++));h3=this.BASE64.indexOf(v.charAt(i++));h4=this.BASE64.indexOf(v.charAt(i++));bits=h1<<18|h2<<12|h3<<6|h4;o1=bits>>16&0xff;o2=bits>>8&0xff;o3=bits&0xff;if(h3==64) {r[c++]=String.fromCharCode(o1);} else if(h4==64) {r[c++]=String.fromCharCode(o1,o2);} else {r[c++]=String.fromCharCode(o1,o2,o3);}}while(i<v.length);r=r.join("");r=Lucid.Lib.System.Encode.Utf8.decode(r);return r;},encode:function(v) {var o1,o2,o3,h1,h2,h3,h4,bits,i=0,c=0,r=[];if(!v) {return v;} v=Lucid.Lib.System.Encode.Utf8.encode(v+"");do{o1=v.charCodeAt(i++);o2=v.charCodeAt(i++);o3=v.charCodeAt(i++);bits=o1<<16|o2<<8|o3;h1=bits>>18&0x3f;h2=bits>>12&0x3f;h3=bits>>6&0x3f;h4=bits&0x3f;r[c++]=this.BASE64.charAt(h1)+this.BASE64.charAt(h2)+this.BASE64.charAt(h3)+this.BASE64.charAt(h4);}while(i<v.length);r=r.join("");switch(v.length%3) {case 1:r=r.slice(0,-2)+"==";break;case 2:r=r.slice(0,-1)+"=";break;} return r;}};Object.createNamespace("Lucid.Lib.System.Encode");Lucid.Lib.System.Encode.Utf8={decode:function(v) {var r=[],i=0,ac=0,c1=0,c2=0,c3=0;v+="";while(i<v.length) {c1=v.charCodeAt(i);if(c1<128) {r[ac++]=String.fromCharCode(c1);i++;} else if((c1>191)&&(c1<224)) {c2=v.charCodeAt(i+1);r[ac++]=String.fromCharCode(((c1&31)<<6)|(c2&63));i+=2;} else {c2=v.charCodeAt(i+1);c3=v.charCodeAt(i+2);r[ac++]=String.fromCharCode(((c1&15)<<12)|((c2&63)<<6)|(c3&63));i+=3;}} return r.join("");},encode:function(v) {v=(v+"").replace(/\r\n/g,"\n").replace(/\r/g,"\n");var r="";var start=0;var end=0;for(var n=0;n<v.length;n++) {var c1=v.charCodeAt(n);var enc=null;if(c1<128) {end++;} else if((c1>127)&&(c1<2048)) {enc=String.fromCharCode((c1>>6)|192)+String.fromCharCode((c1&63)|128);} else {enc=String.fromCharCode((c1>>12)|224)+String.fromCharCode(((c1>>6)&63)|128)+String.fromCharCode((c1&63)|128);} if(enc!=null) {if(end>start) {r+=v.substring(start,end);} r+=enc;start=end=n+1;}} if(end>start) {r+=v.substring(start,v.length);} return r;}};Object.createNamespace("Lucid.Lib.System.Hash");Lucid.Lib.System.Hash.Crc32=function(s) {var table="00000000 77073096 EE0E612C 990951BA 076DC419 706AF48F E963A535 9E6495A3 0EDB8832 79DCB8A4 E0D5E91E 97D2D988 09B64C2B 7EB17CBD E7B82D07 90BF1D91 1DB71064 6AB020F2 F3B97148 84BE41DE 1ADAD47D 6DDDE4EB F4D4B551 83D385C7 136C9856 646BA8C0 FD62F97A 8A65C9EC 14015C4F 63066CD9 FA0F3D63 8D080DF5 3B6E20C8 4C69105E D56041E4 A2677172 3C03E4D1 4B04D447 D20D85FD A50AB56B 35B5A8FA 42B2986C DBBBC9D6 ACBCF940 32D86CE3 45DF5C75 DCD60DCF ABD13D59 26D930AC 51DE003A C8D75180 BFD06116 21B4F4B5 56B3C423 CFBA9599 B8BDA50F 2802B89E 5F058808 C60CD9B2 B10BE924 2F6F7C87 58684C11 C1611DAB B6662D3D 76DC4190 01DB7106 98D220BC EFD5102A 71B18589 06B6B51F 9FBFE4A5 E8B8D433 7807C9A2 0F00F934 9609A88E E10E9818 7F6A0DBB 086D3D2D 91646C97 E6635C01 6B6B51F4 1C6C6162 856530D8 F262004E 6C0695ED 1B01A57B 8208F4C1 F50FC457 65B0D9C6 12B7E950 8BBEB8EA FCB9887C 62DD1DDF 15DA2D49 8CD37CF3 FBD44C65 4DB26158 3AB551CE A3BC0074 D4BB30E2 4ADFA541 3DD895D7 A4D1C46D D3D6F4FB 4369E96A 346ED9FC AD678846 DA60B8D0 44042D73 33031DE5 AA0A4C5F DD0D7CC9 5005713C 270241AA BE0B1010 C90C2086 5768B525 206F85B3 B966D409 CE61E49F 5EDEF90E 29D9C998 B0D09822 C7D7A8B4 59B33D17 2EB40D81 B7BD5C3B C0BA6CAD EDB88320 9ABFB3B6 03B6E20C 74B1D29A EAD54739 9DD277AF 04DB2615 73DC1683 E3630B12 94643B84 0D6D6A3E 7A6A5AA8 E40ECF0B 9309FF9D 0A00AE27 7D079EB1 F00F9344 8708A3D2 1E01F268 6906C2FE F762575D 806567CB 196C3671 6E6B06E7 FED41B76 89D32BE0 10DA7A5A 67DD4ACC F9B9DF6F 8EBEEFF9 17B7BE43 60B08ED5 D6D6A3E8 A1D1937E 38D8C2C4 4FDFF252 D1BB67F1 A6BC5767 3FB506DD 48B2364B D80D2BDA AF0A1B4C 36034AF6 41047A60 DF60EFC3 A867DF55 316E8EEF 4669BE79 CB61B38C BC66831A 256FD2A0 5268E236 CC0C7795 BB0B4703 220216B9 5505262F C5BA3BBE B2BD0B28 2BB45A92 5CB36A04 C2D7FFA7 B5D0CF31 2CD99E8B 5BDEAE1D 9B64C2B0 EC63F226 756AA39C 026D930A 9C0906A9 EB0E363F 72076785 05005713 95BF4A82 E2B87A14 7BB12BAE 0CB61B38 92D28E9B E5D5BE0D 7CDCEFB7 0BDBDF21 86D3D2D4 F1D4E242 68DDB3F8 1FDA836E 81BE16CD F6B9265B 6FB077E1 18B74777 88085AE6 FF0F6A70 66063BCA 11010B5C 8F659EFF F862AE69 616BFFD3 166CCF45 A00AE278 D70DD2EE 4E048354 3903B3C2 A7672661 D06016F7 4969474D 3E6E77DB AED16A4A D9D65ADC 40DF0B66 37D83BF0 A9BCAE53 DEBB9EC5 47B2CF7F 30B5FFE9 BDBDF21C CABAC28A 53B39330 24B4A3A6 BAD03605 CDD70693 54DE5729 23D967BF B3667A2E C4614AB8 5D681B02 2A6F2B94 B40BBE37 C30C8EA1 5A05DF1B 2D02EF8D";var r=0,x=0,y=0;r=r^(-1);for(var i=0,l=s.length;i<l;i++) {y=(r^s.charCodeAt(i))&0xFF;x="0x"+table.substr(y*9,8);r=(r>>>8)^x;} r=r^(-1);return r.toHex();};Object.createNamespace("Lucid.Lib.System.Hash");Lucid.Lib.System.Hash.Md5=function(s) {var hexcase=0;var chrsz=8;function safe_add(x,y) {var lsw=(x&0xFFFF)+(y&0xFFFF);var msw=(x>>16)+(y>>16)+(lsw>>16);return(msw<<16)|(lsw&0xFFFF);} function bit_rol(num,cnt) {return(num<<cnt)|(num>>>(32-cnt));} function md5_cmn(q,a,b,x,s,t) {return safe_add(bit_rol(safe_add(safe_add(a,q),safe_add(x,t)),s),b);} function md5_ff(a,b,c,d,x,s,t) {return md5_cmn((b&c)|((~b)&d),a,b,x,s,t);} function md5_gg(a,b,c,d,x,s,t) {return md5_cmn((b&d)|(c&(~d)),a,b,x,s,t);} function md5_hh(a,b,c,d,x,s,t) {return md5_cmn(b^c^d,a,b,x,s,t);} function md5_ii(a,b,c,d,x,s,t) {return md5_cmn(c^(b|(~d)),a,b,x,s,t);} function core_md5(x,len) {x[len>>5]|=0x80<<((len)%32);x[(((len+64)>>>9)<<4)+14]=len;var a=1732584193;var b=-271733879;var c=-1732584194;var d=271733878;for(var i=0;i<x.length;i+=16) {var olda=a;var oldb=b;var oldc=c;var oldd=d;a=md5_ff(a,b,c,d,x[i+0],7,-680876936);d=md5_ff(d,a,b,c,x[i+1],12,-389564586);c=md5_ff(c,d,a,b,x[i+2],17,606105819);b=md5_ff(b,c,d,a,x[i+3],22,-1044525330);a=md5_ff(a,b,c,d,x[i+4],7,-176418897);d=md5_ff(d,a,b,c,x[i+5],12,1200080426);c=md5_ff(c,d,a,b,x[i+6],17,-1473231341);b=md5_ff(b,c,d,a,x[i+7],22,-45705983);a=md5_ff(a,b,c,d,x[i+8],7,1770035416);d=md5_ff(d,a,b,c,x[i+9],12,-1958414417);c=md5_ff(c,d,a,b,x[i+10],17,-42063);b=md5_ff(b,c,d,a,x[i+11],22,-1990404162);a=md5_ff(a,b,c,d,x[i+12],7,1804603682);d=md5_ff(d,a,b,c,x[i+13],12,-40341101);c=md5_ff(c,d,a,b,x[i+14],17,-1502002290);b=md5_ff(b,c,d,a,x[i+15],22,1236535329);a=md5_gg(a,b,c,d,x[i+1],5,-165796510);d=md5_gg(d,a,b,c,x[i+6],9,-1069501632);c=md5_gg(c,d,a,b,x[i+11],14,643717713);b=md5_gg(b,c,d,a,x[i+0],20,-373897302);a=md5_gg(a,b,c,d,x[i+5],5,-701558691);d=md5_gg(d,a,b,c,x[i+10],9,38016083);c=md5_gg(c,d,a,b,x[i+15],14,-660478335);b=md5_gg(b,c,d,a,x[i+4],20,-405537848);a=md5_gg(a,b,c,d,x[i+9],5,568446438);d=md5_gg(d,a,b,c,x[i+14],9,-1019803690);c=md5_gg(c,d,a,b,x[i+3],14,-187363961);b=md5_gg(b,c,d,a,x[i+8],20,1163531501);a=md5_gg(a,b,c,d,x[i+13],5,-1444681467);d=md5_gg(d,a,b,c,x[i+2],9,-51403784);c=md5_gg(c,d,a,b,x[i+7],14,1735328473);b=md5_gg(b,c,d,a,x[i+12],20,-1926607734);a=md5_hh(a,b,c,d,x[i+5],4,-378558);d=md5_hh(d,a,b,c,x[i+8],11,-2022574463);c=md5_hh(c,d,a,b,x[i+11],16,1839030562);b=md5_hh(b,c,d,a,x[i+14],23,-35309556);a=md5_hh(a,b,c,d,x[i+1],4,-1530992060);d=md5_hh(d,a,b,c,x[i+4],11,1272893353);c=md5_hh(c,d,a,b,x[i+7],16,-155497632);b=md5_hh(b,c,d,a,x[i+10],23,-1094730640);a=md5_hh(a,b,c,d,x[i+13],4,681279174);d=md5_hh(d,a,b,c,x[i+0],11,-358537222);c=md5_hh(c,d,a,b,x[i+3],16,-722521979);b=md5_hh(b,c,d,a,x[i+6],23,76029189);a=md5_hh(a,b,c,d,x[i+9],4,-640364487);d=md5_hh(d,a,b,c,x[i+12],11,-421815835);c=md5_hh(c,d,a,b,x[i+15],16,530742520);b=md5_hh(b,c,d,a,x[i+2],23,-995338651);a=md5_ii(a,b,c,d,x[i+0],6,-198630844);d=md5_ii(d,a,b,c,x[i+7],10,1126891415);c=md5_ii(c,d,a,b,x[i+14],15,-1416354905);b=md5_ii(b,c,d,a,x[i+5],21,-57434055);a=md5_ii(a,b,c,d,x[i+12],6,1700485571);d=md5_ii(d,a,b,c,x[i+3],10,-1894986606);c=md5_ii(c,d,a,b,x[i+10],15,-1051523);b=md5_ii(b,c,d,a,x[i+1],21,-2054922799);a=md5_ii(a,b,c,d,x[i+8],6,1873313359);d=md5_ii(d,a,b,c,x[i+15],10,-30611744);c=md5_ii(c,d,a,b,x[i+6],15,-1560198380);b=md5_ii(b,c,d,a,x[i+13],21,1309151649);a=md5_ii(a,b,c,d,x[i+4],6,-145523070);d=md5_ii(d,a,b,c,x[i+11],10,-1120210379);c=md5_ii(c,d,a,b,x[i+2],15,718787259);b=md5_ii(b,c,d,a,x[i+9],21,-343485551);a=safe_add(a,olda);b=safe_add(b,oldb);c=safe_add(c,oldc);d=safe_add(d,oldd);} return[a,b,c,d];} function str2binl(str) {var bin=[];var mask=(1<<chrsz)-1;for(var i=0;i<str.length*chrsz;i+=chrsz) {bin[i>>5]|=(str.charCodeAt(i/chrsz)&mask)<<(i%32);} return bin;} function binl2hex(binarray) {var hex_tab=hexcase?"0123456789ABCDEF":"0123456789abcdef";var str="";for(var i=0;i<binarray.length*4;i++) {str+=hex_tab.charAt((binarray[i>>2]>>((i%4)*8+4))&0xF)+hex_tab.charAt((binarray[i>>2]>>((i%4)*8))&0xF);} return str;} return binl2hex(core_md5(str2binl(s),s.length*chrsz));};Object.createNamespace("Lucid.Lib.System.Hash");Lucid.Lib.System.Sha1=function(str) {var rotate_left=function(n,s) {var t4=(n<<s)|(n>>>(32-s));return t4;};var lsb_hex=function(val) {var str="";var i;var vh;var vl;for(i=0;i<=6;i+=2) {vh=(val>>>(i*4+4))&0x0f;vl=(val>>>(i*4))&0x0f;str+=vh.toString(16)+vl.toString(16);} return str;};var cvt_hex=function(val) {var str="";var i;var v;for(i=7;i>=0;i--) {v=(val>>>(i*4))&0x0f;str+=v.toString(16);} return str;};var blockstart;var i,j;var W=new Array(80);var H0=0x67452301;var H1=0xEFCDAB89;var H2=0x98BADCFE;var H3=0x10325476;var H4=0xC3D2E1F0;var A,B,C,D,E;var temp;str=Lucid.Lib.System.Encode.Utf8.encode(str);var str_len=str.length;var word_array=[];for(var i=0;i<str_len-3;i+=4) {j=str.charCodeAt(i)<<24|str.charCodeAt(i+1)<<16|str.charCodeAt(i+2)<<8|str.charCodeAt(i+3);word_array.push(j);} switch(str_len%4) {case 0:i=0x080000000;break;case 1:i=str.charCodeAt(str_len-1)<<24|0x0800000;break;case 2:i=str.charCodeAt(str_len-2)<<24|str.charCodeAt(str_len-1)<<16|0x08000;break;case 3:i=str.charCodeAt(str_len-3)<<24|str.charCodeAt(str_len-2)<<16|str.charCodeAt(str_len-1)<<8|0x80;break;} word_array.push(i);while((word_array.length%16)!=14) {word_array.push(0);} word_array.push(str_len>>>29);word_array.push((str_len<<3)&0x0ffffffff);for(blockstart=0;blockstart<word_array.length;blockstart+=16) {for(var i=0;i<16;i++) {W[i]=word_array[blockstart+i];} for(i=16;i<=79;i++) {W[i]=rotate_left(W[i-3]^W[i-8]^W[i-14]^W[i-16],1);} A=H0;B=H1;C=H2;D=H3;E=H4;for(var i=0;i<=19;i++) {temp=(rotate_left(A,5)+((B&C)|(~B&D))+E+W[i]+0x5A827999)&0x0ffffffff;E=D;D=C;C=rotate_left(B,30);B=A;A=temp;} for(var i=20;i<=39;i++) {temp=(rotate_left(A,5)+(B^C^D)+E+W[i]+0x6ED9EBA1)&0x0ffffffff;E=D;D=C;C=rotate_left(B,30);B=A;A=temp;} for(var i=40;i<=59;i++) {temp=(rotate_left(A,5)+((B&C)|(B&D)|(C&D))+E+W[i]+0x8F1BBCDC)&0x0ffffffff;E=D;D=C;C=rotate_left(B,30);B=A;A=temp;} for(var i=60;i<=79;i++) {temp=(rotate_left(A,5)+(B^C^D)+E+W[i]+0xCA62C1D6)&0x0ffffffff;E=D;D=C;C=rotate_left(B,30);B=A;A=temp;} H0=(H0+A)&0x0ffffffff;H1=(H1+B)&0x0ffffffff;H2=(H2+C)&0x0ffffffff;H3=(H3+D)&0x0ffffffff;H4=(H4+E)&0x0ffffffff;} temp=cvt_hex(H0)+cvt_hex(H1)+cvt_hex(H2)+cvt_hex(H3)+cvt_hex(H4);return temp.toLowerCase();};Object.createNamespace("Lucid.Lib.System");Lucid.Lib.System.Task={DelayedTask:Ext.util.DelayedTask,TaskRunner:Ext.util.TaskRunner,delay:function(f,timeout) {return window.setTimeout(f,timeout);}};Object.createNamespace("Lucid.Lib.Data.Document");Lucid.Lib.Data.Document.Html={html:null,constructor:function(html) {Lucid.Lib.Data.Document.Html.superclass.constructor.apply(this,[]);this.html=String.save(html);},decode:function(html) {return this.html.replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,"\"").replace(/&amp;/g,"&");},encode:function() {return this.html.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;");},stripScripts:function() {return this.html.replace(/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/gi,"");},stripTags:function() {return this.html.replace(/<\/?[^>]+>/gi,"");}};(function(){Object.extending("Lucid.Lib.Data.Document.Html","Object");})();Object.createNamespace("Lucid.Lib.Data.Document.Html");Lucid.Lib.Data.Document.Html.Color={value:0,Red:0,Green:0,Blue:0,constructor:function(value) {Lucid.Lib.Data.Document.Html.Color.superclass.constructor.apply(this,arguments);var m=/^#?(([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2}))$/i.match(value);if(m) {this.value=Number.parseHex(m[1]);this.Red=Number.parseHex(m[2]);this.Green=Number.parseHex(m[3]);this.Blue=Number.parseHex(m[4]);}},toString:function() {return this.Red.toHex()+this.Green.toHex()+this.Blue.toHex();},valueOf:function() {return this.value;}};(function(){Object.extending("Lucid.Lib.Data.Document.Html.Color","Object");})();Object.createNamespace("Lucid.Lib.Data.Structure");Lucid.Lib.Data.Structure.Guid={value:null,constructor:function() {Lucid.Lib.Data.Structure.Guid.superclass.constructor.apply(this,arguments);var value=[null,null,null,null,null,null,null,"-",null,null,null,null,"-","4",null,null,null,"-",null,null,null,null,"-",null,null,null,null,null,null,null,null,null,null,null,null,null];var chars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");var rnd=0;for(var i=0;i<36;i++) {if(!value[i]) {rnd=0|Math.random()*16;value[i]=chars[(i==19)?(rnd&0x3)|0x8:rnd&0xf];}} this.value=value.join("").toLowerCase();},toString:function() {return this.value;}};(function(){Object.extending("Lucid.Lib.Data.Structure.Guid","Object");})();Object.createNamespace("Lucid.Lib.Data.Structure");Lucid.Lib.Data.Structure.Parameter={Parameter:{},constructor:function(parameter) {Lucid.Lib.Data.Structure.Parameter.superclass.constructor.apply(this,arguments);this.Parameter={};this.parse(String.save(parameter));},getArgument:function(parameter,i) {i=Number.save(i);return(this.isDefined(parameter,i)?this.Parameter[parameter][i]:false);},getParameter:function(parameter) {return(this.isDefined(parameter)?this.Parameter[parameter]:false);},isDefined:function(parameter,i) {if(isEmpty(i)) {return!isUndefined(this.Parameter[parameter]);} else {return!isUndefined(this.Parameter[parameter][i])}},parse:function(parameter) {this.Parameter={};var params=parameter.split(";");for(var i=0;i<params.length;i++) {var param=params[i].trim();if(param!="") {var matches=param.match(/^([a-zA-Z]+)\((.*)\)$/);this.Parameter[matches[1]]=matches[2].split(",").clean();}} return this;},setParameter:function(parameter,values) {values=Array.save(values);this.Parameter[parameter]=values;return this;},toString:function() {var r="";for(i in this.Parameter) {if(!typeOf(this.Parameter[i],"Function")) {r+=i+"("+((typeOf(this.Parameter[i],"Array")&&this.Parameter[i].length>0)?this.Parameter[i].join(","):"")+");";}} return r;}};(function(){Object.extending("Lucid.Lib.Data.Structure.Parameter","Object");})();Object.createNamespace("Lucid.Lib.Data");Lucid.Lib.Data.Validate={IS_ALPHA_REGEXP:/^[a-zA-Z_]+$/,IS_ALPHA_NUMERIC_REGEXP:/^[a-zA-Z0-9_]+$/,IS_COLOR_REGEXP:/^[a-f0-9]{6}$/i,IS_EMAIL_REGEXP:/^([\w]+)(.[\w]+)*@([\w\-]+\.){1,5}([A-Za-z]){2,4}$/,IS_NUMERIC_REGEXP:/^[0-9\.]+$/,IS_URL_REGEXP:/(((https?)|(ftp)):\/\/([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*\/?)/i,isAlpha:function(value) {return Lucid.Lib.Data.Validate.IS_ALPHA_REGEXP.test(String.save(value));},isAlphaNumeric:function(value) {return Lucid.Lib.Data.Validate.IS_ALPHA_NUMERIC_REGEXP.test(String.save(value));},isBetween:function(value,min,max) {value=Number.save(value);min=Number.save(min);max=Number.save(max);return value>min&&value<max;},isColor:function(value) {return Lucid.Lib.Data.Validate.IS_COLOR_REGEXP.test(String.save(value));},isDate:function(value,re) {console.log(re);if(!isEmpty(re)) {try {re=new RegExp(LLSys.Encode.Base64.decode(re));return re.test(value);} catch(e) {return false;}} return true;},isDateOrEmpty:function(value,re) {if(!isEmpty(value)) {if(!isEmpty(re)) {try {re=new RegExp(LLSys.Encode.Base64.decode(re));return re.test(value);} catch(e) {return false;}}} return true;},isAfterDate:function(value,idFirstDate,idSecondDate) {var firstDate=document.getElementById(idFirstDate).value;var secondDate=document.getElementById(idSecondDate).value;if(secondDate>=firstDate){return true;}else{return false;}},isEmail:function(value) {return Lucid.Lib.Data.Validate.IS_EMAIL_REGEXP.test(String.save(value));},isEmailOrEmpty:function(value) {return value==""||Lucid.Lib.Data.Validate.isEmail(value);},isEmpty:function(value) {return isEmpty(value);},isJson:function(value) {return Json.validate(value);},isLengthBetween:function(value,min,max) {min=Number.save(min);max=Number.save(max);value=String.save(value);return value.length>min&&value.length<max;},isLengthWithin:function(value,min,max) {return this.isLengthBetween(value,Number.save(min)-1,Number.save(max)+1);},isMatch:function(value,regexp) {var r=false;try {r=new RegExp(regexp).test(value);} catch(e){} return r;},isNull:function(value) {return!this.notNull(value);},isNumeric:function(value) {return Lucid.Lib.Data.Validate.IS_NUMERIC_REGEXP.test(String.save(value));},isUrl:function(value) {return Lucid.Lib.Data.Validate.IS_URL_REGEXP.test(String.save(value));},isUrlOrEmpty:function(value) {return value==""||Lucid.Lib.Data.Validate.isUrl(value);},isWithin:function(value,min,max) {return this.isBetween(value,Number.save(min)-1,Number.save(max)+1);},max:function(value,max) {value=Number.save(value);return value<=Number.save(max,Number.MAX_VALUE);},maxLength:function(value,maxLength) {value=String.save(value);return value.length<=Number.save(maxLength,Number.MAX_VALUE);},min:function(value,min) {value=Number.save(value);return value>=Number.save(arguments[1],Number.MIN_VALUE);},minLength:function(value,minLength) {value=String.save(value);return value.length>=Number.save(minLength,Number.MIN_VALUE);},notEmpty:function(value) {return!isEmpty(value);},notVoid:function(value) {return Ext.util.Format.trim(value)!=="";},notNull:function(value) {return value!==null;},isEqualTo:function(value,id) {return(value==LLDom(id).getValue());},recaptchaIsValidAjax:function(responseField,url) {var html=$.ajax({type:"POST",url:url,data:{"recaptcha_challenge_field":$("input#recaptcha_challenge_field").val(),"g-recaptcha-response":$("#g-recaptcha-response").val(),"recaptcha_response_field":responseField},async:false}).responseText;if(html=='success'){$("#captchaStatus").hide();return true;}else{$("#captchaStatus").show();$('#recaptcha_reload').click();return false;}}};Object.createNamespace("Lucid.Lib");Lucid.Lib.Dom=function(e) {var r;if(arguments.length>1) {r=[];for(var i=0,l=arguments.length;i<l;i++) {r.push(Lucid.Lib.Dom(arguments[i]));} return r;} if(arguments.length==1&&typeOf(e,"Array")) {r=[];for(var i=0,l=e.length;i<l;i++) {r.push(Lucid.Lib.Dom(e[i]));} return r;} if(arguments.length==1) {if(Object.typeOf(e,"HTMLElement")) {} else {if(r=LLDom.getCached(e)) {return r;} e=document.getElementById(e);} if(e!=null) {r=false;for(var i=0,l=Lucid.Lib.Dom.Registry.length;i<l;i++) {r=Lucid.Lib.Dom.Registry[i](e);if(r!==false) {return r;}} r=new Lucid.Lib.Dom.Element(e);return r;}} return null;};Lucid.Lib.Dom.Static={cache:{},Helper:Ext.DomHelper,Query:Ext.DomQuery,Registry:[],createId:function() {if(!this.c) {this.c=20001;} return"id."+this.c++;},exists:function(id) {return(document.getElementById(id)!==null)?true:false;},get:function(e) {return LLDom(e);},isCached:function(id) {return typeof LLDom.cache[id]!="undefined"?true:false;},getCached:function(id) {return typeof LLDom.cache[id]!="undefined"?LLDom.cache[id]:null;},getDocument:function() {return new LLDom.Document(window.document);},getTypeOf:function(e) {var r=false;if(!typeOf(e,"Object")) {e=document.getElementById(e);} if(!e) {return false;} if(e.getAttribute("data-type")) {return LLSys.Encode.Base64.decode(e.getAttribute("data-type"));} return r;},isTypeOf:function(e,type) {return this.getTypeOf(e)==type;},query:function(selector,asHTMLElement) {if(asHTMLElement) {return LLDom.Query.select(selector);} else {return LLDom(LLDom.Query.select(selector));}},register:function(callable) {if(callable&&typeOf(callable,"Function")) {Lucid.Lib.Dom.Registry.push(callable);}}};(function() {Lucid.Lib.Dom=Object.apply(Lucid.Lib.Dom,Lucid.Lib.Dom.Static);LLDom=Lucid.Lib.Dom;})();Object.createNamespace("Lucid.Lib.Dom");Lucid.Lib.Dom.Css={getIncludes:function() {var links=LLDom.query("link[rel=stylesheet]");var r=[];for(var i=0,l=links.length;i<l;i++) {r.push(links[i].dom.href);} return r;},getInlines:function() {var styles=Lucid.Lib.Dom.query("style");var r=[];for(var i=0,l=styles.length;i<l;i++) {r.push(styles[i].dom.text);} return r;},getMaxIndex:function(selector) {if(!this.c) {this.c=10001;} return this.c++;},load:function(url,callable) {return LLDom.Loader.loadStyle(url,callable);},resetIndexes:function(selector) {selector=String.save(selector,"*");var zIndex=100000;Lucid.Lib.Dom.query(selector).each(function(e) {e.setStyle({zIndex:zIndex});zIndex-=10;});}};Object.createNamespace("Lucid.Lib.Dom");Lucid.Lib.Dom.Element={Id:null,constructor:function(e,forceNew) {LLDom.Element.superclass.constructor.apply(this,arguments);if(!this.dom) {if(typeof e==="object"&&typeof e.tagName!=="undefined") {this.dom=e;} else if(Ext.elCache[e]&&Ext.elCache[e].el.dom) {this.dom=Ext.elCache[e].el.dom;} else {this.dom=document.getElementById(e);}} if(!this.dom) {throw new ReferenceError("The Property 'this.dom' is undefined. The initalisation parameter was: "+e);} this.Id=this.dom.id;Object.apply(this,new LLDom.Behavior.HasState("Lucid.Lib.Dom.Element::"+this.Id));Object.apply(this,new LLDom.Behavior.HasStore("Lucid.Lib.Dom.Element::"+this.Id));Object.apply(this,new LLDom.Behavior.IsObservable());LLDom.cache[this.Id]=this;},child:function(selector) {var r=LLDom.Element.superclass.child.apply(this,[selector,true]);r=r===null?null:LLDom(r);return r;},delayedHide:function(delay) {this.setStateProperty("delayedHide",true);Lucid.Lib.System.Task.delay(function() {if(this.getStateProperty("delayedHide")) {this.hide();this.setStateProperty("delayedHide",false);}}.createDelegate(this),Number.save(delay,100));},delayedShow:function() {this.setStateProperty("delayedHide",false);if(!this.isVisible()) {this.show.apply(this,arguments);}},destroy:function() {return Lucid.Lib.Dom.Element.superclass.remove.apply(this,arguments);},disable:function() {if(typeOf(this.dom.disabled,"Boolean")) {this.dom.disabled=true;return true;} else {return false;}},down:function(selector) {var r=LLDom.Element.superclass.down.apply(this,[selector,true]);r=r===null?null:LLDom(r);return r;},enable:function() {if(typeOf(this.dom.disabled,"Boolean")) {this.dom.disabled=false;return true;} else {return false;}},first:function(selector) {var r=Lucid.Lib.Dom.Element.superclass.first.apply(this,[selector,true]);r=r===null?null:LLDom(r);return r;},getAttribute:function(attribute) {if(typeOf(this.dom.getAttribute,"Function")) {return this.dom.getAttribute(attribute);} else {for(var i=0,l=this.dom.attributes.length;i<l;i++) {if(this.dom.attributes[i].nodeName==attribute) {return this.dom.attributes[i].nodeValue;}} return null;}},getAttributes:function() {var r={};for(var i=0,l=this.dom.attributes.length;i<l;i++) {r[this.dom.attributes[i].nodeName]=this.dom.attributes[i].nodeValue;} return r;},getData:function() {return Object.save(Json.parse(LLSys.Encode.Base64.decode(this.getAttribute("data-data"))));},getInnerHtml:function() {if(this.dom.innerHTML) {return this.dom.innerHTML;} else {return false;}},getInnerText:function() {if(Object.isDefined(this.dom,"innerText")) {return this.dom.innerText;} else if(Object.isDefined(this.dom,"textContent")) {return this.dom.textContent;} else if(Object.isDefined(this.dom,"text")) {return this.dom.text;} else {return false;}},getType:function() {if(this.hasAttribute("data-type")) {return LLSys.Encode.Base64.decode(this.getAttribute("data-type"));} return false;},getValidate:function() {return LLSys.Encode.Base64.decode(this.getAttribute("data-validate"));},hasAttribute:function(attribute) {if(typeOf(this.dom.getAttribute,"Function")) {return this.dom.hasAttribute(attribute);} else {for(var i=0,l=this.dom.attributes.length;i<l;i++) {if(this.dom.attributes[i].nodeName===attribute) {return true;}}}},hasData:function() {return this.hasAttribute("data-data");},hasType:function() {return this.hasAttribute("data-type");},hasValidate:function() {return this.hasAttribute("data-validate");},hide:function() {LLDom.Element.superclass.hide.apply(this,arguments);if(arguments.length>0&&typeOf(arguments[0],"Boolean")) {arguments[0]={duration:0.5};} if(arguments.length>0&&typeOf(arguments[0],"Object")&&!isUndefined(arguments[0]["duration"])) {Lucid.Lib.System.Task.delay(function() {this.setVisible(false);this.setDisplayed("none");}.createDelegate(this),(arguments[0].duration*1000)+100);} else {this.setVisible(false);this.setDisplayed("none");} return true;},isActive:function() {if(Object.isDefined(document,"activeElement")&&document.activeElement.id!=this.Id);},isInBox:function(x,y) {if(x>this.getX()&&x<this.getX()+this.getWidth()&&y>this.getY()&&y<this.getY()+this.getHeight()) {return true;} else {return false;}},isTypeOf:function(type) {return this.getType()==type;},last:function(selector) {var r=LLDom.Element.superclass.last.apply(this,[selector,true]);r=r===null?null:LLDom(r);return r;},moveToTop:function() {var r=parseInt(LLDom.Css.getMaxIndex())+1;this.setStyle({zIndex:r});return r;},next:function(selector) {var r=LLDom.Element.superclass.next.apply(this,[selector,true]);r=r===null?null:LLDom(r);return r;},parent:function(selector) {var r=LLDom.Element.superclass.parent.apply(this,[selector,true]);r=r===null?null:LLDom(r);return r;},prev:function(selector) {var r=LLDom.Element.superclass.prev.apply(this,[selector,true]);r=r===null?null:LLDom(r);return r;},removeAttribute:function(attribute) {if(typeOf(this.dom.getAttribute,"Function")) {return this.dom.removeAttribute(attribute);} else {for(var i=0,l=this.dom.attributes.length;i<l;i++) {if(this.dom.attributes[i].nodeName===attribute) {delete this.dom.attributes[i];return true;}} return false;}},removeData:function() {var classes=this.dom.className.split(" ");for(var i=0,l=classes.length;i<l;i++) {if(classes[i].startsWith("data:")) {this.removeClass(classes[i]);return true;}} return false;},removeType:function() {var classes=this.dom.className.split(" ");for(var i=0,l=classes.length;i<l;i++) {if(classes[i].startsWith("type:")) {this.removeClass(classes[i]);return true;}} return false;},removeValidate:function() {var classes=this.dom.className.split(" ");for(var i=0,l=classes.length;i<l;i++) {if(classes[i].startsWith("validate:")) {this.removeClass(classes[i]);return;}} return false;},setAttribute:function(attribute,value) {if(typeOf(this.dom.setAttribute,"Function")) {return this.dom.setAttribute(attribute,value);} else {for(var i=0,l=this.dom.attributes.length;i<l;i++) {if(this.dom.attributes[i].nodeName==attribute) {this.dom.attributes[i].nodeValue=value;return true;}} return false;}},setData:function(data) {return this.setAttribute("data-data",LLSys.Encode.Base64.encode(Json.stringify(data)));},setInnerHtml:function(content) {if(typeof this.dom.innerHTML!="undefined") {this.dom.innerHTML=content;return true;} else {return false;}},setType:function(type) {return this.setAttribute("data-type",LLSys.Encode.Base64.encode(type));},setValidate:function(validate) {return this.setAttribute("data-validate",LLSys.Encode.Base64.encode(validate));},show:function() {return Lucid.Lib.Dom.Element.superclass.show.apply(this,arguments);},suspendDelayedHide:function() {this.setStateProperty("delayedHide",false);},toggle:function() {if(this.isVisible()) {Lucid.Lib.Dom.Element.superclass.toggle.apply(this,arguments);this.setDisplayed("none");return 0;} else {Lucid.Lib.Dom.Element.superclass.toggle.apply(this,arguments);return 1;}},triggerEvent:function(event) {if(typeof document.createEvent=="function") {var ev=document.createEvent("Event");ev.initEvent(event,true,true);return this.dom.dispatchEvent(ev);} else {}},up:function(selector) {var r=LLDom.Element.superclass.up.apply(this,[selector,true]);r=r===null?null:LLDom(r);return r;},validate:function(validations) {var i,j,applyArguments,r;validations=(typeof validations!="undefined"?validations:this.getValidate());if(validations) {validations=new Lucid.Lib.Data.Structure.Parameter(validations);for(i in validations.Parameter) {if(!typeOf(validations.Parameter[i],"Function")&&!isUndefined(Lucid.Lib.Data.Validate[i])&&typeOf(Lucid.Lib.Data.Validate[i],"Function")&&typeOf(validations.Parameter[i],"Array")) {applyArguments=[this.getValue()];for(j=0;j<validations.Parameter[i].length;j++) {applyArguments.push(validations.Parameter[i][j]);} r=Lucid.Lib.Data.Validate[i].apply(null,applyArguments);if(r===false) {this.addClass("Invalid");return false;}}}} this.removeClass("Invalid");return true;}};(function(){Object.extending("Lucid.Lib.Dom.Element","Ext.Element");})();Object.createNamespace("Lucid.Lib.Dom");Lucid.Lib.Dom.Fx={highlight:function(e) {if(!typeOf(e,"Object")) {e=Lucid.Lib.Dom(e);} if(!Lucid.Lib.Dom.exists("TopHighlightning")) {LLDom.Helper.append(document.body,[{tag:"div",id:"TopHighlightning",html:"&nbsp;"},{tag:"div",id:"RightHighlightning",html:"&nbsp;"},{tag:"div",id:"BottomHighlightning",html:"&nbsp;"},{tag:"div",id:"LeftHighlightning",html:"&nbsp;"}]);} var padding=4;var top=Lucid.Lib.Dom("TopHighlightning");top.show();top.setX(e.getX()-padding);top.setY(e.getY()-padding);top.setWidth(e.getWidth()+(padding*2));var left=Lucid.Lib.Dom("LeftHighlightning");left.show();left.setX(e.getX()-padding);left.setY(e.getY()-padding);left.setHeight(e.getHeight()+(padding*2));var right=Lucid.Lib.Dom("RightHighlightning");right.show();right.setX(e.getX()+e.getWidth());right.setY(e.getY()-padding);right.setHeight(e.getHeight()+(padding*2));var bottom=Lucid.Lib.Dom("BottomHighlightning");bottom.show();bottom.setX(e.getX()-padding);bottom.setY(e.getY()+e.getHeight());bottom.setWidth(e.getWidth()+(padding*2));},unhighlight:function() {if(Lucid.Lib.Dom.exists("TopHighlightning")) {var top=Lucid.Lib.Dom("TopHighlightning");top.hide();var left=Lucid.Lib.Dom("LeftHighlightning");left.hide();var right=Lucid.Lib.Dom("RightHighlightning");right.hide();var bottom=Lucid.Lib.Dom("BottomHighlightning");bottom.hide();}}};Object.createNamespace("Lucid.Lib.Dom");Lucid.Lib.Dom.Loader={load:function() {var r=0,extension;for(var i=0,l=arguments.length;i<l;i++) {if(typeOf(arguments[i],"Array")) {r+=this.load.apply(this,arguments[i]);} else {extension=Lib.Io.Filesystem.File.getExtension(arguments[i]);if(extension=="js") {this.loadScript(arguments[i]);r++;} else if(extension=="css") {this.loadStyle(arguments[i]);r++;} else if(extension=="gif"||extension=="jpg"||extension=="png") {this.loadImage(arguments[i]);r++;} r++;}} return r;},loadImage:function(source) {var image=new Image();image.src=source;},loadScript:function(source,callable) {if(source) {var script=document.createElement("script");script.type="text/javascript";if(callable&&typeOf(callable,"Function")) {if(script.readyState) {script.onreadystatechange=function() {if(script.readyState=="loaded"||script.readyState=="complete") {script.onreadystatechange=null;callable();}};} else {script.onload=function() {callable();};}} script.src=source;this.dom.appendChild(document.body);}},loadStyle:function(source,callback) {if(typeof source!="undefined") {var style=document.createElement("link");style.rel="stylesheet";if(typeOf(callable,"Function")) {if(style.readyState) {style.onreadystatechange=function() {if(style.readyState=="loaded"||style.readyState=="complete") {style.onreadystatechange=null;callable();}};} else {style.onload=function() {callable();};}} style.href=source;this.dom.appendChild(document.body);}}};Object.createNamespace("Lucid.Lib.Dom");Lucid.Lib.Dom.Script={getIncludes:function() {var scripts=Lucid.Lib.Dom.query("script[src]");var r=[];for(var i=0,l=scripts.length;i<l;i++) {r.push(scripts[i].dom.src);} return r;},getInlines:function() {var scripts=LLDom.query("script");var r=[];for(var i=0,l=scripts.length;i<l;i++) {if(scripts[i].dom.src=="") {r.push(scripts[i].dom.text);}} return r;},load:function(url,callable) {return LLDom.Loader.loadScript(url,callable);}};Object.createNamespace("Lucid.Lib.Dom");Lucid.Lib.Dom.Selection={config:{},constructor:function(e) {Lucid.Lib.Dom.Selection.superclass.constructor.apply(this,arguments);this.config={Element:e}},getEnd:function() {return this.getRange()[1];},getRange:function() {var start=0,end=0,normalizedValue,range,textInputRange,len,endRange;if(!this.config.Element) {return false;} else if(typeof this.config.Element.dom.selectionStart=="number"&&typeof this.config.Element.dom.selectionEnd=="number") {start=this.config.Element.dom.selectionStart;end=this.config.Element.dom.selectionEnd;} else {range=document.selection.createRange();if(range&&range.parentElement()==this.config.Element.dom) {len=this.config.Element.dom.value.length;normalizedValue=this.config.Element.dom.value.replace(/\r\n/g,"\n");textInputRange=this.config.Element.dom.createTextRange();textInputRange.moveToBookmark(range.getBookmark());endRange=this.config.Element.dom.createTextRange();endRange.collapse(false);if(textInputRange.compareEndPoints("StartToEnd",endRange)>-1) {start=end=len;} else {start=-textInputRange.moveStart("character",-len);start+=normalizedValue.slice(0,start).split("\n").length-1;if(textInputRange.compareEndPoints("EndToEnd",endRange)>-1) {end=len;} else {end=-textInputRange.moveEnd("character",-len);end+=normalizedValue.slice(0,end).split("\n").length-1;}}}} return[start,end];},getSelection:function() {var range=this.getRange();var value=this.config.Element.getValue();return value.substr(range[0],range[1]-range[0]);},getStart:function() {return this.getRange()[0];},replaceSelection:function(value) {if(document.selection) {this.config.Element.dom.focus();var selection=document.selection.createRange();selection.text=value;} else if(this.config.Element.dom.selectionStart||this.config.Element.dom.selectionStart=="0") {var scrollY=this.config.Element.dom.scrollTop;var scrollX=this.config.Element.dom.scrollLeft;var range=this.getRange();this.config.Element.dom.value=this.config.Element.dom.value.substring(0,range[0])+value+this.config.Element.dom.value.substring(range[1],this.config.Element.dom.value.length);this.setPosition(range[0]);this.config.Element.dom.scrollTop=scrollY;this.config.Element.dom.scrollLeft=scrollX;}},setPosition:function(position) {this.setRange(position,position);},setRange:function(start,end) {start=Number.save(start,0);end=Number.save(end,this.config.Element.getValue().length);if(this.config.Element.dom.createTextRange) {var range=this.config.Element.dom.createTextRange();range.collapse(true);range.moveEnd("character",start);range.moveStart("character",end);range.select();} else {this.config.Element.dom.focus();this.config.Element.dom.selectionStart=start;this.config.Element.dom.selectionEnd=end;}}};(function(){Object.extending("Lucid.Lib.Dom.Selection","Object");})();Object.createNamespace("Lucid.Lib.Dom");Lucid.Lib.Dom.Window={window:null,constructor:function(wnd) {Lucid.Lib.Dom.Window.superclass.constructor.apply(this,arguments);if(wnd&&wnd.navigator&&wnd.location&&wnd.history) {this.window=wnd;} else {this.window=window;}},getDimensions:function() {var r=false,w=this.window,d=this.window.document;if(typeof w.innerWidth!="undefined") {r=[w.innerWidth,w.innerHeight];} else if(typeof d.documentElement!="undefined"&&typeof d.documentElement.clientWidth!="undefined"&&d.documentElement.clientWidth!=0) {r=[d.documentElement.clientWidth,d.documentElement.clientHeight];} else {r=[d.getElementsByTagName("body")[0].clientWidth,d.getElementsByTagName("body")[0].clientHeight];} return r;},getDocument:function() {return new Lucid.Lib.Dom.Document(window.document);},getFrames:function() {throw new LC.Error.NotImplemented();},getHeight:function() {return this.getDimensions()[1];},getScrolling:function() {var r=false,w=this.window,d=this.window.document;if(typeof w.pageYOffset=="number") {r=[w.pageXOffset,w.pageYOffset];} else if(d.body&&(d.body.scrollLeft||d.body.scrollTop)) {r=[d.body.scrollLeft,d.body.scrollTop];} else if(d.documentElement&&(d.documentElement.scrollLeft||d.documentElement.scrollTop)) {r=[d.documentElement.scrollLeft,d.documentElement.scrollTop];} return r;},getScrollingX:function() {return this.getScrolling()[0];},getScrollingY:function() {return this.getScrolling()[1];},getWidth:function() {return this.getDimensions()[0];},hasOpener:function() {return this.window.opener?true:false;},hasParent:function() {return this.window!=this.window.parent?true:false;},hasTop:function() {return this.window!=this.window.top?true:false;},isClosed:function() {return this.window.closed?true:false;},isTop:function() {return this.window==this.window.top?true:false;},open:function(url,name,config) {var r,i,parameters="";name=String.save(name,"window_"+new Date().getTime());name=name.replace(/\W/g,"_").replace(/_+/g,"_");config=Object.apply({dependent:"yes",height:this.getHeight(),hotkeys:"yes",left:null,location:"no",menubar:"no",resizable:"yes",scrollbars:"yes",status:"no",toolbar:"no",top:null,width:this.getWidth()},Object.save(config));for(i in config) {if(!isEmpty(config[i])&&!typeOf(config[i],"Function")) {parameters+=(parameters===""?"":",")+i+"="+config[i];}} r=this.window.open(url,name,parameters);r.focus();return new Lucid.Lib.Dom.Window(r);}};(function(){Object.extending("Lucid.Lib.Dom.Window","Object");})();Object.createNamespace("Lucid.Lib.Dom.Behavior");Lucid.Lib.Dom.Behavior.Dragable={defaults:{moveOnly:true,handleElId:null},config:{},constructor:function(e,config) {config=Object.apply(this.defaults,Object.save(config));Lucid.Lib.Dom.Behavior.Dragable.superclass.constructor.apply(this,arguments);if(config.handleElId&&LLDom.exists(config.handleElId)) {this.setHandleElId(config.handleElId);LLDom(config.handleElId).setStyle({cursor:"pointer"});}}};(function(){Object.extending("Lucid.Lib.Dom.Behavior.Dragable","Ext.dd.DD");})();Object.createNamespace("Lucid.Lib.Dom.Behavior");Lucid.Lib.Dom.Behavior.HasPlaceholder={defaults:{Color:"gray"},config:{},For:null,forForm:null,constructor:function(e,forceNew,config) {Lucid.Lib.Dom.Behavior.HasPlaceholder.superclass.constructor.apply(this,arguments);this.config=Object.applyIf(config||{},this.defaults);if(this.config.placeHolder) {this.config.placeHolder=Site.I18n.translate(this.config.placeHolder);} this.For=LLDom(e);this.forForm=this.For.dom.form;if(this.For) {if(!this.For.getValue()||this.For.getValue()==config.placeHolder) {this.For.setValue(this.config.placeHolder);if(!this.For.hasClass("placeHolder")) {this.For.addClass("placeHolder");}} this.For.on("focus",function() {if(this.For.getValue()==this.config.placeHolder) {this.For.setValue("");} if(this.For.hasClass("placeHolder")) {this.For.removeClass("placeHolder");}}.createDelegate(this));this.For.on("blur",function() {if(this.For.getValue()=="") {this.For.setValue(this.config.placeHolder);if(!this.For.hasClass("placeHolder")) {this.For.addClass("placeHolder");}}}.createDelegate(this));if(this.For.dom.form) {LLDom(this.For.dom.form).on("submit",function() {if(this.For.getValue()==this.config.placeHolder) {this.For.setValue("");}}.createDelegate(this));}}}};(function(){Object.extending("Lucid.Lib.Dom.Behavior.HasPlaceholder","Object");})();Object.createNamespace("Lucid.Lib.Dom.Behavior");Lucid.Lib.Dom.Behavior.OutOfBoxClick={defaults:{Callback:null},config:{},Body:null,For:null,constructor:function(e,config) {Lucid.Lib.Dom.Behavior.OutOfBoxClick.superclass.constructor.apply(this,arguments);this.config=Object.apply(this.defaults,Object.save(config));this.For=new LLDom.Element(e);if(this.For) {this.enable();} this.addEvents({"out":true});},disable:function() {this.Body.un("click",this.onclick);this.onclick=null;return true;},enable:function() {this.Body=new LLDom.Document().getBody();this.onclick=function(ev) {if(this.For.isVisible()&&!this.For.isInBox(ev.xy[0],ev.xy[1])) {this.fireEvent("out",this);}}.createDelegate(this);Lucid.Lib.System.Task.delay(function(){this.Body.on("click",this.onclick);}.createDelegate(this),10);return true;}};(function(){Object.extending("Lucid.Lib.Dom.Behavior.OutOfBoxClick","Ext.util.Observable");})();Object.createNamespace("Lucid.Lib.Dom.Behavior");Lucid.Lib.Dom.Behavior.Resizable={defaults:{handles:"all",pinned:false,transparent:true,wrap:true,listeners:{resize:{fn:function(resizable,width,height,e){},scope:this}}},config:{},constructor:function(e,config) {this.config=config=Object.apply(this.defaults,Object.apply({preserveRatio:(LLDom(e).dom.tagName=="IMG"?true:false)},Object.save(config)));Lucid.Lib.Dom.Behavior.Resizable.superclass.constructor.apply(this,arguments);}};(function(){Object.extending("Lucid.Lib.Dom.Behavior.Resizable","Ext.Resizable");})();Object.createNamespace("Lucid.Lib.Dom.Behavior");Lucid.Lib.Dom.Behavior.Tabable={constructor:function(e) {Lucid.Lib.Dom.Behavior.Tabable.superclass.constructor.apply(this,arguments);if(e=LLDom(e)) {e.on("keydown",function(e) {var target,range,value;if(e.shiftKey&&e.getKey()==e.TAB) {e.stopEvent();target=LLDom(e.target);range=target.Selection.getRange();if(target.getValue().substr(range[0]-1,1).charCodeAt(0)==e.TAB) {value=target.getValue();value=value.substr(0,range[0]-1)+value.substr(range[0]);target.setValue(value);target.Selection.setPosition(range[0]-1);}} else if(e.getKey()===e.TAB) {e.stopEvent();target=LLDom(e.target);target.Selection.replaceSelection("\t");target.Selection.setPosition(target.Selection.getStart()+1);return false;} return true;});}}};(function(){Object.extending("Lucid.Lib.Dom.Behavior.Tabable","Object");})();Object.createNamespace("Lucid.Lib.Dom.Behavior");Lucid.Lib.Dom.Behavior.HasStore={storeStore:null,constructor:function(storeId) {Lucid.Lib.Dom.Behavior.HasStore.superclass.constructor.apply(this,arguments);this.loadStoreStore(storeId);},getStoreProperty:function(property) {return Object.isDefined(this.storeStore,property)?this.storeStore[property]:null;},isStorePropertyDefined:function(property) {return Object.isDefined(this.storeStore,property);},loadStoreStore:function(storeId) {if(!storeId) {throw new LC.Error.Exception.ArgumentIsNull("storeId");} var storeEngine=new Lucid.Lib.Io.Store.WindowName();this.storeStore=Object.save(storeEngine.get(storeId));this.storeStore["."]=storeId;},saveStoreStore:function() {var storeEngine=new Lucid.Lib.Io.Store.WindowName();return storeEngine.set(this.storeStore["."],this.storeStore);},setStoreProperty:function(property,value) {this.storeStore[property]=value;return this.saveStoreStore();}};(function(){Object.extending("Lucid.Lib.Dom.Behavior.HasStore","Object");})();Object.createNamespace("Lucid.Lib.Dom.Behavior");Lucid.Lib.Dom.Behavior.HasState={stateStore:null,constructor:function(storeId) {LLDom.Behavior.HasState.superclass.constructor.apply(this,arguments);this.loadStateStore(storeId);},getStateProperty:function(property) {return Object.isDefined(this.stateStore,property)?this.stateStore[property]:null;},isStatePropertyDefined:function(property) {return Object.isDefined(this.stateStore,property);},loadStateStore:function(storeId) {if(!storeId) {throw new ArgumentIsNull("storeId");} this.stateStore=Object.save(Site.Stores.Temp.get(storeId));this.stateStore["."]=storeId;},saveStateStore:function() {Site.Stores.Temp.set(this.stateStore["."],this.stateStore)},setStateProperty:function(property,value) {this.stateStore[property]=value;return this.saveStateStore();}};(function(){Object.extending("Lucid.Lib.Dom.Behavior.HasState","Object");})();Object.createNamespace("Lucid.Lib.Dom.Behavior");Lucid.Lib.Dom.Behavior.IsObservable={observable:null,constructor:function() {Lucid.Lib.Dom.Behavior.IsObservable.superclass.constructor.apply(this,arguments);this.observable=new Ext.util.Observable();},addEvents:function() {return this.observable.addEvents.apply(this.observable,arguments);},addListener:function() {if(this.observable.events[arguments[0]]) {return this.observable.on.apply(this.observable,arguments);} else {Lucid.Lib.Dom.Element.superclass.on.apply(this,arguments)}},enableBubble:function() {return this.observable.enableBubble.apply(this.observable,arguments);},fireEvent:function() {return this.observable.fireEvent.apply(this.observable,arguments);},hasListener:function() {return this.observable.hasListener.apply(this.observable,arguments);},on:function() {this.addListener.apply(this,arguments);},purgeListeners:function() {return Lucid.Lib.Dom.Element.superclass.purgeAllListeners.apply(this,arguments)&&this.observable.purgeListeners.apply(this.observable,arguments);},relayEvents:function() {return this.observable.relayEvents.apply(this.observable,arguments);},removeListener:function() {if(this.observable.events[arguments[0]]) {return this.observable.removeListener.apply(this.observable,arguments);} else {return Lucid.Lib.Dom.Element.superclass.removeListener.apply(this,arguments);}},resumeEvents:function() {return;return Lucid.Lib.Dom.Element.superclass.resumeEvents.apply(this,arguments)&&this.observable.resumeEvents.apply(this.observable,arguments);},suspendEvent:function(eventName,preventDefault) {return;if(this.observable.events[arguments[0]]) {return this.observable.swallowEvent.apply(this.observable,arguments);} else {return Lucid.Lib.Dom.Element.superclass.swallowEvent.apply(this,arguments);}},un:function() {this.removeListener.apply(this,arguments);}};(function(){Object.extending("Lucid.Lib.Dom.Behavior.IsObservable","Object");})();Object.createNamespace("Lucid.Lib.Dom");Lucid.Lib.Dom.Document={constructor:function(e,forceNew) {e=typeof e!="undefined"?e:window.document;Lucid.Lib.Dom.Document.superclass.constructor.apply(this,arguments);if(!this.dom) {this.dom=e;} if(!this.dom) {throw new ReferenceError("The Property 'this.dom' is undefined. The initalisation parameter was: "+e);}},getBody:function() {return new LLDom.Document.Body(document.body);},getDomain:function() {return document.domain;},getHead:function() {if(typeof window.document.head!="undefined") {var e=window.document.head} else {var e=document.getElementsByTagName("head")[0];} return new LLDom.Document.Head(e);},getIframes:function() {return this.select("iframe").elements;},getScripts:function() {return Lucid.Lib.Dom(this.select("script").elements);},getStyles:function() {return LLDom(this.select("link[rel=stylesheet]").elements);},getTitle:function() {var e=this.select("title").elements[0];if(e) {e=LLDom(e);return e.getTitle();} return false;},onReady:Ext.onReady,onUnload:function(callback) {var args=[];args=Array.prototype.slice.call(arguments,1);window.addEventListener("unload",function() {callback.apply(null,args);},false);},setDomain:function(domain) {try {document.domain=domain;return this.getDomain()==domain;} catch(e) {return false;}}};Object.extending("Lucid.Lib.Dom.Document","Ext.Element");Object.createNamespace("Lucid.Lib.Dom.Document");Lucid.Lib.Dom.Document.Head={constructor:function(e,forceNew) {Lucid.Lib.Dom.Document.Head.superclass.constructor.apply(this,arguments);},getBase:function() {var e=this.select("base").elements;if(e[0]) {return new Lucid.Lib.Dom.Document.Head.Base(e[0]);} return false;},getIcon:function() {var e=this.select("link[rel=icon]").elements;if(e[0]) {return LLDom(e[0]);} return false;},getMeta:function(meta) {var metas=this.getMetas();for(var i=0,l=metas.length;i<l;i++) {if(metas[i].Name.toLower()==meta.toLower()) {return metas[i].Content;}} return false;},getMetas:function() {var r=[];var metas=Lucid.Lib.Dom(this.select("meta").elements);for(var i=0,l=metas.length;i<l;i++) {var name=metas[i].getAttribute("name")?metas[i].getAttribute("name"):metas[i].getAttribute("property");r.push({Name:name,Content:metas[i].getAttribute("content")});} return r;},getScripts:function() {return LLDom(this.select("script").elements);},getStyles:function() {return LLDom(this.select("link[rel=stylesheet],style").elements);},getTitle:function() {var e=this.select("title").elements;return(e[0]?new Lucid.Lib.Dom.Document.Head.Title(e[0]):false);}};(function() {Object.extending("Lucid.Lib.Dom.Document.Head","Lucid.Lib.Dom.Element");LLDom.register(function(e){return(e.tagName=="HEAD")?new LLDom.Document.Head(e):false;});})();Object.createNamespace("Lucid.Lib.Dom.Document.Head");Lucid.Lib.Dom.Document.Head.Base={constructor:function(e,forceNew) {Lucid.Lib.Dom.Document.Head.Base.superclass.constructor.apply(this,arguments);},getBase:function() {return this.toString();},toString:function() {return this.getAttribute("href");}};(function() {Object.extending("Lucid.Lib.Dom.Document.Head.Base","Lucid.Lib.Dom.Element");LLDom.register(function(e){return(e.tagName=="BASE")?new LLDom.Document.Head.Base(e):false;});})();Object.createNamespace("Lucid.Lib.Dom.Document.Head");Lucid.Lib.Dom.Document.Head.Icon={constructor:function(e,forceNew) {Lucid.Lib.Dom.Document.Head.Icon.superclass.constructor.apply(this,arguments);},getSource:function() {return this.toString();},setSource:function(source) {return this.setAttribute("href",source);},toString:function() {return this.getAttribute("href");}};(function() {Object.extending("Lucid.Lib.Dom.Document.Head.Icon","Lucid.Lib.Dom.Element");LLDom.register(function(e){return(e.tagName=="LINK"&&e.rel=="icon")?new LLDom.Document.Head.Icon(e):false;});})();Object.createNamespace("Lucid.Lib.Dom.Document.Head");Lucid.Lib.Dom.Document.Head.Title={constructor:function(e,forceNew) {Lucid.Lib.Dom.Document.Head.Title.superclass.constructor.apply(this,arguments);},getTitle:function() {return this.toString()},setTitle:function(title) {return this.setInnerHtml(title);},toString:function() {return this.getInnerHtml();}};(function() {Object.extending("Lucid.Lib.Dom.Document.Head.Title","Lucid.Lib.Dom.Element");LLDom.register(function(e){return(e.tagName=="TITLE")?new LLDom.Document.Head.Title(e):false;});})();Object.createNamespace("Lucid.Lib.Dom.Document");Lucid.Lib.Dom.Document.Body={constructor:function(e,forceNew) {e=typeof e!="undefined"?e:window.document.body;Lucid.Lib.Dom.Document.Body.superclass.constructor.apply(this,[e,forceNew]);},getScripts:function() {return LLDom(this.select("script").elements);},getStyles:function() {return LLDom(this.select("link[rel=stylesheet]").elements);}};(function() {Object.extending("Lucid.Lib.Dom.Document.Body","Lucid.Lib.Dom.Element");LLDom.register(function(e){return(e.tagName=="BODY")?new LLDom.Document.Body(e):false;});})();Object.createNamespace("Lucid.Lib.Dom.Document");Lucid.Lib.Dom.Document.Script={constructor:function(e,forceNew) {Lucid.Lib.Dom.Document.Script.superclass.constructor.apply(this,arguments);},getContent:function() {return this.dom.innerHTML;},getSource:function() {return this.dom.src;},setSource:function(source) {this.dom.src=String.save(source);return true;}};(function() {Object.extending("Lucid.Lib.Dom.Document.Script","Lucid.Lib.Dom.Element");LLDom.register(function(e){return(e.tagName=="SCRIPT")?new LLDom.Document.Script(e):false;});})();Object.createNamespace("Lucid.Lib.Dom.Document");Lucid.Lib.Dom.Document.Style={constructor:function(e,forceNew) {Lucid.Lib.Dom.Document.Style.superclass.constructor.apply(this,arguments);},getSource:function() {return this.dom.href;},setSource:function(source) {this.dom.href=String.save(source);return true;}};(function() {Object.extending("Lucid.Lib.Dom.Document.Style","Lucid.Lib.Dom.Element");LLDom.register(function(e){return(e.tagName=="LINK"&&e.rel.toLower()=="stylesheet")?new LLDom.Document.Style(e):false;});})();Object.createNamespace("Lucid.Lib.Dom.Element");Lucid.Lib.Dom.Element.Anchor={constructor:function(e,forceNew) {Lucid.Lib.Dom.Element.Anchor.superclass.constructor.apply(this,arguments);},open:function() {window.open(this.dom.href,"","");return false;}};(function() {Object.extending("Lucid.Lib.Dom.Element.Anchor","Lucid.Lib.Dom.Element");LLDom.register(function(e){return(e.tagName=="A"&&LLDom.getTypeOf()===false)?new LLDom.Element.Anchor(e):false;});})();Object.createNamespace("Lucid.Lib.Dom.Element");Lucid.Lib.Dom.Element.Form={Elements:[],constructor:function(e,forceNew) {Lucid.Lib.Dom.Element.Form.superclass.constructor.apply(this,arguments);this.Elements=[];var isProcessed=[];if(this.dom.elements) {for(var i=0,l=this.dom.elements.length;i<l;i++) {if(this.dom.elements[i].tagName=="INPUT"&&this.dom.elements[i].type=="radio") {if(isProcessed.indexOf(this.dom.elements[i].name)==-1) {this.Elements.push(LLDom(this.dom.elements[i]));isProcessed.push(this.dom.elements[i].name);}} else {this.Elements.push(LLDom(this.dom.elements[i]));}}}},disableSubmit:function(b) {if(typeof b=="undefined") {b=true;} if(typeof this.disableSubmit.cancel=="undefined") {this.disableSubmit.cancel=function(ev){ev.stopEvent();};} if(b) {if(!this.disableSubmit.isEnabled) {this.on("submit",this.disableSubmit.cancel);this.disableSubmit.isEnabled=true;}} else {this.un("submit",this.disableSubmit.cancel);this.disableSubmit.isEnabled=false;}},enableSubmit:function(flag) {if(typeof flag=="undefined") {flag=true;} return this.disableSubmit(!flag)},getAction:function() {return this.dom.action;},getValues:function() {var r={},name,c=0;for(var i=0,l=this.Elements.length;i<l;i++) {if(this.Elements[i].dom.name) {name=this.Elements[i].dom.name;} else if(this.Elements[i].Id) {name=this.Elements[i].Id;} else {c++;name=this.Elements[i].dom.tagName.toLowerCase()+c;} r[name]=this.Elements[i].getValue();} return r;},getElementById:function(id) {for(var i=0,l=this.Elements.length;i<l;i++) {if(this.Elements[i].Id==id) {return this.Elements[i];}} return false;},getElementByName:function(name) {for(var i=0,l=this.Elements.length;i<l;i++) {if(this.Elements[i].dom.name==name) {return this.Elements[i];}} return false;},getState:function() {var r=[];for(var i=0,l=this.Elements.length;i<l;i++) {if(typeOf(this.Elements[i].getState,"Function")) {r.push(this.Elements[i].getState());}} return r;},focusFirst:function() {for(var i=0,l=this.Elements.length;i<l;i++) {if(this.Elements[i].dom.tagName=="INPUT") {this.Elements[i].focus();break;}}},focusById:function(id) {for(var i=0,l=this.Elements.length;i<l;i++) {if(this.Elements[i].dom.id==id) {this.Elements[i].focus();return true;}} return false;},focusByName:function(name) {for(var i=0,l=this.Elements.length;i<l;i++) {if(this.Elements[i].dom.name==name) {this.Elements[i].focus();return true;}} return false;},restoreState:function(state) {if(typeOf(state,"array")) {for(var i=0,e,l=state.length;i<l;i++) {e=this.getElement(state[i].Id);if(typeOf(e.restoreState,"Function")) {e.restoreState(state[i]);}} return true;} else {return false;}},reset:function() {for(var i=0,l=this.Elements.length;i<l;i++) {if(typeOf(this.Elements[i].reset,"Function")) {this.Elements[i].reset();}} this.dom.reset();},submit:function(action) {if(typeof action!=="undefined") {this.dom.action=action;} if(this.validate()) {var buttons=this.select("button.DisableOnSubmit").elements;for(var i=0,l=buttons.length;i<l;i++) {buttons[i].disabled=true;} this.dom.submit();}},setAction:function(action) {this.dom.action=action;return this.dom.action;},toString:function() {var r=[],values=this.getValues(),value;for(i in values) {if(!isUndefined(values[i])&&!typeOf(values[i],"Function")) {r.push(i+"="+encodeURIComponent(values[i]));}} r=r.join("&");return r;},validate:function() {var r=true;for(var i=0,l=this.Elements.length;i<l;i++) {if(!this.Elements[i].validate()) {r=false;}} return r;}};(function() {Object.extending("Lucid.Lib.Dom.Element.Form","Lucid.Lib.Dom.Element");LLDom.register(function(e){return(e.tagName=="FORM"&&LLDom.getTypeOf(e)===false)?new LLDom.Element.Form(e):false;});})();Object.createNamespace("Lucid.Lib.Dom.Element.Form");Lucid.Lib.Dom.Element.Form.Checkbox={constructor:function(e,forceNew) {Lucid.Lib.Dom.Element.Form.Checkbox.superclass.constructor.apply(this,arguments);},check:function() {this.dom.checked=true;this.triggerEvent("change");return true;},getState:function() {return{Id:this.Id,state:this.isChecked()};},getValue:function() {return this.dom.value;},isChecked:function() {return this.dom.checked;},restoreState:function(state) {if(state.state===true) {this.check();} else {this.uncheck();}},setValue:function(value) {this.dom.value=value;return true;},uncheck:function() {this.dom.checked=false;this.triggerEvent("change");return false;}};(function() {Object.extending("Lucid.Lib.Dom.Element.Form.Checkbox","Lucid.Lib.Dom.Element");LLDom.register(function(e){return(e.tagName=="INPUT"&&e.type=="checkbox"&&LLDom.getTypeOf(e)===false)?new LLDom.Element.Form.Checkbox(e):false;});})();Object.createNamespace("Lucid.Lib.Dom.Element.Form");Lucid.Lib.Dom.Element.Form.Fieldset={Legend:null,constructor:function(e,forceNew) {Lucid.Lib.Dom.Element.Form.Fieldset.superclass.constructor.apply(this,arguments);var legend=this.select("legend").elements[0];this.Legend=(legend)?LLDom(legend):null;},getLegend:function() {return this.Legend?this.Legend.getInnerHtml():null;},setLegend:function(legend) {return this.Legend?this.Legend.setInnerHtml(legend):false;}};(function() {Object.extending("Lucid.Lib.Dom.Element.Form.Fieldset","Lucid.Lib.Dom.Element");LLDom.register(function(e){return(e.tagName=="FIELDSET"&&LLDom.getTypeOf(e)===false)?new LLDom.Element.Form.Fieldset(e):false;});})();Object.createNamespace("Lucid.Lib.Dom.Element.Form");Lucid.Lib.Dom.Element.Form.File={constructor:function(e,forceNew) {Lucid.Lib.Dom.Element.Form.File.superclass.constructor.apply(this,arguments);},getState:function() {return{Id:this.Id,state:this.getValue()};},reset:function() {var fileField=document.getElementById(this.Id);var parentNode=fileField.parentNode;var tmpForm=document.createElement("form");parentNode.replaceChild(tmpForm,fileField);tmpForm.appendChild(fileField);tmpForm.reset();parentNode.replaceChild(fileField,tmpForm);LLDom(this.Id+".label").setValue("");},restoreState:function(state) {this.setValue(state.state);},setValue:function(value) {return false;}};(function() {Object.extending("Lucid.Lib.Dom.Element.Form.File","Lucid.Lib.Dom.Element");LLDom.register(function(e){return(e.tagName=="INPUT"&&e.type=="file"&&LLDom.getTypeOf(e)===false)?new LLDom.Element.Form.File(e):false;});})();Object.createNamespace("Lucid.Lib.Dom.Element.Form");Lucid.Lib.Dom.Element.Form.Radio={Options:[],constructor:function(e,forceNew) {Lucid.Lib.Dom.Element.Form.Radio.superclass.constructor.apply(this,arguments);this.Options=[];for(var i=0;i<this.dom.form[this.dom.name].length;i++) {this.Options.push(new LLDom.Element.Form.Radio.Option(this.dom.form[this.dom.name][i]));}},getSelectedIndex:function() {for(var i=0,l=this.Options.length;i<l;i++) {if(this.Options[i].isChecked()) {return i;}} return false;},getState:function() {return{Id:this.Id,state:this.getSelectedIndex()};},setState:function(state) {sthis.select(state.state);},select:function(i) {if(Object.isDefined(this.Options,i)) {this.Options[i].check();this.triggerEvent("change");return true;} else {return false;}},setValue:function(value) {this.dom.value=value;return true;}};(function() {Object.extending("Lucid.Lib.Dom.Element.Form.Radio","Lucid.Lib.Dom.Element");LLDom.register(function(e){return(e.tagName=="INPUT"&&e.type=="radio"&&LLDom.getTypeOf(e)===false)?new LLDom.Element.Form.Radio(e):false;});})();Object.createNamespace("Lucid.Lib.Dom.Element.Form");Lucid.Lib.Dom.Element.Form.Radio.Option={constructor:function(e,forceNew) {Lucid.Lib.Dom.Element.Form.Radio.Option.superclass.constructor.apply(this,arguments);},check:function() {this.dom.checked=true;},isChecked:function() {return this.dom.checked;},setValue:function(value) {this.dom.value=value;return true;},uncheck:function() {this.dom.checked=false;}};(function(){Object.extending("Lucid.Lib.Dom.Element.Form.Radio.Option","Lucid.Lib.Dom.Element");})();Object.createNamespace("Lucid.Lib.Dom.Element.Form");Lucid.Lib.Dom.Element.Form.Select={SelectedIndex:0,Options:[],constructor:function(e,forceNew) {Lucid.Lib.Dom.Element.Form.Select.superclass.constructor.apply(this,arguments);this.Options=this.getOptions();this.SelectedIndex=this.dom.selectedIndex;this.on("change",function() {this.SelectedIndex=this.dom.selectedIndex;}.createDelegate(this));},addOption:function(text,value,defaultSelected,selected) {this.dom.options[this.dom.options.length]=new Option(text,value,defaultSelected,selected);this.Options=this.getOptions();return true;},clear:function() {try {this.dom.options.length=0;this.Options=this.getOptions();return true;} catch(e) {return false;}},getIndexByText:function(text) {for(var i=0,l=this.Options.length;i<l;i++) {if(this.Options[i].getText()==text) {return i;}} return false;},getIndexByValue:function(value) {for(var i=0,l=this.Options.length;i<l;i++) {if(this.Options[i].getValue()==value) {return i;}} return false;},getOption:function(index) {return this.Options[index];},getOptions:function() {var r=[];for(var i=0,l=this.dom.options.length;i<l;i++) {r.push(new LLDom.Element.Form.Select.Option(this.dom.options[i]));} return r;},getSelectedIndex:function() {return this.dom.selectedIndex;},getState:function() {return{Id:this.Id,state:this.getSelectedIndex()};},getText:function() {return this.Options[this.getSelectedIndex()].getText();},getValue:function() {return(this.getSelectedIndex()>-1)?this.Options[this.getSelectedIndex()].getValue():null;},removeOption:function(index) {if(typeof this.dom.options[index]!="undefined") {this.dom.options[index]=null;this.Options=this.getOptions();return true;} return false;},restoreState:function(state) {this.select(state.state);},select:function(index) {try {this.SelectedIndex=this.dom.selectedIndex=index;this.triggerEvent("change");return true;} catch(e) {return false;}},selectByText:function(text) {return this.select(this.getIndexByText(text));},selectByValue:function(value) {return this.select(this.getIndexByValue(value));},setValue:function(values) {return false;}};(function() {Object.extending("Lucid.Lib.Dom.Element.Form.Select","Lucid.Lib.Dom.Element");LLDom.register(function(e){return(e.tagName=="SELECT"&&LLDom.getTypeOf(e)===false)?new LLDom.Element.Form.Select(e):false;});})();Object.createNamespace("Lucid.Lib.Dom.Element.Form");Lucid.Lib.Dom.Element.Form.Select.Option={constructor:function(e,forceNew) {Lucid.Lib.Dom.Element.Form.Select.Option.superclass.constructor.apply(this,arguments);},getText:function() {return this.dom.text;},setText:function(text) {this.dom.text=text;return true;}};(function() {Object.extending("Lucid.Lib.Dom.Element.Form.Select.Option","Lucid.Lib.Dom.Element");LLDom.register(function(e){return(e.tagName=="OPTION"&&LLDom.getTypeOf(e)===false)?new LLDom.Element.Form.Select.Option(e):false;});})();Object.createNamespace("Lucid.Lib.Dom.Element.Form");Lucid.Lib.Dom.Element.Form.Text={Selection:null,constructor:function(e,forceNew) {Lucid.Lib.Dom.Element.Form.Text.superclass.constructor.apply(this,arguments);this.Selection=new LLDom.Selection(this);},getState:function() {return{Id:this.Id,state:this.getValue()};},reset:function() {this.dom.value="";},restoreState:function(state) {this.setValue(state.state);},setValue:function(value) {this.dom.value=value;this.triggerEvent("change");return true;}};(function() {Object.extending("Lucid.Lib.Dom.Element.Form.Text","Lucid.Lib.Dom.Element");LLDom.register(function(e){return((e.tagName=="INPUT"&&(e.type=="text"||e.type=="hidden")||e.tagName=="TEXTAREA")&&LLDom.getTypeOf(e)===false)?new LLDom.Element.Form.Text(e):false;});})();Object.createNamespace("Lucid.Lib.Dom.Element.Form");Lucid.Lib.Dom.Element.Form.Password={constructor:function(e,forceNew) {Lucid.Lib.Dom.Element.Form.Password.superclass.constructor.apply(this,arguments);this.on("keypress",function(ev) {var warning,chr=String.fromCharCode(ev.getKey());if(chr.isAlpha()&&((chr===chr.toUpperCase()&&!ev.shiftKey)||(chr===chr.toLowerCase()&&ev.shiftKey))) {if(!LLDom.exists(this.Id+".warning")) {LLDom.Helper.append(document.body,{tag:"div",cls:"Modal Warning",id:this.Id+".warning",html:"<t>Caps Lock (key for automatic upper case writing) is activated! Press Caps Lock to turn it off automatic upper case writing.</t>"});} warning=LLDom(this.Id+".warning");warning.show();warning.setWidth(this.getWidth());warning.alignTo(this.Id,"tl-bl");} else {if(LLDom.exists(this.Id+".warning")) {LLDom(this.Id+".warning").hide();}}}.createDelegate(this));}};(function() {Object.extending("Lucid.Lib.Dom.Element.Form.Password","Lucid.Lib.Dom.Element");LLDom.register(function(e){return(e.tagName=="INPUT"&&e.type=="password"&&LLDom.getTypeOf(e)==false)?new LLDom.Element.Form.Password(e):false;});})();Object.createNamespace("Lucid.Lib.Dom.Element");Lucid.Lib.Dom.Element.Iframe={constructor:function(e,forceNew) {Lucid.Lib.Dom.Element.Iframe.superclass.constructor.apply(this,arguments);},getSource:function() {return this.dom.src;},setBlank:function() {this.setSource("about:blank");},setSource:function(source) {this.dom.src=source;return true;}};(function() {Object.extending("Lucid.Lib.Dom.Element.Iframe","Lucid.Lib.Dom.Element");LLDom.register(function(e){return(e.tagName=="IFRAME"&&LLDom.getTypeOf(e)===false)?new LLDom.Element.Iframe(e):false;});})();Object.createNamespace("Lucid.Lib.Dom.Element");Lucid.Lib.Dom.Element.Image={constructor:function(e,forceNew) {Lucid.Lib.Dom.Element.Image.superclass.constructor.apply(this,arguments);},getSource:function() {return this.dom.src;},setSource:function(source) {this.dom.src=source;return true;}};(function() {Object.extending("Lucid.Lib.Dom.Element.Image","Lucid.Lib.Dom.Element");LLDom.register(function(e){return(e.tagName=="IMG"&&LLDom.getTypeOf(e)===false)?new LLDom.Element.Image(e):false;});})();Object.createNamespace("Lucid.Lib.Dom.Element");Lucid.Lib.Dom.Element.Layer={constructor:function(e,forceNew) {Lucid.Lib.Dom.Element.Layer.superclass.constructor.apply(this,arguments);}};(function() {Object.extending("Lucid.Lib.Dom.Element.Layer","Lucid.Lib.Dom.Element");LLDom.register(function(e){return(e.tagName=="DIV"&&LLDom.getTypeOf(e)===false)?new LLDom.Element.Layer(e):false;});})();Object.createNamespace("Lucid.Lib.Dom.Element");Lucid.Lib.Dom.Element.Table={Rows:[],Tbody:null,constructor:function(e,forceNew) {Lucid.Lib.Dom.Element.Table.superclass.constructor.apply(this,arguments);this.Tbody=this.getBody();this.Rows=this.getRows();},addRow:function(row,cells) {row=Object.save(row,{tag:"tr",children:[]});cells=Array.save(cells,[]);if(cells.length==0) {for(var i=0,l=this.Rows[0].Cells.length;i<l;i++) {cells.push({tag:"td",children:""});}} row.children=cells;Ext.DomHelper.append(this.Tbody,row);this.Rows=this.getRows();return this.Rows[this.Rows.length-1];},getBody:function() {for(var i=0,l=this.dom.childNodes.length;i<l;i++) {if(this.dom.childNodes[i].tagName=="TBODY") {return this.dom.childNodes[i];}} return false;},getRows:function() {var r=[];if(this.Tbody!==null&&typeof this.Tbody.rows!="undefined") {for(var i=0;i<this.Tbody.rows.length;i++) {r.push(new LLDom.Element.Table.Row(this.Tbody.rows[i]));}} return r;}};(function() {Object.extending("Lucid.Lib.Dom.Element.Table","Lucid.Lib.Dom.Element");LLDom.register(function(e){return(e.tagName=="TABLE"&&LLDom.getTypeOf(e)===false)?new LLDom.Element.Table(e):false;});})();Object.createNamespace("Lucid.Lib.Dom.Element.Table");Lucid.Lib.Dom.Element.Table.Row={Cells:[],constructor:function(e,forceNew) {Lucid.Lib.Dom.Element.Table.Row.superclass.constructor.apply(this,arguments);this.Cells=this.getCells();},getCells:function() {var r=[];if(typeof this.dom.cells!="undefined") {for(var i=0;i<this.dom.cells.length;i++) {r.push(new LLDom.Element.Table.Row.Cell(this.dom.cells[i]));}} return r;},getPosition:function() {var rows=this.getTable().getRows();for(var i=0,l=rows.length;i<l;i++) {if(rows[i].dom==this.dom) {return i;}} return false;},getTable:function() {return LLDom(this.parent().parent().dom);},move:function(n) {n=Number.save(n,0);var pos=this.getPosition();var table=this.getTable();if(n!=0&&pos!==false&&(pos+n)>=0&&(pos+n)<table.Rows.length&&n!=0) {var source=table.Rows[pos].dom;var target=table.Rows[pos+n].dom;if(n>0) {source.parentNode.insertBefore(target,source);} else if(n<0) {target.parentNode.insertBefore(source,target);} return true;} else {return false;}},moveTo:function(index) {return this.move(index-this.getPosition());},moveDown:function() {return this.move(1);},moveUp:function() {return this.move(-1);}};(function() {Object.extending("Lucid.Lib.Dom.Element.Table.Row","Lucid.Lib.Dom.Element");LLDom.register(function(e){return(e.tagName=="TR"&&LLDom.getTypeOf(e)===false)?new LLDom.Element.Table.Row(e):false;});})();Object.createNamespace("Lucid.Lib.Dom.Element.Row");Lucid.Lib.Dom.Element.Table.Row.Cell={constructor:function(e,forceNew) {Lucid.Lib.Dom.Element.Table.Row.Cell.superclass.constructor.apply(this,arguments);}};(function() {Object.extending("Lucid.Lib.Dom.Element.Table.Row.Cell","Lucid.Lib.Dom.Element");LLDom.register(function(e){return((e.tagName=="TD"||e.tagName=="TH")&&LLDom.getTypeOf(e)===false)?new LLDom.Element.Table.Row.Cell(e):false;});})();Object.createNamespace("Lucid.Lib");Lucid.Lib.I18n={Formatter:null,Translator:null,constructor:function() {Lucid.Lib.I18n.superclass.constructor.apply(this,arguments);this.Formatter=new Lucid.Lib.I18n.Formatter.Standard();this.Translator=new Lucid.Lib.I18n.Translator.Standard();},formatByteValue:function(value,format,precision) {return this.Formatter.formatByteValue(value,format,precision);},formatCurrency:function(number) {return this.Formatter.formatCurrency(number);},formatDate:function(date,format) {return this.Formatter.formatDate(date,format);},formatNumber:function(number) {return this.Formatter.formatNumber(number);},translate:function(string) {return this.Translator.translate(string);},setLocale:function(locale) {}};(function(){Object.extending("Lucid.Lib.I18n","Object");})();Object.createNamespace("Lucid.Lib.I18n");Lucid.Lib.I18n.Locale={Language:"",Country:"",Charset:"",constructor:function() {Lucid.Lib.I18n.Locale.superclass.constructor.apply(this,arguments);if(arguments.length==1) {this.parse(arguments[0]);} else if(arguments.length==2) {this.build(arguments[0],arguments[1]);} else if(arguments.length==3) {this.build(arguments[0],arguments[1],arguments[2]);} return this;},build:function(language,country,charset) {this.Language=String.save(language).toLowerCase();this.Country=String.save(country).toUpperCase();this.Charset=typeof charset!="undefined"?String.save(charset).toUpperCase():"";return this;},parse:function(locale) {var regExp=new RegExp(/^([a-z]{2})_([A-Z]{2,3})(\.(.+))?$/);if(regExp.test(locale)) {var m=locale.match(regExp);this.Language=m[1].toLowerCase();this.Country=m[2].toUpperCase();this.Charset=typeof m[4]!="undefined"?m[4].toUpperCase():"";} return this;},setCharset:function(charset) {this.Charset=String.save(charset).toUpperCase();return this;},setCountry:function(country) {this.Country=String.save(country).toUpperCase();return this;},setLanguage:function(language) {this.Language=String.save(language).toLowerCase();return this;},toString:function() {return this.Language+"_"+this.Country+(this.Charset!=""?"."+this.Charset:"");}};(function(){Object.extending("Lucid.Lib.I18n.Locale","Object");})();Object.createNamespace("Lucid.Lib.I18n.Formatter");Lucid.Lib.I18n.Formatter.Standard={tokens:{a:function(d){return Site.I18n.Locale.Date.Days.Abbreviations[3][d.getDay()];},A:function(d){return Site.I18n.Locale.Date.Days.Names[d.getDay()];},b:function(d){return Site.I18n.Locale.Date.Months.Abbreviations[3][d.getMonth()];},B:function(d){return Site.I18n.Locale.Date.Months.Names[d.getMonth()];},c:"toLocaleString",C:function(d){return Number(parseInt(d.getFullYear()/100,10)).pad(0);},d:["getDate","0"],e:["getDate"," "],g:function(d){return Number(parseInt(Site.I18n.Formatter.tokens.G(d)/100,10)).pad(0);},G:function(d) {var y=d.getFullYear();var V=parseInt(Site.I18n.Formatter.tokens.V(d),10);var W=parseInt(Site.I18n.Formatter.tokens.W(d),10);if(W>V) {y++;} else if(W===0&&V>=52) {y--;} return y;},H:["getHours","0"],I:function(d) {var I=d.getHours()%12;return Number(I===0?12:I).pad(0);},j:function(d) {var ms=d-new Date(""+d.getFullYear()+"/1/1 GMT").valueOf();ms+=d.getTimezoneOffset()*60000;var doy=parseInt(ms/60000/60/24,10)+1;return Number(doy).pad(0,100);},m:function(d){return Number(d.getMonth()+1).pad(0);},M:["getMinutes","0"],p:function(d){return Site.I18n.Locale.Date[d.getHours()>=12?"Am":"Pm"].toLowerCase();},P:function(d){return Site.I18n.Locale.Date[d.getHours()>=12?"Am":"Pm"].toUpperCase();},S:["getSeconds","0"],u:function(d) {var dow=d.getDay();return dow===0?7:dow;},U:function(d) {var doy=parseInt(Site.I18n.Formatter.tokens.j(d),10);var rdow=6-d.getDay();var woy=parseInt((doy+rdow)/7,10);return Number(woy).pad(0);},V:function(d) {var woy=parseInt(Site.I18n.Formatter.Standard.tokens.W(d),10);var dow1_1=(new Date(""+d.getFullYear()+"/1/1")).getDay();var idow=woy+(dow1_1>4||dow1_1<=1?0:1);if(idow==53&&(new Date(""+d.getFullYear()+"/12/31")).getDay()<4) {idow=1;} else if(idow===0) {idow=Site.I18n.Formatter.tokens.V(new Date(""+(d.getFullYear()-1)+"/12/31"));} return Number(idow).pad(0);},w:"getDay",W:function(d) {var doy=parseInt(Site.I18n.Formatter.tokens.j(d),10);var rdow=7-Site.I18n.Formatter.tokens.u(d);var woy=parseInt((doy+rdow)/7,10);return Number(woy).pad(0,10);},y:function(d){return Number(d.getFullYear()%100).pad(0);},Y:"getFullYear",z:function(d) {var o=d.getTimezoneOffset();var H=Number(parseInt(Math.abs(o/60),10)).pad(0);var H=Number(parseInt(Math.abs(o/60),10)).pad(0);var H=Number(parseInt(Math.abs(o/60),10)).pad(0);var M=Number(o%60).pad(0);return(o>0?"-":"+")+H+M;},Z:function(d) {return d.toString().replace(/^.*\(([^)]+)\)$/,"$1");},"%":function(d) {return"%";}},aggregates:{c:"%a %d %b %Y %T %Z",D:"%m/%d/%y",h:"%b",n:"\n",r:"%I:%M:%S %p",R:"%H:%M",t:"\t",T:"%H:%M:%S",x:"%d/%m/%y",X:"%T",z:null,Z:null},constructor:function() {Lucid.Lib.I18n.Formatter.Standard.superclass.constructor.apply(this,arguments);},formatByteValue:function(value,format,precision) {value=Number.save(value);format=String.save(format,"f").toLowerCase();precision=Number.save(precision,2);var r="";switch(format) {case"b":return this.formatNumber(value.round(value,precision));break;case"kb":return this.formatNumber(value.round(value/1024,precision));break;case"mb":return this.formatNumber(value.round(value/1048576,precision));break;case"gb":return this.formatNumber(value.round(value/1073741824,precision));break;case"tb":return this.formatNumber(value.round(value/1099511627776,precision));break;case"pb":return this.formatNumber(value.round(value/1125899906842624,precision));break;case"f":default:var units=["B","KB","MB","GB","TB","PB"];var c=0;while(value>=1024) {c++;value=value/1024;} var r=value.round(value,precision);r=this.formatNumber(r.toFixed(precision));r=r.toString();r+=" "+units[c];return r;break;}},formatCurrency:function(number) {var locale=Site.I18n.Locale;return number.format(locale.Numeric.FractionalDigits,locale.Currency.Seperator.Decimal,locale.Currency.Seperator.Thousands);},formatDate:function(date,format) {while(format.match(/%[cDhnrRtTxXzZ]/)) {format=format.replace(/%([cDhnrRtTxXzZ])/g,function(m0,m1) {return Site.I18n.Formatter.aggregates[m1];});} var r=format.replace(/%([aAbBCdegGHIjmMpPSuUVwWyY%])/g,function(m0,m1) {var f=Site.I18n.Formatter.tokens[m1];if(typeOf(f,"String")) {return date[f]();} else if(typeOf(f,"Function")) {return f.call(date,date);} else if(typeOf(f,"Array")) {return Number(date[f[0]]()).pad(f[1]);} else {return m1;}});return r;},formatNumber:function(number) {var locale=Site.I18n.Locale;return Number(number).format(locale.Numeric.FractionalDigits,locale.Numeric.Seperator.Decimal,locale.Numeric.Seperator.Thousands);},parseDate:function(value,format) {var year=month=day=hour=minute=second=0,r,m,unit,index;var regexp=Site.I18n.Locale.Date.Formats[format].Parse.RegExp;var mapping=Site.I18n.Locale.Date.Formats[format].Parse.Mapping;m=new RegExp(regexp).match(value);if(m) {for(unit in mapping) {index=mapping[unit];if(unit=="Year"&&typeof m[index]!="undefined") {year=m[index]} else if(unit=="Month"&&typeof m[index]!="undefined") {month=m[index]} else if(unit=="Day"&&typeof m[index]!="undefined") {day=m[index]} else if(unit=="Hour"&&typeof m[index]!="undefined") {hour=m[index]} else if(unit=="Minute"&&typeof m[index]!="undefined") {minute=m[index]} else if(unit=="Second"&&typeof m[index]!="undefined") {second=m[index]}} if(year>0&&month>0&&day>0) {r=new Date(year,month-1,day,hour,minute,second);return r.getTime()/1000;} else {return(hour*3600)+(minute*60)+second;}} return false;}};(function(){Object.extending("Lucid.Lib.I18n.Formatter.Standard","Object");})();Object.createNamespace("Lucid.Lib.I18n.Translator");Lucid.Lib.I18n.Translator.Standard={constructor:function() {Lucid.Lib.I18n.Translator.Standard.superclass.constructor.apply(this,arguments);},translate:function(string) {var start="<"+"t>";var end="</"+"t>";if(Object.isDefined(Site.I18n.Translations,string)) {return Site.I18n.Translations[string];} else if(string.startsWith(start)&&string.endsWith(end)) {string=string.getSubString(3,string.length-7);if(Object.isDefined(Site.I18n.Translations,string)) {return Site.I18n.Translations[string];}} else if(string.contains(start)&&string.contains(end)) {var regexp=new RegExp(start+".*?"+end);var m;var search;var replace;while(m=regexp.match(string)) {search=m[0];replace=search.getSubString(3,search.length-7);if(Object.isDefined(Site.I18n.Translations,replace)) {replace=Site.I18n.Translations[replace];} string=string.replace(search,replace);} return string;} return string;}};(function(){Object.extending("Lucid.Lib.I18n.Translator.Standard","Object");})();Object.createNamespace("Lucid.Lib.Io");Lucid.Lib.Io.Console={debug:function(message) {this.getWriter().debug(message);},endGroup:function() {this.getWriter().endGroup();},error:function(message) {this.getWriter().error(message);},getWriter:function() {if(!Lucid.Lib.Io.Console.writer) {if(window.console&&window.console.firebug) {Lucid.Lib.Io.Console.writer=new Lucid.Lib.Io.Console.Firebug();} else if(window.console) {Lucid.Lib.Io.Console.writer=new Lucid.Lib.Io.Console.Generic();} else if(opera&&opera.postError) {Lucid.Lib.Io.Console.writer=new Lucid.Lib.Io.Console.Opera();} else {Lucid.Lib.Io.Console.writer=new Lucid.Lib.Io.Console.Null();}} return Lucid.Lib.Io.Console.writer;},info:function(message) {return this.getWriter().info(message);},startGroup:function(name,isCollapsed) {this.getWriter().endGroup(name,isCollapsed);},warning:function(message) {this.getWriter().warning(message);}};Object.createNamespace("Lucid.Lib.Io");Lucid.Lib.Io.Console.Firebug={debug:function(message) {window.console.debug(message);},endGroup:function() {window.console.groupEnd();},error:function(message) {window.console.error("%s",message);},info:function(message) {window.console.info(message);},startGroup:function(name,isCollapsed) {isCollapsed=Boolean.save(isCollapsed,false);if(isCollapsed) {window.console.groupCollapsed(name);} else {window.console.group(name);} return true;},warning:function(message) {window.console.warn(message);}};(function(){Object.extending("Lucid.Lib.Io.Console.Firebug","Object");})();Object.createNamespace("Lucid.Lib.Io.Console");Lucid.Lib.Io.Console.Generic={debug:function(message) {if(typeof(window.console.log)!="undefined") {window.console.log(message);} else {window.console.info("<debug> "+message);} return true;},endGroup:function(){},error:function(message) {window.console.error("%s",message);},info:function(message) {window.console.info(message);},startGroup:function(name,collapsed){},warning:function(message) {window.console.warn(message);}};(function(){Object.extending("Lucid.Lib.Io.Console.Generic","Object");})();Object.createNamespace("Lucid.Lib.Io.Console");Lucid.Lib.Io.Console.Null={debug:function(message){},endGroup:function(){},error:function(message){},info:function(message){},startGroup:function(name,collapsed){},warning:function(message){}};(function(){Object.extending("Lucid.Lib.Io.Console.Null","Object");})();Object.createNamespace("Lucid.Lib.Io.Console");Lucid.Lib.Io.Console.Opera={debug:function(message) {opera.postError("<debug> "+message);},endGroup:function(){},error:function(message) {opera.postError("<error> "+message);},info:function(message) {opera.postError("<info> "+message);},startGroup:function(name,isCollapsed){},warning:function(message) {opera.postError("<warning> "+message);}};(function(){Object.extending("Lucid.Lib.Io.Console.Opera","Object");})();Object.createNamespace("Lucid.Lib.Io");Lucid.Lib.Io.Cookie={clear:function() {for(i in this.get()) {this.remove(i);}},decode:function(value) {return this.getProvider().decodeValue(value);},encode:function(value) {return this.getProvider().encodeValue(value);},get:function(index,defaultValue) {if(typeof index!="undefined") {return this.getProvider().get(index,defaultValue);} else {return this.getProvider().readCookies();}},getProvider:function(expires) {var url=new Lucid.Lib.Io.Network.Http.Request.Url();if(isEmpty(expires)) {expires=new Date(new Date().getTime()+31536000000);} return new Lucid.Lib.Io.Store.Cookie({path:url.Directory,expires:expires});},remove:function(index) {return this.getProvider().clear(index);},set:function(index,value) {return this.getProvider().set(index,value);}};Object.createNamespace("Lucid.Lib.Io");Lucid.Lib.Io.Filesystem={getName:function(item) {if(typeof item=="undefined") {return false;} if(item.lastIndexOf("\/")!=-1) {return item.substring(item.lastIndexOf("\/")+1);} else if(item.lastIndexOf("\\")!=-1) {return item.substring(item.lastIndexOf("\\")+1);} else {return item;}},getPath:function(item) {return(typeof item!="undefined")?item.substring(0,item.lastIndexOf("\/")+1):false;}};(function(){LLFs=Lucid.Lib.Io.Filesystem;})();Object.createNamespace("Lucid.Lib.Io.Filesystem");Lucid.Lib.Io.Filesystem.Directory={getName:LLFs.getName,getPath:LLFs.getPath};Object.createNamespace("Lucid.Lib.Io.Filesystem");Lucid.Lib.Io.Filesystem.File={getExtension:function(file) {return(file?file.substring(file.lastIndexOf(".")+1,file.length).toLowerCase():false);},getName:LLFs.getName,getPath:LLFs.getPath,stripExtension:function(file) {return(file?file.substring(file.lastIndexOf("."),0):false);}};Object.createNamespace("Lucid.Lib.Io.Network.Http");Lucid.Lib.Io.Network.Http.Request=Ext.Ajax;Object.createNamespace("Lucid.Lib.Io.Network.Http.Request");Lucid.Lib.Io.Network.Http.Request.Url={Protocol:"",Authority:"",Username:"",Password:"",Host:"",Port:"",Relative:"",Path:"",Directory:"",File:"",Query:"",Anchor:"",constructor:function(url) {Lucid.Lib.Io.Network.Http.Request.Url.superclass.constructor.apply(this,arguments);if(typeof url=="undefined") {url=document.location;} this.parse(url);},parse:function(url) {var regex=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/\/?)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;var m=regex.exec(url);this.Protocol=typeof m[1]!=="undefined"?m[1]:"";this.Authority=typeof m[2]!=="undefined"?m[2]:"";this.Username=typeof m[4]!=="undefined"?m[4]:"";this.Password=typeof m[5]!=="undefined"?m[5]:"";this.Host=typeof m[6]!=="undefined"?m[6]:"";this.Port=typeof m[7]!=="undefined"?m[7]:"";this.Relative=typeof m[8]!=="undefined"?m[8]:"";this.Path=typeof m[9]!=="undefined"?m[9]:"";this.Directory=typeof m[10]!=="undefined"?m[10]:"";this.File=typeof m[11]!=="undefined"?m[11]:"";this.Query=typeof m[12]!=="undefined"?new Lucid.Lib.Io.Network.Http.Request.Url.Query(m[12]):"";this.Anchor=typeof m[13]!=="undefined"?m[13]:"";},toString:function() {var r="";if(this.Protocol!="") {r+=this.Protocol+"://";} if(this.Username!="") {r+=this.Username+":"+this.Password+"@";} r+=this.Host;if(this.Port!="") {r+=":"+this.Port;} r+=this.Directory;r+=this.File;if(this.Query!="") {r+="?"+this.Query;} if(this.Anchor!="") {r+="#"+this.Anchor;} return r;}};(function(){Object.extending("Lucid.Lib.Io.Network.Http.Request.Url","Object");})();Object.createNamespace("Lucid.Lib.Io.Network.Http.Request.Url");Lucid.Lib.Io.Network.Http.Request.Url.Query={Parameter:{},constructor:function(query) {Lucid.Lib.Io.Network.Http.Request.Url.Query.superclass.constructor.apply(this,arguments);if(typeof query=="undefined") {query=location.search;} this.parse(query);},exists:function(parameter) {return typeof this.Parameter[parameter]!="undefined"?true:false;},get:function(parameter) {return this.exists(parameter)?this.Parameter[parameter]:false;},parse:function(query) {if(query.length===0) {return null;} if(query.charAt(0)=="?") {query=query.substr(1,query.length-1);} query=query.replace(/\+/g," ");var parameters=query.split("&");for(var i=0,n=parameters.length;i<n;i++) {var pos=parameters[i].indexOf("=");var parameter=parameters[i].substring(0,pos);var value=decodeURIComponent(parameters[i].substring(pos+1));this.set(parameter,value);} return true;},set:function(parameter,value) {this.Parameter[parameter]=value;return true;},toString:function() {var r="";for(parameter in this.Parameter) {if(!typeOf(this.Parameter[parameter],"Function")) {if(r!=="") {r+="&";} r+=parameter+"="+this.Parameter[parameter];}} return r;}};(function(){Object.extending("Lucid.Lib.Io.Network.Http.Request.Url.Query","Object");})();Object.createNamespace("Lucid.Lib.Io.Store");Lucid.Lib.Io.Store.Cookie=Ext.state.CookieProvider;Object.createNamespace("Lucid.Lib.Io.Store");Lucid.Lib.Io.Store.Memory={state:{},constructor:function(config) {Lucid.Lib.Io.Store.Memory.superclass.constructor.apply(this,arguments);this.state=this.loadState();},clear:function(index) {if(Object.isDefined(this.state,index)) {delete this.state[index];} this.saveState();},get:function(index) {return Object.isDefined(this.state,index)?this.state[index]:null;},loadState:function() {return{};},saveState:function() {return;},set:function(index,value) {if(typeof value=="undefined"||value===null) {this.clear(index);return;} this.state[index]=value;this.saveState();}};(function(){Object.extending("Lucid.Lib.Io.Store.Memory","Ext.state.Provider");})();Object.createNamespace("Lucid.Lib.Io.Store");Lucid.Lib.Io.Store.WindowName={state:{},constructor:function() {Lucid.Lib.Io.Store.WindowName.superclass.constructor.apply(this,arguments);this.state=this.loadState();},clear:function(index) {Lucid.Lib.Io.Store.WindowName.superclass.clear.call(this,index);this.saveState();},loadState:function() {var r={};if(window.name!="") {try {r=Json.parse(window.name);} catch(e) {r={};}} else {r={};} return r;},saveState:function() {window.name=Json.stringify(this.state);},set:function(index,value) {if(typeof value=="undefined"||value===null) {this.clear(index);return;} Lucid.Lib.Io.Store.WindowName.superclass.set.call(this,index,value);this.saveState();}};(function(){Object.extending("Lucid.Lib.Io.Store.WindowName","Ext.state.Provider");})();Object.createNamespace("Lucid.Lib.Services.Google.Videos");Lucid.Lib.Services.Google.Videos.Video={re:/(http|https)\:\/\/www\.youtube\.com\/watch\?v=([a-zA-Z0-9_-]*)/,vimeoRe:/(http|https)\:\/\/vimeo\.com\/([a-zA-Z0-9_-]*)/,imageUrl:"http://img.youtube.com/vi/",vimeoImageUrl:"https://i.vimeocdn.com/video/",infoUrl:"http://gdata.youtube.com/feeds/api/videos/{0}?v=2&alt=jsonc&callback=Lucid.Lib.Services.Google.Videos.Video.storeInfo",Id:null,Thumbs:{First:null,Second:null,Third:null,Default:null},Image:null,Info:null,constructor:function(id) {Lucid.Lib.Services.Google.Videos.Video.superclass.constructor.apply(this,arguments);var m=this.re.match(id);this.Id=m?m[2]:null;if(this.Id) {this.Image=this.imageUrl+this.Id+"/0.jpg";this.Thumbs.First=this.imageUrl+this.Id+"/1.jpg";this.Thumbs.Second=this.imageUrl+this.Id+"/2.jpg";this.Thumbs.Third=this.imageUrl+this.Id+"/3.jpg";this.Thumbs.Default=this.imageUrl+this.Id+"/2.jpg";} else {var m=this.vimeoRe.match(id);this.Id=m?m[2]:null;if(this.Id) {var _this=this;$.getJSON('http://www.vimeo.com/api/v2/video/'+this.Id+'.json?callback=?',{format:"json"},function(data){_this.Image=data[0].thumbnail_small;_this.Thumbs.First=data[0].thumbnail_small;_this.Thumbs.Second=data[0].thumbnail_medium;_this.Thumbs.Third=data[0].thumbnail_large;_this.Thumbs.Default=data[0].thumbnail_small;});}}}};(function(){Object.extending("Lucid.Lib.Services.Google.Videos.Video","Object");})();Object.createNamespace("Lucid.Lib");Lucid.Lib.Web={};Object.createNamespace("Lucid.Lib.Web");Lucid.Lib.Web.Client={isStrict:Ext.isStrict,isOpera:Ext.isOpera,isChrome:Ext.isChrome,isWebKit:Ext.isWebKit,isSafari:Ext.isSafari,isSafari2:Ext.isSafari2,isSafari3:Ext.isSafari3,isSafari4:Ext.isSafari4,isIE:Ext.isIE,isIE7:Ext.isIE7,isIE8:Ext.isIE8,isIE6:Ext.isIE6,isGecko:Ext.isGecko,isGecko2:Ext.isGecko2,isGecko3:Ext.isGecko3,isBorderBox:Ext.isBorderBox,isWindows:Ext.isWindows,isMac:Ext.isMac,isAir:Ext.isAir,isLinux:Ext.isLinux,isSecure:Ext.isSecure,Plugins:{},constructor:function() {Lucid.Lib.Web.Client.superclass.constructor.apply(this,arguments);this.Plugins.ActiveX=new Lucid.Lib.Web.Client.Plugins.ActiveX(this);this.Plugins.Flash=new Lucid.Lib.Web.Client.Plugins.Flash(this);this.Plugins.Reader=new Lucid.Lib.Web.Client.Plugins.Reader(this);},getResolution:function() {var r={Width:this.getWidth(),Height:this.getHeight(),Pixels:0};r.Pixels=r.Width*r.Height;return r;},getHeight:function() {var r=false;if(typeof window.screen!="undefined"&&typeof window.screen.height!="undefined") {r=window.screen.height;} else if(typeof window.innerHeight!="undefined") {r=window.innerHeight;} else if(typeof document.body!="undefined"&&typeof document.body.clientHeight!="undefined") {r=document.body.clientHeight;} return r;},getWidth:function() {var r=false;if(typeof window.screen!="undefined"&&typeof window.screen.width!="undefined") {r=window.screen.width;} else if(typeof window.innerWidth!="undefined") {r=window.innerWidth;} else if(typeof document.body!="undefined"&&typeof document.body.clientWidth!="undefined") {r=document.body.clientWidth;} return r;},redirect:function(url) {url=String.save(url,"");if(url=="") {return false;} else if(url.toLower().startsWith("http://")||url.toLower().startsWith("https://")) {window.location.href=url;} else {if(!this.base) {if(typeof document.baseURI!="undefined") {this.base=document.baseURI;} else {var base=document.getElementsByTagName("base");if(base&&base[0]&&base[0].href) {this.base=base[0].href;}} window.location.href=this.base+url;}} return false;},refresh:function() {window.location.href=window.location.href;return false;},setBookmark:function(url,title) {url=String.save(url,document.location.href);title=String.save(title,LLDom.getDocument().getTitle());try {if(window.sidebar) {window.sidebar.addPanel(title,url,"");return true;} else if(window.opera&&window.print) {var e=document.createElement("a");e.setAttribute("href",url);e.setAttribute("title",title);e.setAttribute("rel","sidebar");e.click();return true;} else {window.external.AddFavorite(url,title);return true;}} catch(e) {return false;}}};(function(){Object.extending("Lucid.Lib.Web.Client","Object");})();Object.createNamespace("Lucid.Lib.Web.Client.Plugins");Lucid.Lib.Web.Client.Plugins.ActiveX={client:null,IsInstalled:false,Version:"",constructor:function(client) {Lucid.Lib.Web.Client.Plugins.ActiveX.superclass.constructor.apply(this,arguments);this.client=client;if(client.isIe) {this.IsInstalled=true;}},isDefined:function(classId) {if(!this.IsInstalled) {return false;} try {new ActiveXObject(classId);return true;} catch(ex) {return false;}},getObject:function(classId) {if(!this.IsInstalled) {return false;} try {return new ActiveXObject(classId);} catch(ex) {return false;}}};(function(){Object.extending("Lucid.Lib.Web.Client.Plugins.ActiveX","Object");})();Object.createNamespace("Lucid.Lib.Web.Client.Plugins");Lucid.Lib.Web.Client.Plugins.Flash={IsInstalled:false,Version:"",constructor:function(client) {Lucid.Lib.Web.Client.Plugins.Flash.superclass.constructor.apply(this,arguments);var parseVersionString=function(desc) {var matches=desc.match(/[\d]+/g);matches.length=3;return matches.join(".");};if(navigator.plugins&&navigator.plugins.length) {var plugin=navigator.plugins["Shockwave Flash"];if(plugin) {this.IsInstalled=true;if(plugin.description) {this.Version=parseVersionString(plugin.description);}} if(navigator.plugins["Shockwave Flash 2.0"]) {this.IsInstalled=true;this.Version="2.0.0.11";}} else if(navigator.mimeTypes&&navigator.mimeTypes.length) {var mimeType=navigator.mimeTypes["application/x-shockwave-flash"];this.IsInstalled=mimeType&&mimeType.enabledPlugin;if(this.IsInstalled) {this.Version=parseVersionString(mimeType.enabledPlugin.description);}} else {try {var ax=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");this.IsInstalled=true;this.Version=(ax.GetVariable("$version"));} catch(e) {try {var ax=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");this.IsInstalled=true;this.Version="6.0.21";} catch(e) {try {var ax=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");this.IsInstalled=true;this.Version=parseVersionString(ax.GetVariable("$version"));} catch(e) {}}}}}};(function(){Object.extending("Lucid.Lib.Web.Client.Plugins.Flash","Object");})();Object.createNamespace("Lucid.Lib.Web.Client.Plugins");Lucid.Lib.Web.Client.Plugins.Reader={IsInstalled:false,Version:"",constructor:function(client) {Lucid.Lib.Web.Client.Plugins.Reader.superclass.constructor.apply(this,arguments);if(client.Plugins.ActiveX.IsInstalled) {if(client.Plugins.ActiveX.isDefined("AcroPDF.PDF.1")) {this.IsInstalled=true;this.Version="7";} else {for(var i=4;i<=6;i++) {if(client.Plugins.ActiveX.isDefined("PDF.PdfCtrl."+i)) {this.IsInstalled=true;this.Version=String(i);}} if(!this.IsInstalled&&client.Plugins.ActiveX.isDefined("PDF.PdfCtrl.1")) {this.IsInstalled=true;this.Version="3";}}} else {if(navigator.mimeTypes&&navigator.mimeTypes.length>0) {var mimeType=navigator.mimeTypes["application/pdf"];if(mimeType&&mimeType.enabledPlugin) {var description=mimeType.enabledPlugin.description;if(description&&description.indexOf("Adobe")!=-1) {this.IsInstalled=true;this.Version=description.indexOf("Version")!=-1?description.split("Version")[1]:"7";}}}}}};(function(){Object.extending("Lucid.Lib.Web.Client.Plugins.Reader","Object");})();Object.createNamespace("Lucid.Lib.Web");Lucid.Lib.Web.Request={Url:null,Query:[],q:"",constructor:function() {Lucid.Lib.Web.Request.superclass.constructor.apply(this,arguments);this.Url=new Lucid.Lib.Io.Network.Http.Request.Url();if(typeof this.Url.Query.Parameter!="undefined"&&typeof this.Url.Query.Parameter.q!="undefined") {this.q=this.Url.Query.Parameter.q;try {this.Query=Json.parse(LLSys.Encode.Base64.decode(this.q));} catch(e) {this.q="";this.Query={};}} else {this.q="";this.Query={};}},createQuery:function() {for(var i=0,l=arguments.length;i<l;i++) {this.setSetting(arguments[i],arguments[++i]);} this.q=LLSys.Encode.Base64.encode(Json.stringify(this.Query));return this.q;},setSetting:function(path,value) {path=path.split("/");var scope=this.Query;for(var i=0,l=path.length;i<l;i++) {var key=path[i];if(i==l-1) {scope[key]=value;return true;} else {if(typeof scope[key]=="undefined") {scope[key]={};}} scope=scope[key];} return true;}};(function(){Object.extending("Lucid.Lib.Web.Request","Object");})();Object.createNamespace("Lucid.Core.Abstracts");Lucid.Core.Abstracts.aConfigurable={defaults:{},config:{},constructor:function(configuration) {Lucid.Core.Abstracts.aConfigurable.superclass.constructor.apply(this,[]);this.configureDefaults();this.configure(configuration);},configure:function(configuration) {if(typeof configuration==="object") {this.config=configuration;} return true;},configureDefaults:function() {if(typeof this.defaults==="object") {this.config=this.defaults;} return true;},getConfiguration:function() {return this.config;},getDefaultConfiguration:function() {return this.defaults;},getDefaultSetting:function(path,value) {path=path.split("/");var r=this.defaults;for(var i=0,l=path.length;i<l;i++) {var key=path[i];if(typeof r[key]==="undefined") {return null;} else {r=r[key];}} return r;},getSetting:function(path,value) {path=path.split("/");var r=this.config;for(var i=0,l=path.length;i<l;i++) {var key=path[i];if(typeof r[key]==="undefined") {return null;} else {r=r[key];}} return r;},isSetting:function(path,value,strict) {if(strict) {return(this.getSetting(path)===value);} else {return(this.getSetting(path)==value);}},setSetting:function(path,value) {path=path.split("/");var scope=this.config;for(var i=0,l=path.length;i<l;i++) {var key=path[i];if(i==l-1) {scope[key]=value;return true;} else {if(typeof scope[key]=="undefined") {scope[key]={};}} scope=scope[key];} return true;},unsetSetting:function(path) {},};(function(){Object.extending("Lucid.Core.Abstracts.aConfigurable","Object");})();Object.createNamespace("Lucid.Core.Controller");Lucid.Core.Controller.Site={base:null,web:null,Modules:{},Plugins:{},Stores:{},I18n:null,constructor:function() {Lucid.Core.Controller.Site.superclass.constructor.apply(this,arguments);this.Stores.Temp=new Lucid.Lib.Io.Store.Memory();this.Stores.Session=new Lucid.Lib.Io.Store.WindowName();this.I18n=new Lucid.Lib.I18n();window.onerror=function(message,file,line) {if(LLSys.getErrorReporting()==0||LLSys.getErrorReporting()==1) {return true;} else if(LLSys.getErrorReporting()>1) {return false;}}},getBase:function(append) {if(this.base===null) {try {this.base=LLDom.getDocument().getHead().getBase().getBase();} catch(e) {this.base=null;}} return this.base?(this.base+(append?append:"")):false;},getWeb:function(append) {if(this.web===null) {var base=this.getBase();this.web=base.getSubString(base.indexOf(LB.getWeb()));} return this.web?(this.web+(append?append:"")):false;},onError:function(callable) {throw new LC.Error.NotImplemented();},onReady:Ext.onReady};(function(){Object.extending("Lucid.Core.Controller.Site","Object");})();Object.createNamespace("Lucid.Core.Error");Lucid.Core.Error.Exception={code:"0",message:"",constructor:function(code,message) {Lucid.Core.Error.Exception.superclass.constructor.apply(this,arguments);this.code=code;this.message=message;if(LLSys.getErrorReporting()>0&&!isUndefined(window.console)&&typeOf(window.console.trace,"function")) {Lucid.Lib.Io.Console.error("["+this.code+"] "+this.message);if(typeOf(window.console.trace,"function")) {console.trace();}}},toString:function() {var r=[];r.push(this.code+": "+this.message);return r.join("\n");}};(function(){Object.extending("Lucid.Core.Error.Exception","Object");})();Object.createNamespace("Lucid.Core.Error");Lucid.Core.Error.ArgumentIsInvalid={constructor:function(argument) {Lucid.Core.Error.ArgumentIsInvalid.superclass.constructor.apply(this,["9845bd01","The argument '"+String.save(argument,"undefined")+"' is invalid."]);}};(function(){Object.extending("Lucid.Core.Error.ArgumentIsInvalid","Lucid.Core.Error.Exception");})();Object.createNamespace("Lucid.Core.Error");Lucid.Core.Error.ArgumentIsNull={constructor:function(argument) {Lucid.Core.Error.ArgumentIsNull.superclass.constructor.apply(this,["a4b51bff","The argument '"+String.save(argument,"undefined")+"' is NULL."]);}};(function(){Object.extending("Lucid.Core.Error.ArgumentIsNull","Lucid.Core.Error.Exception");})();Object.createNamespace("Lucid.Core.Error");Lucid.Core.Error.ArgumentIsOutOfRange={constructor:function(argument) {Lucid.Core.Error.ArgumentIsOutOfRange.superclass.constructor.apply(this,["42ebeb5e","The argument '"+String.save(argument,"undefined")+"' is out of range."]);}};(function(){Object.extending("Lucid.Core.Error.ArgumentIsOutOfRange","Lucid.Core.Error.Exception");})();Object.createNamespace("Lucid.Core.Error");Lucid.Core.Error.ClassNotDefined={constructor:function(cls) {Lucid.Core.Error.ClassNotDefined.superclass.constructor.apply(this,["2e2ad230","The class '"+String.save(cls,"undefined")+"' is not defined."]);}};(function(){Object.extending("Lucid.Core.Error.ClassNotDefined","Lucid.Core.Error.Exception");})();Object.createNamespace("Lucid.Core.Error");Lucid.Core.Error.FunctionNotDefined={constructor:function(func) {Lucid.Core.Error.FunctionNotDefined.superclass.constructor.apply(this,["d17a57ed","The function '"+String.save(func,"undefined")+"' is not defined."]);}};(function(){Object.extending("Lucid.Core.Error.FunctionNotDefined","Lucid.Core.Error.Exception");})();Object.createNamespace("Lucid.Core.Error");Lucid.Core.Error.MethodNotDefined={constructor:function(cls,func) {Lucid.Core.Error.MethodNotDefined.superclass.constructor.apply(this,["da745b51","The method '"+String.save(cls,"undefined")+"::"+String.save(func,"undefined")+"()' is not defined."]);}};(function(){Object.extending("Lucid.Core.Error.MethodNotDefined","Lucid.Core.Error.Exception");})();Object.createNamespace("Lucid.Core.Error");Lucid.Core.Error.NotImplemented={constructor:function() {Lucid.Core.Error.NotImplemented.superclass.constructor.apply(this,["3053cb33","Not Implemented"]);}};(function(){Object.extending("Lucid.Core.Error.NotImplemented","Lucid.Core.Error.Exception");})();Object.createNamespace("Lucid.Core.Error");Lucid.Core.Error.NotSupported={constructor:function() {Lucid.Core.Error.NotSupported.superclass.constructor.apply(this,["71ac9754","Not Supported"]);}};(function(){Object.extending("Lucid.Core.Error.NotSupported","Lucid.Core.Error.Exception");})();Object.createNamespace("Lucid.Core.Error");Lucid.Core.Error.Runtime={constructor:function(message) {Lucid.Core.Error.Runtime.superclass.constructor.apply(this,["57e2e73f",message]);}};(function(){Object.extending("Lucid.Core.Error.Runtime","Lucid.Core.Error.Exception");})();Object.createNamespace("Lucid.Core.Error");Lucid.Core.Error.VariableIsInvalid={constructor:function(variable) {Lucid.Core.Error.VariableIsInvalid.superclass.constructor.apply(this,["25e95dbd","The variable '"+String.save(variable,"undefined")+"' is invalid."]);}};(function(){Object.extending("Lucid.Core.Error.VariableIsInvalid","Lucid.Core.Error.Exception");})();Object.createNamespace("Lucid.Core.Error");Lucid.Core.Error.VariableIsNull={constructor:function(variable) {Lucid.Core.Error.VariableIsNull.superclass.constructor.apply(this,["638196e7","The variable '"+String.save(variable,"undefined")+"' is NULL."]);}};(function(){Object.extending("Lucid.Core.Error.VariableIsNull","Lucid.Core.Error.Exception");})();Object.createNamespace("Lucid.Core.Site");Lucid.Core.Site.Controls={items:{},get:function(id) {if(Lucid.Core.Site.Controls.isDefined(id)) {return Lucid.Core.Site.Controls.items[id]} return null;},isDefined:function(id) {return typeof Lucid.Core.Site.Controls.items[id]!="undefined";},set:function(control) {Lucid.Core.Site.Controls.items[control.Id]=control;return true}};Object.createNamespace("Lucid.Core.Site.Controls.Container");Lucid.Core.Site.Controls.Container.Accordions={defaults:{Type:"horizontal",IsMultiSelect:false},config:{},selectedIndex:0,Accordions:[],constructor:function(e,forceNew,config) {Lucid.Core.Site.Controls.Container.Accordions.superclass.constructor.apply(this,arguments);var accordions,accordion,title;this.config=Object.apply(this.defaults,(this.getData()||{}));accordions=this.select("div.Accordion").elements;for(var i=0,l=accordions.length;i<l;i++) {var accordion=new Lucid.Core.Site.Controls.Container.Accordion(accordions[i]);if(i==0) {accordion.expand();title=accordion.getTitle();if(title) {title.addClass("Selected");}} this.Accordions.push(accordion);} if(!Site.Stores.Temp.get("Dom::"+this.Id+"::initialised")) {for(var i=0,l=this.Accordions.length;i<l;i++) {title=this.Accordions[i].getTitle();if(title) {title.on("click",function(e) {if(!this.config.IsMultiSelect) {this.collapseAll();LLDom(e.target.rel).expand();LLDom(e.target).addClass("Selected");} else {if(LLDom(e.target.rel).getContent().isVisible()) {LLDom(e.target.rel).collapse();} else {LLDom(e.target.rel).expand();}} for(var i=0,l=this.Accordions.length;i<l;i++) {if(this.Accordions[i].Id==e.target.rel) {this.selectedIndex=i;this.saveState();}}}.createDelegate(this));}} Site.Stores.Temp.set("Dom::"+this.Id+"::initialised",true);} this.restoreState();},collapse:function(i) {if(!isUndefined(this.Accordions[i])) {this.Accordions[i].collapse();return true;} else {return false;}},collapseAll:function() {for(var i=0,l=this.Accordions.length;i<l;i++) {this.Accordions[i].collapse();this.Accordions[i].getTitle().removeClass("Selected");} return true;},expand:function(i) {if(!isUndefined(this.Accordions[i])) {this.Accordions[i].expand();return true;} else {return false;}},expandAll:function() {for(var i=0,l=this.Accordions.length;i<l;i++) {this.Accordions[i].expand();}},resetState:function() {this.selectedIndex=0;this.saveState();},restoreState:function() {},saveState:function() {}};(function() {Object.extending("Lucid.Core.Site.Controls.Container.Accordions","Lucid.Lib.Dom.Element.Layer");LLDom.register(function(e){return(e.tagName=="DIV"&&LLDom.getTypeOf(e)=="Accordions")?new LC.Site.Controls.Container.Accordions(e):false;});})();Object.createNamespace("Lucid.Core.Site.Controls.Container");Lucid.Core.Site.Controls.Container.Accordion={constructor:function(e,forceNew) {Lucid.Core.Site.Controls.Container.Accordion.superclass.constructor.apply(this,arguments);},collapse:function() {var content=this.getContent();if(content) {content.hide();return true;} else {return false;}},getContent:function() {return LLDom(this.select("div.Content").elements.getFirst());},getTitle:function() {return LLDom(this.select("a.Title").elements.getFirst());},expand:function() {var content=this.getContent();if(content) {content.show();return true;} else {return false;}}};(function() {Object.extending("Lucid.Core.Site.Controls.Container.Accordion","Lucid.Lib.Dom.Element.Layer");LLDom.register(function(e){return(e.tagName=="DIV"&&LLDom.getTypeOf(e)=="Accordion")?new LC.Site.Controls.Container.Accordion(e):false;});})();Object.createNamespace("Lucid.Core.Site.Controls.Container");Lucid.Core.Site.Controls.Container.Fieldset={Collapse:null,Expand:null,Close:null,More:null,Content:null,constructor:function(e,forceNew) {Lucid.Core.Site.Controls.Container.Fieldset.superclass.constructor.apply(this,arguments);this.Collapse=LLDom.exists(this.Id+".collapse");this.Expand=LLDom.exists(this.Id+".expand");this.Close=LLDom.exists(this.Id+".close");this.More=LLDom.exists(this.Id+".more");this.Content=LLDom.exists(this.Id+".content");if(this.Collapse){this.Collapse.on("click",function(){this.collapse();}.createDelegate(this));} if(this.Expand){this.Expand.on("click",function(){this.expand();}.createDelegate(this));} if(this.Close){this.Close.on("click",function(){this.close();}.createDelegate(this));} this.addEvents({"close":true,"collapse":true,"expand":true});},close:function() {this.fireEvent("close",this);this.remove();return true;},collapse:function() {this.Content.hide();this.setHeight("1.5em");this.Collapse.hide();this.Expand.show();this.Expand.setDisplayed("inline");this.More.show();this.fireEvent("collapse",this);return true;},expand:function() {this.Content.show();this.setHeight(this.Content.getHeight());this.Expand.hide();this.More.hide();this.Collapse.show();this.Ccollapse.setDisplayed("inline");this.fireEvent("expand",this);return true;},isCollapsed:function() {return!this.isExpanded();},isExpanded:function() {return this.Content.isVisible();}};(function() {Object.extending("Lucid.Core.Site.Controls.Container.Fieldset","Lucid.Lib.Dom.Element.Form.Fieldset");LLDom.register(function(e){return(e.tagName=="FIELDSET"&&LLDom.getTypeOf(e)=="Fieldset")?new LC.Site.Controls.Container.Fieldset(e):false;});})();Object.createNamespace("Lucid.Core.Site.Controls.Container");Lucid.Core.Site.Controls.Container.Tabs={selectedIndex:0,Tabs:[],More:null,Menu:null,constructor:function(e,forceNew) {Lucid.Core.Site.Controls.Container.Tabs.superclass.constructor.apply(this,arguments);this.Tabs=[];var moreTabs=this.select("a.MoreTabs").elements;if(typeof moreTabs[0]!="undefined") {this.More=LLDom(moreTabs[0]);this.Menu=LLDom(this.More.Id+".menu");} var tabs=this.select("a.TabSelected").elements.concat(this.select("a.Tab").elements.concat(this.select("div.Menu a").elements));var state=this.getStoreProperty("State");this.selectedIndex=(state===null?0:state.selectedIndex);for(var i=0,l=tabs.length;i<l;i++) {var tab=new LC.Site.Controls.Container.Tabs.Tab(tabs[i]);tab.Tabs=this;if(this.selectedIndex==i) {tab.activate();} else {tab.deactivate();} if(!this.getStateProperty("IsInitialised")) {tab.on("click",function(ev) {var i=this.getIndex(ev.getTarget().id);var tab=this.Tabs[i];this.activate(tab.Id);if(tab.IsMoreTab) {this.Menu.hide();}}.createDelegate(this));tab.on("activate",function(tab) {this.selectedIndex=this.getIndex(tab.Id);this.saveState();}.createDelegate(this));} this.Tabs.push(tab);} if(!this.getStateProperty("IsInitialised")&&this.More) {this.More.on("mouseover",function(ev){this.Menu.delayedShow();this.Menu.alignTo(this.More,"tr-br?",[-1,-1]);}.createDelegate(this));this.More.on("mouseout",function(ev){this.Menu.delayedHide();}.createDelegate(this));this.Menu.on("mouseover",function(ev){this.Menu.delayedShow();}.createDelegate(this));this.Menu.on("mouseout",function(ev){this.Menu.delayedHide();}.createDelegate(this));} this.setStateProperty("IsInitialised",true);},activate:function(id) {if(this.More) {this.More.removeClass("MoreTabsSelected");this.More.addClass("MoreTabs");} if(typeof this.Tabs[id]!="undefined") {for(var i=0,l=this.Tabs.length;i<l;i++) {this.Tabs[i].deactivate();} this.Tabs[id].activate();} else {for(var i=0,l=this.Tabs.length;i<l;i++) {if(this.Tabs[i].Id==id) {this.Tabs[i].activate();} else {this.Tabs[i].deactivate();}}} return true;},enable:function(id) {var i=this.getIndex(id);if(this.Tabs[i]) {this.Tabs[i].enable(this.Id);return true;} else {return false;}},disable:function(id) {var i=this.getIndex(id);if(this.Tabs[i]) {this.Tabs[i].disable(this.Id);return true;} else {return false;}},get:function(i) {return(!isUndefined(this.Tabs[i])?this.Tabs[i]:null);},getIndex:function(id) {for(var i=0,l=this.Tabs.length;i<l;i++) {if(this.Tabs[i].Id==id) {return i;}} return false;},resetState:function() {this.selectedIndex=0;this.saveState();},restoreState:function() {var state=this.getStoreProperty("State");if(state&&state.selectedIndex) {var tab=this.Tabs[state.selectedIndex];if(tab) {this.activate(tab.Id);}} else {this.activate(this.Tabs[0].Id);}},saveState:function() {this.setStoreProperty("State",{selectedIndex:this.selectedIndex});}};(function() {Object.extending("Lucid.Core.Site.Controls.Container.Tabs","Lucid.Lib.Dom.Element");LLDom.register(function(e){return(e.tagName=="DIV"&&LLDom.getTypeOf(e)=="Tabs")?new LC.Site.Controls.Container.Tabs(e):false;});})();Object.createNamespace("Lucid.Core.Site.Controls.Container.Tabs");Lucid.Core.Site.Controls.Container.Tabs.Tab={Tabs:null,Content:null,IsMoreTab:false,constructor:function(e,forceNew) {Lucid.Core.Site.Controls.Container.Tabs.Tab.superclass.constructor.apply(this,arguments);this.Content=LLDom(this.Id+".content");this.IsMoreTab=this.hasClass("isMoreTab")?true:false;this.addEvents({"activate":true,"deactivate":true});},activate:function() {this.Content.show();if(!this.IsMoreTab) {this.replaceClass("Tab","TabSelected");} else {this.Tabs.More.replaceClass("MoreTabs","MoreTabsSelected");} this.fireEvent("activate",this);},deactivate:function() {this.Content.hide();if(!this.IsMoreTab) {this.replaceClass("TabSelected","Tab");} this.fireEvent("deactivate",this);},disable:function() {this.purgeAllListeners();this.setOpacity(0.5);return true;},enable:function() {this.on("click",function(ev){this.activate(ev.getTarget().id);}.createDelegate(this.Tabs));this.on("activate",function(tab){this.selectedIndex=this.getIndex(tab.Id);this.saveState();}.createDelegate(this.Tabs));this.setOpacity(1.0);return true;}};(function() {Object.extending("Lucid.Core.Site.Controls.Container.Tabs.Tab","Lucid.Lib.Dom.Element");LLDom.register(function(e){return(e.tagName=="DIV"&&LLDom.getTypeOf(e)=="Tab")?new LC.Site.Controls.Container.Tabs.Tab(e):false;});})();Object.createNamespace("Lucid.Core.Site.Controls.Document.Messages");Lucid.Core.Site.Controls.Document.Messages.Error={constructor:function(message,timeout) {var e=LLDom.query("div.DocumentMessage.Error")[0];Lucid.Core.Site.Controls.Document.Messages.Error.superclass.constructor.apply(this,[e]);this.setMessage(String.save(message),Number.save(timeout))},getLayer:function() {return LLDom(this.select("div").elements[0]);},setMessage:function(message,timeout) {message=String.save(message);timeout=Number.save(timeout);if(message) {this.show();this.getLayer().update(message);if(timeout>0) {new LLSys.Task.DelayedTask(function() {this.getLayer().update("");this.hide();},this).delay(timeout);}}}};(function(){Object.extending("Lucid.Core.Site.Controls.Document.Messages.Error","Lucid.Lib.Dom.Element");})();Object.createNamespace("Lucid.Core.Site.Controls.Document.Messages");Lucid.Core.Site.Controls.Document.Messages.Notice={constructor:function(message,timeout) {var e=LLDom.query("div.DocumentMessage.Notice")[0];Lucid.Core.Site.Controls.Document.Messages.Notice.superclass.constructor.apply(this,[e]);this.setMessage(String.save(message),Number.save(timeout))},getLayer:function() {return LLDom(this.select("div").elements[0]);},setMessage:function(message,timeout) {message=String.save(message);timeout=Number.save(timeout);if(message) {this.show();this.getLayer().update(message);if(timeout>0) {new LLSys.Task.DelayedTask(function() {this.getLayer().update("");this.hide();},this).delay(timeout);}}}};(function(){Object.extending("Lucid.Core.Site.Controls.Document.Messages.Notice","Lucid.Lib.Dom.Element");})();Object.createNamespace("Lucid.Core.Site.Controls.Document.Messages");Lucid.Core.Site.Controls.Document.Messages.Warning={constructor:function(message,timeout) {var e=LLDom.query("div.DocumentMessage.Warning")[0];Lucid.Core.Site.Controls.Document.Messages.Warning.superclass.constructor.apply(this,[e]);this.setMessage(String.save(message),Number.save(timeout))},getLayer:function() {return LLDom(this.select("div").elements[0]);},setMessage:function(message,timeout) {message=String.save(message);timeout=Number.save(timeout);if(message) {this.show();this.getLayer().update(message);if(timeout>0) {new LLSys.Task.DelayedTask(function() {this.getLayer().update("");this.hide();},this).delay(timeout);}}}};(function(){Object.extending("Lucid.Core.Site.Controls.Document.Messages.Warning","Lucid.Lib.Dom.Element");})();Object.createNamespace("Lucid.Core.Site.Controls.Modal");Lucid.Core.Site.Controls.Modal.Dialog={defaults:{For:null,Align:"c-c?",OffsetX:0,OffsetY:0,Width:null,Height:null,Title:"",Message:"",Iframe:null,Yes:false,No:false,Cancel:false,IsMasked:true,IsPinned:true,IsResizable:false,IsDragable:false},config:null,For:null,constructor:function(e,forceNew,config) {if(e&&LLDom.exists(e)) {Lucid.Core.Site.Controls.Modal.Dialog.superclass.constructor.apply(this,arguments);this.config=Object.applyIf(this.getData(),this.defaults);this.addEvents({"close":true});} else {this.config=Object.applyIf(config,this.defaults);} if(!this.config.For||(this.config.For&&LLDom.exists(this.config.For))) {this.For=this.config.For?LLDom(this.config.For):false;this.Dialog=LLDom("ModalDialog");this.Header=LLDom("ModalDialogTitle");this.Title=LLDom("ModalDialogTitle");this.Message=LLDom("ModalDialogMessage");this.Iframe=LLDom("ModalDialogIframe");this.Controls=LLDom("ModalDialogControls");this.Secure=LLDom("ModalDialogSecure");this.TanValue=LLDom("ModalDialogTanValue");this.TanInput=LLDom("ModalDialogTanInput");this.Close=LLDom("ModalDialogClose");this.Yes=LLDom("ModalDialogYes");this.No=LLDom("ModalDialogNo");this.Cancel=LLDom("ModalDialogCancel");this.Body=new LLDom.Document().getBody();this.onClick=function(ev){if(this.Dialog.isVisible()&&!this.Dialog.isInBox(ev.xy[0],ev.xy[1])){this.close();}};if(this.For) {this.For.on("click",function(ev) {if(LC.Site.Controls.Modal.Dialog.Instance.stopEvent) {LC.Site.Controls.Modal.Dialog.Instance.stopEvent=false;return;} this.open();}.createDelegate(this));}} LC.Site.Controls.Modal.Dialog.Instance=this;},close:function() {LLSys.Task.delay(function(){Site.Modules.Files.getInstance().purgeListeners();},100);return this.reset();},open:function() {this.Dialog.show();if(this.For&&!this.config.AlignTo) {this.config.AlignTo=this.For.Id;} if(this.config.IsDragable) {this.config.IsPinned=false;} this.setTitle(this.config.Title);if(this.config.Message&&LLDom.exists(this.config.Message)) {this.setMessage(LLDom(this.config.Message).dom.innerHTML);} else if(this.config.Message) {this.setMessage(this.config.Message);} else if(!this.config.Message) {this.Message.hide();} this.setWidth(this.config.Width);if(this.config.Iframe) {this.Iframe.show();this.Iframe.setSource(this.config.Iframe);} this.setHeight(this.config.Height);if(this.config.IsSecure) {this.Secure.show();this.TanValue.update(Number.getRandom(1000,9999));this.TanInput.setValue("");this.TanInput.removeClass("Invalid");} else {this.Secure.hide();} if(!this.config.Yes&&!this.config.No&&!this.config.Cancel) {this.Controls.hide();this.Close.on("click",function(){return this.close();}.createDelegate(this));} else {this.Controls.show();if(this.config.Cancel==1||this.Config.cancel==2) {this.Close.show();this.Close.on("click",function(){return this.close();}.createDelegate(this));} else {this.Close.hide();} if(this.config.Yes) {this.Yes.show();this.onClickYes=function() {if(this.config.IsSecure) {if(this.TanValue.dom.innerHTML!=this.TanInput.getValue()) {this.TanInput.addClass("Invalid");return false;}} this.TanInput.removeClass("Invalid");if(this.config.Yes===true) {return this.close();} else {return new LLWeb.Client().redirect(this.config.Yes);}}.createDelegate(this);this.Yes.on("click",this.onClickYes);} if(this.config.No) {this.No.show();this.No.on("click",function(){return new LLWeb.Client().redirect(this.config.No);}.createDelegate(this));} if(this.config.Cancel&&this.config.Cancel==1) {this.Cancel.show();this.Cancel.on("click",function(){return this.close();}.createDelegate(this));} else if(this.config.Cancel&&this.config.Cancel==2) {} else if(this.config.Cancel) {this.Cancel.show();this.Cancel.on("click",function(){return new LLWeb.Client().redirect(this.config.Cancel);}.createDelegate(this));}} if(this.config.IsMasked) {this.Body.mask();this.Dialog.moveToTop();} this.onKeyUp=function(ev) {if(ev.getKey()==ev.ESC) {this.reset();} else if(ev.getKey()==ev.RETURN&&this.config.Yes) {this.onClickYes();}}.createDelegate(this);this.Body.on("keyup",this.onKeyUp);if(this.config.IsDragable) {var dragable=new Ext.dd.DD(this.Dialog.Id,null,{moveOnly:true});dragable.setHandleElId(this.Header.Id);this.Header.setStyle({cursor:"pointer"});} if(this.config.IsResizable) {var resizeable=new Ext.Resizable(this.Dialog.Id,{handles:"all",pinned:false,handleCls:"NoHandles",listeners:{resize:{fn:function(resizable,width,height,e) {this.setWidth(width);this.setHeight(height);if(this.config.isPinned) {this.Dialog.alignTo(this.config.AlignTo,this.config.Align,[this.config.OffsetX,this.config.OffsetY]);}},scope:this}}});this.Close.moveToTop();} this.Dialog.alignTo(this.config.AlignTo,this.config.Align,[this.config.OffsetX,this.config.OffsetY]);},reset:function() {if(this.config.IsMasked) {this.Body.unmask();} this.Body.un("keyup",this.onKeyUp);this.Dialog.hide();this.setTitle("");this.setMessage("");this.Yes.hide();this.No.hide();this.Cancel.hide();this.Controls.hide();this.setWidth("auto");this.setHeight("auto");this.Iframe.setSource("about:blank");this.Iframe.hide();this.Body.un("click",this.onClick,this);},setHeight:function(height) {if(height&&height=="auto") {this.Iframe.setHeight("auto");this.Message.setHeight("auto");this.Dialog.setHeight("auto");} else if(height) {this.Dialog.setHeight(height?height:"auto");if(this.Iframe.isVisible()) {this.Iframe.setHeight(height-this.Header.getHeight()-this.Message.getHeight()-this.Controls.getHeight()-16);} else if(this.Message.isVisible()) {this.Message.setHeight(height-this.Header.getHeight()-this.Controls.getHeight()-16);} if(this.config.IsPinned) {this.Dialog.alignTo(this.config.AlignTo,this.config.Align,[this.config.OffsetX,this.config.OffsetY]);}}},setMessage:function(message) {if(message) {this.Message.show();this.Message.update(message);return true;} else {return this.Message.hide();}},setTitle:function(title) {if(title) {this.Title.show();this.Title.update(title);return true;} else {return this.Title.hide();}},setWidth:function(width) {this.Dialog.setWidth(width?width:"auto");if(this.config.IsPinned) {}}};(function(){Object.extending("Lucid.Core.Site.Controls.Modal.Dialog","Lucid.Lib.Dom.Element");})();Lucid.Core.Site.Controls.Modal.Dialog.getInstance=function(id,forceNew,config) {if(!this.instance) {this.instance=new Lucid.Core.Site.Controls.Modal.Dialog(id,forceNew,config);} return this.instance;};Object.createNamespace("Lucid.Core.Site.Controls.Modal");Lucid.Core.Site.Controls.Modal.Layer={For:null,Highlight:null,constructor:function(e,forceNew) {Lucid.Core.Site.Controls.Modal.Layer.superclass.constructor.apply(this,arguments);this.config=this.getData();if(this.config.For&&LLDom.exists(this.config.For)) {this.For=LLDom(this.config.For);if(this.config.Highlight&&LLDom.exists(this.config.Highlight)) {this.Highlight=LLDom(this.config.Highlight);} this.For.on("mouseover",function() {if(this.Highlight) {LLDom.Fx.highlight(this.Highlight);} else {LLDom.Fx.highlight(this.For);} this.delayedShow();this.alignTo(this.For.Id,this.config.Align,[this.config.OffsetX,this.config.OffsetY]);}.createDelegate(this));this.For.on("mouseout",function() {if(this.Highlight) {LLDom.Fx.unhighlight();} else {LLDom.Fx.unhighlight();} this.hide();}.createDelegate(this));this.on("mouseover",function() {if(this.Highlight) {LLDom.Fx.highlight(this.Highlight);} else {LLDom.Fx.highlight(this.For);} this.delayedShow();}.createDelegate(this));this.on("mouseout",function() {if(this.Highlight) {LLDom.Fx.unhighlight();} else {LLDom.Fx.unhighlight();} this.hide();}.createDelegate(this));}}};(function(){Object.extending("Lucid.Core.Site.Controls.Modal.Layer","Lucid.Lib.Dom.Element.Layer");})();Object.createNamespace("Lucid.Core.Site.Controls.Modal");Lucid.Core.Site.Controls.Modal.Menu={behavior:null,config:[],For:null,constructor:function(e,forceNew,config) {Lucid.Core.Site.Controls.Modal.Menu.superclass.constructor.apply(this,arguments);this.config=Object.applyIf(this.getData(),Object.save(config));this.For=(this.config.For&&LLDom.exists(this.config.For)?LLDom(this.config.For):null);this.Parent=(this.config.Parent?LC.Site.Controls.get(this.config.Parent):null);if(this.For&&this.config.Mode=="click") {this.For.on("click",function() {if(!this.isVisible()) {this.For.addClass("Selected");this.show();if(this.config.AlignWidth) {this.setWidth(this.For.getWidth());} this.alignTo(this.For,this.config.Align,this.config.Offset);if(!this.behavior) {this.behavior=new LLDom.Behavior.OutOfBoxClick(this.Id);this.behavior.on("out",function() {this.For.removeClass("Selected");this.hide();this.behavior.disable();}.createDelegate(this));} else {this.behavior.enable();}} else {this.For.removeClass("Selected");this.hide();this.behavior.disable();}}.createDelegate(this));} else if(this.For) {this.For.on("mouseover",function() {this.delayedShow();var ele=document.getElementById(this.Id);ele.style.opacity=0;var tick=function(){ele.style.opacity=+ele.style.opacity+0.08;if(+ele.style.opacity<1) (window.requestAnimationFrame&&requestAnimationFrame(tick))||setTimeout(tick,16)};tick();if(this.config.AlignWidth) {this.setWidth(this.For.getWidth());} this.alignTo(this.config.For,this.config.Align,this.config.Offset);this.moveToTop();}.createDelegate(this));this.For.on("mouseout",function() {this.delayedHide();this.For.removeClass("Selected");}.createDelegate(this));var el=this.down('.MegaMenuContainer');if(el) {el.on("mouseover",function() {if(this.Parent) {this.Parent.suspendDelayedHide();this.Parent.For.addClass("Selected");} this.delayedShow();this.For.addClass("Selected");}.createDelegate(this));el.on("mouseout",function() {if(this.Parent) {this.Parent.delayedHide();this.Parent.For.removeClass("Selected");} this.delayedHide();this.For.removeClass("Selected");}.createDelegate(this));} else {this.on("mouseover",function() {if(this.Parent) {this.Parent.suspendDelayedHide();this.Parent.For.addClass("Selected");} this.delayedShow();this.For.addClass("Selected");}.createDelegate(this));this.on("mouseout",function() {if(this.Parent) {this.Parent.delayedHide();this.Parent.For.removeClass("Selected");} this.delayedHide();this.For.removeClass("Selected");}.createDelegate(this));}}}};(function() {Object.extending("Lucid.Core.Site.Controls.Modal.Menu","Lucid.Lib.Dom.Element");LLDom.register(function(e){return(e.tagName=="DIV"&&LLDom.getTypeOf(e)=="Menu")?new LC.Site.Controls.Modal.Menu(e):false;});})();Object.createNamespace("Lucid.Core.Site.Controls.Modal");Lucid.Core.Site.Controls.Modal.QuickTip={defaults:{Align:"tl-bl",OffsetX:0,OffsetY:0,HideDelay:0,ExpandWidth:false},config:{},For:null,constructor:function(e,forceNew,config) {Lucid.Core.Site.Controls.Modal.QuickTip.superclass.constructor.apply(this,arguments);this.config=Object.apply(config||this.defaults,this.getData());this.For=LLDom.exists(this.config.For)?LLDom(this.config.For):null;if(this.For&&this.config.OnClick) {this.For.on("click",function() {if(!this.isVisible()) {this.suspendDelayedHide();this.delayedShow();} else {this.delayedHide();}}.createDelegate(this));} else if(this.For&&this.config.OnFocus) {this.For.on("focus",function(){this.delayedShow();}.createDelegate(this));this.For.on("blur",function(){this.delayedHide();}.createDelegate(this));} else if(this.For&&this.config.OnMouseOver) {this.For.on("mouseover",function() {this.suspendDelayedHide();this.delayedShow();}.createDelegate(this));this.For.on("mouseout",function(){this.delayedHide();}.createDelegate(this));this.on("mouseover",function() {this.suspendDelayedHide();this.delayedShow();}.createDelegate(this));this.on("mouseout",function(){this.delayedHide();}.createDelegate(this));}},delayedHide:function() {if(!(this.config.OnFocus&&document.activeElement.id==this.For.Id)) {return Lucid.Core.Site.Controls.Modal.QuickTip.superclass.delayedHide.apply(this,[this.config.HideDelay]);}},delayedShow:function() {var r=false;if(!this.isVisible()) {r=Lucid.Core.Site.Controls.Modal.QuickTip.superclass.delayedShow.apply(this,arguments);this.alignTo(this.For,this.config.Align,[this.config.OffsetX,this.config.OffsetY]);if(this.config.ExpandWidth) {this.setWidth(this.For.getWidth());}} return r;}};(function() {Object.extending("Lucid.Core.Site.Controls.Modal.QuickTip","Lucid.Lib.Dom.Element.Layer");LLDom.Registry.push(function(e){return(e.tagName=="DIV"&&LLDom.getTypeOf(e)=="Quicktip")?new LC.Site.Controls.Modal.QuickTip(e):false;});})();Object.createNamespace("Lucid.Core.Site.Controls.Form");Lucid.Core.Site.Controls.Form.Button={defaults:{},config:{},Label:null,constructor:function(e,forceNew) {Lucid.Core.Site.Controls.Form.Button.superclass.constructor.apply(this,arguments);this.config=Object.apply(this.defaults,this.getData());this.Label=this.child("span.Label");this.config.DefaultLabel=this.Label?this.Label.getInnerHtml():null;if(this.config.Redirect) {this.on("click",function(ev) {console.log("lucid/scripts/Core/Site/Controls/Form/Button.js:46");var redirect=this.getData().Redirect;if(redirect.startsWith("http://")||redirect.startsWith("https://")) {new LLWeb.Client().redirect(redirect);} else {new LLWeb.Client().redirect(Site.getBase(redirect));}}.createDelegate(this));} if(this.config.Script||this.config.Type) {this.on("click",function(ev) {var script=this.getData().Script;var type=this.getData().Type;if(script) {eval(script);} if(type&&type=="submit") {var e=LLDom(ev.getTarget()).parent("form");if(e&&e.validate()) {e.dom.submit();}}}.createDelegate(this));}},disable:function() {return this.addClass("Disabled");},enable:function() {return this.removeClass("Disabled");},restoreLabel:function() {var label=this.config.DefaultLabel;if(this.Label&&label) {this.Label.update(label);}},setLabel:function(label) {if(this.Label) {this.Label.update(label);}}};(function() {Object.extending("Lucid.Core.Site.Controls.Form.Button","Lucid.Lib.Dom.Element");})();Object.createNamespace("Lucid.Core.Site.Controls.Form");Lucid.Core.Site.Controls.Form.Checkbox={Checkbox:null,constructor:function(e,forceNew) {Lucid.Core.Site.Controls.Form.Checkbox.superclass.constructor.apply(this,arguments);this.Checkbox=LLDom(this.Id+".checkbox");this.Checkbox.on("change",function(){this.validate();}.createDelegate(this));this.Checkbox.on("focus",function(){this.validate();}.createDelegate(this));this.Checkbox.on("click",function(){this.setValue(this.Checkbox.isChecked()?1:0);this.validate();}.createDelegate(this));},validate:function() {var validate=this.getValidate();if(this.Checkbox&&validate) {if(validate.contains("isChecked")) {if(this.Checkbox.isChecked()) {this.Checkbox.removeClass("Invalid");return true;} else {this.Checkbox.addClass("Invalid");return false;}} else if(validate.contains("notChecked")) {if(!this.Checkbox.isChecked()) {this.Checkbox.removeClass("Invalid");return true;} else {this.Checkbox.addClass("Invalid");return false;}}} return true;}};(function() {Object.extending("Lucid.Core.Site.Controls.Form.Checkbox","Lucid.Lib.Dom.Element.Form.Text");LLDom.register(function(e){return(e.tagName=="INPUT"&&e.type=="hidden"&&LLDom.getTypeOf(e)=="Checkbox")?new LC.Site.Controls.Form.Checkbox(e):false;});})();Object.createNamespace("Lucid.Core.Site.Controls.Form");Lucid.Core.Site.Controls.Form.Color={Picker:null,Input:null,Select:null,constructor:function(e,forceNew) {Lucid.Core.Site.Controls.Form.Color.superclass.constructor.apply(this,arguments);this.Input=LLDom(this.Id+".input");this.Label=LLDom(this.Id+".label");this.Select=LLDom(this.Id+".select");this.Picker=new LC.Site.Controls.Form.Color.Picker("ModalColor",null,{});this.Picker.on("select",function(picker){this.setValue(picker.getValue());}.createDelegate(this));this.Select.on("click",function(){if(this.Picker.isVisible()){this.Picker.close();}else{this.Picker.open();this.Picker.alignTo(this.Select.Id,"tl-bl?");this.Picker.setValue(this.getValue());}}.createDelegate(this));var fn001=function(){if(this.Input.validate(this.getValidate())){var value=this.Input.getValue();this.setValue(value);this.Label.setStyle({backgroundColor:"#"+value});this.Picker.setValue(value);}};this.Input.on("keyup",fn001.createDelegate(this));this.Input.on("blur",fn001.createDelegate(this));},setValue:function(value) {this.Input.setValue(value);if(this.validate()) {this.Label.setStyle({backgroundColor:"#"+value});Lucid.Core.Site.Controls.Form.Color.superclass.setValue.apply(this,[value]);}},validate:function() {return this.Input.validate(this.getValidate());}};(function() {Object.extending("Lucid.Core.Site.Controls.Form.Color","Lucid.Lib.Dom.Element.Form.Text");LLDom.register(function(e){return(e.tagName=="INPUT"&&LLDom.getTypeOf(e)=="Color")?new LC.Site.Controls.Form.Color(e):false;});})();Object.createNamespace("Lucid.Core.Site.Controls.Form.Color");Lucid.Core.Site.Controls.Form.Color.Picker={defaults:{},config:{},widget:null,Close:null,Cancel:null,Select:null,constructor:function(e,forceNew,config) {Lucid.Core.Site.Controls.Form.Color.Picker.superclass.constructor.apply(this,arguments);this.config=Object.applyIf(config||{},this.defaults);this.Close=LLDom(this.select("a.Close").elements[0]);this.Cancel=LLDom(this.select("button.Cancel").elements[0]);this.Select=LLDom(this.select("button.Select").elements[0]);this.Close.on("click",function(){this.close();}.createDelegate(this));this.Cancel.on("click",function(){this.close();}.createDelegate(this));this.Select.on("click",function(){this.fireEvent("select",this);this.hide();}.createDelegate(this));this.addEvents({"select":true,"cancel":true});},close:function() {this.hide();this.fireEvent("cancel",this);return true;},getValue:function() {return this.Value?this.Value.getValue():null;},open:function() {if(this.widget===null&&!LC.Site.Controls.Form.Color.Picker.instance) {var id=this.select("div.Picker").elements[0].id;LC.Site.Controls.Form.Color.Picker.instance=new YAHOO.widget.ColorPicker(id,{showhsvcontrols:false,showwebsafe:false,images:{PICKER_THUMB:"../../lucid/images/Core/Site/Controls/Form/Color/picker_thumb.png",HUE_THUMB:"../../lucid/images/Core/Site/Controls/Form/Color/hue_thumb.png"}});this.widget=LC.Site.Controls.Form.Color.Picker.instance;this.Value=LLDom(this.select("input.yui-picker-hex").elements[0]);} else if(this.widget===null&&LC.Site.Controls.Form.Color.Picker.instance) {this.widget=LC.Site.Controls.Form.Color.Picker.instance;} return this.show();},setValue:function(value) {var color=new Lucid.Lib.Data.Document.Html.Color(value);if(this.widget) {this.widget.setValue([color.Red,color.Green,color.Blue]);} return color;}};(function(){Object.extending("Lucid.Core.Site.Controls.Form.Color.Picker","Lucid.Lib.Dom.Element");})();Object.createNamespace("Lucid.Core.Site.Controls.Form");Lucid.Core.Site.Controls.Form.ComboBox={defaults:{},config:{},Input:null,Options:null,Value:null,constructor:function(e,forceNew,config) {Lucid.Core.Site.Controls.Form.ComboBox.superclass.constructor.apply(this,arguments);this.defaults={};this.config=Object.apply(this.defaults,this.getData());this.config.Parent=this;this.Options=new LC.Site.Controls.Form.ComboBox.Options(this.Id+".options",null,this.config);this.Input=new LC.Site.Controls.Form.ComboBox.Input(this.Id+".input",null,this.config);this.Value=new LC.Site.Controls.Form.ComboBox.Value(this.Id+".value",null,this.config);this.Form=LLDom(this.Input.dom.form);if(!this.getStateProperty("IsInitialised")) {this.Options.on("mouseover",function(ev){this.Input.onblur=false;}.createDelegate(this));this.Options.on("mouseout",function(ev){this.Input.onblur=true;}.createDelegate(this));this.Input.on("focus",function(ev) {this.Form.disableSubmit();this.Input.onblur=true;var r=this.Options.filter(this.Input.getValue());this.Options.hide();}.createDelegate(this));this.Input.on("click",function(ev) {var r=this.Input.getX()+this.Input.getWidth();var l=r-18;if(ev.xy[0]>=l&&ev.xy[0]<=r) {if(this.Options.isVisible()) {this.Options.filter("");this.Options.hide();} else {this.Options.filter("");this.Options.show();}} else {this.Options.filter("");this.Options.show();}}.createDelegate(this));this.Input.on("blur",function(ev) {if(this.Input.onblur) {this.Options.hide();this.Options.Selected=-1;this.Form.enableSubmit();} this.Input.validate();}.createDelegate(this));this.Input.on("keyup",function(ev) {if(ev.getKey()==ev.DOWN) {this.Input.onblur=false;this.Form.disableSubmit();this.Options.next();} else if(ev.getKey()==ev.UP) {this.Options.previous();} else if(ev.getKey()==ev.RETURN) {var value=this.Options.Anchors[this.Options.Selected].getData();var text=this.Options.Anchors[this.Options.Selected].getInnerHtml();this.Value.setValue(value.Value);this.Input.setValue(text);this.Options.unmarkAll();this.Options.hide();this.Form.enableSubmit();this.Input.focus();} else if(ev.getKey()==ev.ESC) {this.Options.hide();this.Form.enableSubmit();} else {this.Options.filter(this.Input.getValue());if(!this.config.AllowCustomValue&&(typeof this.config.DefaultValue!="undefined"&&this.config.DefaultValue!=null)&&this.Input.getValue()=="") {this.Value.setValue(this.config.DefaultValue);} else if(!this.config.AllowCustomValue&&(typeof this.config.DefaultValue=="undefined"||this.config.DefaultValue==null)&&this.Input.getValue()=="") {this.Value.setValue(null);} if(this.config.AllowCustomValue) {this.Value.setValue(this.Input.getValue());}}}.createDelegate(this));} this.setStateProperty("IsInitialised",true);this.addEvents({"select":true});}};(function() {Object.extending("Lucid.Core.Site.Controls.Form.ComboBox","Lucid.Lib.Dom.Element");LLDom.register(function(e){return(e.tagName=="DIV"&&LLDom.getTypeOf(e)=="ComboBox")?new LC.Site.Controls.Form.ComboBox(e):false;});})();Object.createNamespace("Lucid.Core.Site.Controls.Form.ComboBox");Lucid.Core.Site.Controls.Form.ComboBox.Input={defaults:{TriggerBlur:true},config:{},Parent:null,Form:null,constructor:function(e,forceNew,config) {Lucid.Core.Site.Controls.Form.ComboBox.Input.superclass.constructor.apply(this,[e,forceNew]);this.defaults={TriggerBlur:true};this.config=Object.apply(this.defaults,config||{});this.Parent=this.config.Parent;this.on("mousemove",function(ev) {var r=this.getX()+this.getWidth();var l=r-18;this.setStyle("cursor",(ev.xy[0]>=l&&ev.xy[0]<=r?"default":"auto"));}.createDelegate(this));},validate:function() {var r=false;if(this.config.AllowCustomValue) {this.removeClass("Invalid");r=this.Parent.Value.validate();} else {if(typeof this.Parent.config.DefaultValue!="undefined"&&this.Parent.config.DefaultValue!=null&&this.Parent.Value.getValue()==this.Parent.config.DefaultValue) {r=true;} else {r=this.Parent.Options.isValueDefined(this.Parent.Value.getValue());}} if(!r) {this.addClass("Invalid");} else {this.removeClass("Invalid");} return r;}};(function(){Object.extending("Lucid.Core.Site.Controls.Form.ComboBox.Input","Lucid.Lib.Dom.Element.Form.Text");})();Object.createNamespace("Lucid.Core.Site.Controls.Form.ComboBox");Lucid.Core.Site.Controls.Form.ComboBox.Options={defaults:{},config:{},Parent:null,Anchors:null,Selected:-1,constructor:function(e,forceNew,config) {Lucid.Core.Site.Controls.Form.ComboBox.Options.superclass.constructor.apply(this,arguments);this.config=Object.apply(this.defaults,(config||{}));this.Parent=this.config.Parent;this.Anchors=[];var anchors=this.select("a").elements;for(var i=0,l=anchors.length;i<l;i++) {this.Anchors.push(LLDom(anchors[i]));} this.Anchors.forEach(function(e) {e.on("click",function(ev) {var anchor=LLDom(ev.getTarget());var value=anchor.getData();var text=anchor.getInnerHtml();this.Parent.Value.setValue(value.Value);this.Parent.Input.setValue(text);this.unmarkAll();this.Parent.Input.focus();this.Parent.Form.enableSubmit();this.hide();}.createDelegate(this))}.createDelegate(this));},filter:function(value) {var r=[],searches,isFound;if(!this.isVisible()) {this.show();} if(value==""||value==this.config.DefaultLabel) {for(var i=0,l=this.Anchors.length;i<l;i++) {this.Anchors[i].show();r.push(i);}} else if(value!=this.config.DefaultLabel) {searches=value.split(" ").clean().map(function(v){return v.toLower();});for(var i=0,l=this.Anchors.length;i<l;i++) {isFound=(function(anchor,searches) {var value=anchor.getInnerHtml()?anchor.getInnerHtml().toLower():false;if(!value||value.getLength()<2) {return false;} for(var ii=0,ll=searches.length;ii<ll;ii++) {if(!value.contains(searches[ii])) {return false;}} return true;})(this.Anchors[i],searches);if(isFound) {this.Anchors[i].show();r.push(i);} else {this.Anchors[i].hide();}} return r;}},isValueDefined:function(value) {for(var i=0,l=this.Anchors.length;i<l;i++) {var data=this.Anchors[i].getData();if(data.Value==value) {return true;}} return false;},next:function() {if(!this.isVisible()) {this.show();} if(this.Selected==-1) {for(var i=0,l=this.Anchors.length;i<l;i++) {if(this.Anchors[i].isVisible()) {return this.markOption(i);}} return this.markOption(0);} for(var i=this.Selected+1,l=this.Anchors.length;i<l;i++) {if(this.Anchors[i].isVisible()) {return this.markOption(i);}}},previous:function() {if(!this.isVisible()) {this.show();} for(var i=this.Selected-1;i>-1;i--) {if(this.Anchors[i].isVisible()) {return this.markOption(i);}} this.Selected=-1;this.Parent.Input.focus();this.unmarkAll();return-1;},markOption:function(i) {this.unmarkAll();this.Anchors[i].addClass("Selected");this.Selected=i;this.Anchors[i].focus();return i;},removeOptions:function() {for(var i=0,l=this.Anchors.length;i<l;i++) {this.Anchors[i].remove();} this.Anchors=[];this.Parent.Value.setValue(0);this.Parent.Input.setValue("");},setOptions:function(options) {this.removeOptions();for(var i in options) {LLDom.Helper.append(this,"<a data-data="+LLSys.Encode.Base64.encode(Json.stringify({Value:i}))+">"+options[i]+"</a>");} var anchors=this.select("a").elements;for(var i=0,l=anchors.length;i<l;i++) {this.Anchors.push(LLDom(anchors[i]));} this.Anchors.forEach(function(e) {e.on("click",function(ev) {var anchor=LLDom(ev.getTarget());var value=anchor.getData();var text=anchor.getInnerHtml();this.Parent.Value.setValue(value.Value);this.Parent.Input.setValue(text);this.unmarkAll();this.Parent.Input.focus();this.Parent.Form.enableSubmit();this.hide();}.createDelegate(this))}.createDelegate(this));},show:function() {var r;r=Lucid.Core.Site.Controls.Form.ComboBox.Options.superclass.show.apply(this);this.setWidth(this.Parent.Input.getWidth());this.alignTo(this.Parent.Input.dom,"tl-bl");return r;},unmarkAll:function() {for(var i=0,l=this.Anchors.length;i<l;i++) {this.Anchors[i].removeClass("Selected");} this.Selected=-1;return-1;}};(function(){Object.extending("Lucid.Core.Site.Controls.Form.ComboBox.Options","Lucid.Lib.Dom.Element");})();Object.createNamespace("Lucid.Core.Site.Controls.Form.ComboBox");Lucid.Core.Site.Controls.Form.ComboBox.Value={defaults:{},config:{},Parent:null,constructor:function(e,forceNew,config) {Lucid.Core.Site.Controls.Form.ComboBox.Value.superclass.constructor.apply(this,[e,forceNew]);this.config=Object.apply(this.defaults,(config||{}));this.Parent=this.config.Parent;},setValue:function(value) {var r=Lucid.Core.Site.Controls.Form.ComboBox.Value.superclass.setValue.apply(this,arguments);this.Parent.fireEvent("select",this.Parent);return r;}};(function(){Object.extending("Lucid.Core.Site.Controls.Form.ComboBox.Value","Lucid.Lib.Dom.Element.Form.Text");})();Object.createNamespace("Lucid.Core.Site.Controls.Form");Lucid.Core.Site.Controls.Form.Configuration={defaults:{View:"view"},config:{},constructor:function(id,forceNew,config) {Lucid.Core.Site.Controls.Form.Configuration.superclass.constructor.apply(this,arguments);this.config=this.getData()||this.defaults;if(!Site.Stores.Temp.get("Dom::"+this.Id+"::initialised")) {this.Value=LLDom(this.Id+".Source");this.Viewer=LLDom(this.Id+".Viewer");this.Source=LLDom(this.Id+".Sources");this.ShowViewer=LLDom(this.Id+".ShowViewer");this.ShowSource=LLDom(this.Id+".ShowSource");this.CollapseAll=LLDom(this.Id+".CollapseAll");this.ExpandAll=LLDom(this.Id+".ExpandAll");this.select("a.ToggleGroup").elements.each(function(e) {LLDom(e).on("click",function(ev) {this.toggleGroup(e.rel);}.createDelegate(this));}.createDelegate(this));if(this.CollapseAll&&this.ExpandAll&&this.ShowViewer&&this.ShowSource) {this.CollapseAll.on("click",this.collapseAll.createDelegate(this));this.ExpandAll.on("click",this.expandAll.createDelegate(this));this.ShowViewer.on("click",function(ev,e) {this.ShowSource.removeClass("Selected");this.ShowViewer.addClass("Selected");this.Source.hide();this.Viewer.show();}.createDelegate(this));this.ShowSource.on("click",function(ev,e) {this.ShowViewer.removeClass("Selected");this.ShowSource.addClass("Selected");this.Viewer.hide();this.Source.show();}.createDelegate(this));this.select("input").elements.forEach(function(e) {e=LLDom(e);if(e.dom.type=="checkbox") {e.on("click",function(ev) {var setting=e.getData().Setting;this.setSetting(setting,e.isChecked());}.createDelegate(this));} else if(e.dom.type=="text") {e.on("change",function(ev) {var setting=e.getData().Setting;this.setSetting(setting,e.getValue());}.createDelegate(this));}}.createDelegate(this));} Site.Stores.Temp.set("Dom::"+this.Id+"::initialised",true);}},setSetting:function(setting,value) {setting=setting.split("/");if(value==="NULL") {value=null;} else if(typeof value.isNumeric!=="undefined"&&value.isNumeric()) {value=Number(value);} var configuration=Json.parse(this.Value.getValue());var scope=configuration;for(var i=0,l=setting.length-1;i<l;i++) {scope=scope[setting[i]];} scope[setting[setting.length-1]]=value;this.Value.setValue(Json.format(configuration));},collapseAll:function() {this.select("div.Group").elements.each(function(e) {if(e.id!=this.Id+".groups") {LLDom(e).hide();}}.createDelegate(this));return true;},collapseGroup:function(id) {var group=LLDom(id);if(group) {group.hide();group.select("div.Group").elements.each(function(e) {LLDom(e).hide()});return true;} else {return false;}},expandAll:function() {this.select("div.Group").elements.each(function(e) {LLDom(e).show();});return true;},expandGroup:function(id) {var group=LLDom(id);if(group) {group.show();group.select("div.Group").elements.each(function(e) {LLDom(e).show()});return true;} else {return false;}},toggleGroup:function(id) {var group=LLDom(id);if(group) {group.toggle();return true;} else {return false;}}};(function() {Object.extending("Lucid.Core.Site.Controls.Form.Configuration","Lucid.Lib.Dom.Element.Layer");LLDom.register(function(e){return(e.tagName=="DIV"&&LLDom.getTypeOf(e)=="Configuration")?new LC.Site.Controls.Form.Configuration(e):false;});})();Object.createNamespace("Lucid.Core.Site.Controls.Form");Lucid.Core.Site.Controls.Form.Date={data:null,Calendar:null,Modal:null,Input:null,constructor:function(e,forceNew) {Lucid.Core.Site.Controls.Form.Date.superclass.constructor.apply(this,arguments);this.data=this.getData();this.Input=LLDom(this.Id+".input");if(LLDom.exists(this.Id+".layer")) {this.Modal=LLDom(this.Id+".layer");this.Close=LLDom(this.Modal.select("a.Close").elements[0]);this.Select=LLDom(this.Modal.select("button.Select").elements[0]);this.Cancel=LLDom(this.Modal.select("button.Cancel").elements[0]);} this.Input.on("keyup",function(){if(this.Input.validate(this.getValidate())){var value=this.Input.getValue();var ts=Site.I18n.Formatter.parseDate(value,this.data.Format);if(value!=""){this.setValue(ts);}else{this.setValue("");}}}.createDelegate(this));this.Input.on("blur",function(){if(this.Input.validate(this.getValidate())){var value=this.Input.getValue();var ts=Site.I18n.Formatter.parseDate(value,this.data.Format);if(value!=""){this.setValue(ts);}else{this.setValue("");}}}.createDelegate(this));},hideCalendar:function() {return this.Modal.hide();},initCalendar:function() {if(this.Calendar==null) {var date=Date.parseTimestamp(this.getValue());this.Calendar=new YAHOO.widget.Calendar(LLDom.createId(),this.Id+".calendar",{pagedate:date.format("m/Y"),selected:date.format("m/d/Y"),close:false,navigator:true,multi_select:false});this.Calendar.cfg.setProperty("START_WEEKDAY",1);if(Site.I18n.Locale.Language!="en") {this.Calendar.cfg.setProperty("MONTHS_SHORT",Site.I18n.Locale.Date.Months.Abbreviations["3"]);this.Calendar.cfg.setProperty("MONTHS_LONG",Site.I18n.Locale.Date.Months.Names);this.Calendar.cfg.setProperty("WEEKDAYS_1CHAR",Site.I18n.Locale.Date.Days.Abbreviations["1"]);this.Calendar.cfg.setProperty("WEEKDAYS_SHORT",Site.I18n.Locale.Date.Days.Abbreviations["2"]);this.Calendar.cfg.setProperty("WEEKDAYS_MEDIUM",Site.I18n.Locale.Date.Days.Abbreviations["3"]);this.Calendar.cfg.setProperty("WEEKDAYS_LONG",Site.I18n.Locale.Date.Days.Names);} if(Site.I18n.Locale.Language=="de") {this.Calendar.cfg.setProperty("DATE_FIELD_DELIMITER",".");this.Calendar.cfg.setProperty("MDY_DAY_POSITION",1);this.Calendar.cfg.setProperty("MDY_MONTH_POSITION",2);this.Calendar.cfg.setProperty("MDY_YEAR_POSITION",3);} this.Calendar.render();this.Close.on("click",function(){this.hideCalendar();}.createDelegate(this));this.Cancel.on("click",function(){this.hideCalendar();}.createDelegate(this));this.Select.on("click",function() {var date,format,selected=this.Calendar.getSelectedDates();if(!isUndefined(selected[0])) {date=selected[0];format=(this.data.Format)?Site.I18n.Locale.Date.Formats[this.data.Format].Format:Site.I18n.Locale.Date.Formats["Date"].Format;this.setValue(date.getTime()/1000);this.Input.setValue(Site.I18n.Formatter.formatDate(date,format));this.hideCalendar();}}.createDelegate(this));}},showCalendar:function() {var r;r=this.Modal.show();this.initCalendar();this.Calendar.render();this.Modal.alignTo(this.Id+".select");return r;},toggleCalendar:function() {if(this.Modal.isVisible()) {return this.hideCalendar();} else {return this.showCalendar();}},validate:function() {var r=this.Input.validate(this.getValidate());if(r===false) {Lucid.Lib.System.Task.delay(function() {this.Input.addClass("Invalid");}.createDelegate(this),50);} return r;}};(function() {Object.extending("Lucid.Core.Site.Controls.Form.Date","Lucid.Lib.Dom.Element.Form.Text");LLDom.register(function(e){return(e.tagName=="INPUT"&&LLDom.getTypeOf(e)=="Date")?new LC.Site.Controls.Form.Date(e):false;});})();Object.createNamespace("Lucid.Core.Site.Controls.Form");Lucid.Core.Site.Controls.Form.Image={defaults:{Accepts:null},config:{},Image:null,Select:null,Cancel:null,Dialog:null,constructor:function(e,forceNew,config) {Lucid.Core.Site.Controls.Form.Image.superclass.constructor.apply(this,arguments);this.config=Object.applyIf(config||{},this.defaults);this.Image=LLDom(this.Id+".image");this.Select=LLDom(this.Id+".select");this.Cancel=LLDom(this.Id+".cancel");this.Dialog=new LC.Site.Controls.Modal.Dialog(null,null,{For:this.Id+".select",AlignTo:"Body",Align:"c-c?",Width:1000,Height:680,Title:Site.I18n.translate("Select Image"),Message:null,Iframe:"~/core/9d713af2d20c45109f2575f1cc03ee78/select/index/0/?q="+LLSys.Encode.Base64.encode(Json.stringify({o:{Callback:null,Filters:false,Accepts:this.config.Accepts}})),IsMasked:true,IsResizable:true,IsDragable:true});this.on("change",function(){this.validate()}.createDelegate(this));this.Select.on("click",function() {Site.Modules.Files.getInstance().on("select",function(item) {Site.Modules.Files.getInstance().purgeListeners();this.setValue("sites/"+Site.Id+"/variable/Files/"+item.Guid+"."+item.Extension);}.createDelegate(this));}.createDelegate(this));this.Cancel.on("click",function(){this.clear()}.createDelegate(this));},setValue:function(value) {Lucid.Core.Site.Controls.Form.Image.superclass.setValue.apply(this,[value]);var getCreateImage=new Site.Modules.Images.Create(value,{ResizeTo:[100,100]});getCreateImage.on("get",function(response) {this.Image.setSource(response);}.createDelegate(this));getCreateImage.get();return true;},clear:function() {Lucid.Core.Site.Controls.Form.Image.superclass.setValue.apply(this,[""]);this.Image.setSource("public/images/site/images/null.gif");return true;}};(function() {Object.extending("Lucid.Core.Site.Controls.Form.Image","Lucid.Lib.Dom.Element.Form.Text");LLDom.register(function(e){return(e.tagName=="INPUT"&&LLDom.getTypeOf(e)=="Image")?new LC.Site.Controls.Form.Image(e):false;});})();Object.createNamespace("Lucid.Core.Site.Controls.Form");Lucid.Core.Site.Controls.Form.File={Label:null,constructor:function(e,forceNew) {Lucid.Core.Site.Controls.Form.File.superclass.constructor.apply(this,arguments);this.Label=LLDom(this.Id+".label");},reset:function() {Lucid.Core.Site.Controls.Form.File.superclass.reset.apply(this,arguments);this.Label.setValue("");return true;},validate:function() {var data=this.getData();var accepts=data.Accepts;if(accepts===null||(accepts!==null&&accepts.indexOf(LLFs.File.getExtension(this.getValue()))!=-1)||(accepts!==null&&this.getValue()=="")) {this.Label.removeClass("Invalid");this.Label.setValue(LLFs.File.getName(this.getValue()));return true;} else {this.Label.addClass("Invalid");this.reset();return false;}}};(function() {Object.extending("Lucid.Core.Site.Controls.Form.File","Lucid.Lib.Dom.Element.Form.File");LLDom.register(function(e){return(e.tagName=="INPUT"&&e.type=="file"&&LLDom.getTypeOf(e)==="File")?new LC.Site.Controls.Form.File(e):false;});})();Object.createNamespace("Lucid.Core.Site.Controls.Form");Lucid.Core.Site.Controls.Form.MultiComboBox={defaults:{},config:{},Input:null,Options:null,Value:null,constructor:function(e,forceNew,config) {Lucid.Core.Site.Controls.Form.MultiComboBox.superclass.constructor.apply(this,arguments);this.defaults={};this.config=Object.apply(this.defaults,this.getData());this.config.Parent=this;this.Options=new LC.Site.Controls.Form.MultiComboBox.Options(this.Id+".options",null,this.config);this.Input=new LC.Site.Controls.Form.MultiComboBox.Input(this.Id+".input",null,this.config);this.Value=new LC.Site.Controls.Form.MultiComboBox.Value(this.Id+".value",null,this.config);this.Form=LLDom(this.Input.dom.form);this.Options.on("mouseover",function(ev){this.Input.onblur=false;}.createDelegate(this));this.Options.on("mouseout",function(ev){this.Input.onblur=true;}.createDelegate(this));this.Input.on("focus",function(ev) {this.Form.disableSubmit();this.Input.onblur=true;var r=this.Options.filter(this.Input.getValue());this.Options.hide();}.createDelegate(this));this.Input.on("click",function(ev) {var r=this.Input.getX()+this.Input.getWidth();var l=r-18;if(ev.xy[0]>=l&&ev.xy[0]<=r) {if(this.Options.isVisible()) {this.Options.filter("");this.Options.hide();} else {this.Options.filter("");this.Options.show();}} else {this.Options.filter("");this.Options.show();}}.createDelegate(this));this.Input.on("blur",function(ev) {if(this.Input.onblur) {this.Options.hide();this.Options.Selected=-1;this.Form.enableSubmit();} this.Input.validate();}.createDelegate(this));this.Input.on("keyup",function(ev) {if(ev.getKey()==ev.DOWN) {this.Input.onblur=false;this.Form.disableSubmit();this.Options.next();} else if(ev.getKey()==ev.UP) {this.Options.previous();} else if(ev.getKey()==ev.RETURN) {var value=this.Options.Anchors[this.Options.Selected].getData();var text=this.Options.Anchors[this.Options.Selected].getInnerHtml();this.Value.setValue(value.Value);this.Input.setValue(text);this.Options.unmarkAll();this.Options.hide();this.Form.enableSubmit();this.Input.focus();} else if(ev.getKey()==ev.ESC) {this.Options.hide();this.Form.enableSubmit();} else {this.Options.filter(this.Input.getValue());if(!this.config.AllowCustomValue&&(typeof this.config.DefaultValue!="undefined"&&this.config.DefaultValue!=null)&&this.Input.getValue()=="") {this.Value.setValue(this.config.DefaultValue);} else if(!this.config.AllowCustomValue&&(typeof this.config.DefaultValue=="undefined"||this.config.DefaultValue==null)&&this.Input.getValue()=="") {this.Value.setValue(null);} if(this.config.AllowCustomValue) {this.Value.setValue(this.Input.getValue());}}}.createDelegate(this));}};(function(){Object.extending("Lucid.Core.Site.Controls.Form.MultiComboBox","Lucid.Lib.Dom.Element");})();Object.createNamespace("Lucid.Core.Site.Controls.Form.MultiComboBox");Lucid.Core.Site.Controls.Form.MultiComboBox.Input={defaults:{},config:{},Parent:null,Form:null,constructor:function(e,forceNew,config) {Lucid.Core.Site.Controls.Form.MultiComboBox.Input.superclass.constructor.apply(this,[e,forceNew]);this.defaults={TriggerBlur:true};this.config=Object.apply(this.defaults,config||{});this.Parent=this.config.Parent;this.on("mousemove",function(ev) {var r=this.getX()+this.getWidth();var l=r-18;this.setStyle("cursor",(ev.xy[0]>=l&&ev.xy[0]<=r?"default":"auto"));}.createDelegate(this));},validate:function() {var r=false;if(this.config.AllowCustomValue) {this.removeClass("Invalid");r=this.Parent.Value.validate();} else {if(typeof this.Parent.config.DefaultValue!="undefined"&&this.Parent.config.DefaultValue!=null&&this.Parent.Value.getValue()==this.Parent.config.DefaultValue) {r=true;} else {r=this.Parent.Options.isValueDefined(this.Parent.Value.getValue());}} if(!r) {this.addClass("Invalid");} else {this.removeClass("Invalid");} return r;}};(function(){Object.extending("Lucid.Core.Site.Controls.Form.MultiComboBox.Input","Lucid.Lib.Dom.Element.Form.Text");})();Object.createNamespace("Lucid.Core.Site.Controls.Form.MultiComboBox");Lucid.Core.Site.Controls.Form.MultiComboBox.Options={defaults:{},config:{},Parent:null,Anchors:null,Selected:-1,constructor:function(e,forceNew,config) {Lucid.Core.Site.Controls.Form.MultiComboBox.Options.superclass.constructor.apply(this,arguments);this.config=Object.apply(this.defaults,(config||{}));this.Parent=this.config.Parent;this.Anchors=[];var anchors=this.select("a").elements;for(var i=0,l=anchors.length;i<l;i++) {this.Anchors.push(LLDom(anchors[i]));} this.Anchors.forEach(function(e) {e.on("click",function(ev) {var anchor=LLDom(ev.getTarget());var value=anchor.getData();var text=anchor.getInnerHtml();this.Parent.Value.setValue(value.Value);this.Parent.Input.setValue(text);this.unmarkAll();this.Parent.Input.focus();this.Parent.Form.enableSubmit();this.hide();}.createDelegate(this))}.createDelegate(this));},filter:function(value) {var r=[],searches,isFound;if(!this.isVisible()) {this.show();} if(value==""||value==this.config.DefaultLabel) {for(var i=0,l=this.Anchors.length;i<l;i++) {this.Anchors[i].show();r.push(i);}} else if(value!=this.config.DefaultLabel) {searches=value.split(" ").clean().map(function(v){return v.toLower();});for(var i=0,l=this.Anchors.length;i<l;i++) {isFound=(function(anchor,searches) {var value=anchor.getInnerHtml()?anchor.getInnerHtml().toLower():false;if(!value||value.getLength()<2) {return false;} for(var ii=0,ll=searches.length;ii<ll;ii++) {if(!value.contains(searches[ii])) {return false;}} return true;})(this.Anchors[i],searches);if(isFound) {this.Anchors[i].show();r.push(i);} else {this.Anchors[i].hide();}} return r;}},isValueDefined:function(value) {for(var i=0,l=this.Anchors.length;i<l;i++) {var data=this.Anchors[i].getData();if(data.Value==value) {return true;}} return false;},next:function() {if(!this.isVisible()) {this.show();} if(this.Selected==-1) {for(var i=0,l=this.Anchors.length;i<l;i++) {if(this.Anchors[i].isVisible()) {return this.markOption(i);}} return this.markOption(0);} for(var i=this.Selected+1,l=this.Anchors.length;i<l;i++) {if(this.Anchors[i].isVisible()) {return this.markOption(i);}}},previous:function() {if(!this.isVisible()) {this.show();} for(var i=this.Selected-1;i>-1;i--) {if(this.Anchors[i].isVisible()) {return this.markOption(i);}} this.Selected=-1;this.Parent.Input.focus();this.unmarkAll();return-1;},markOption:function(i) {this.unmarkAll();this.Anchors[i].addClass("Selected");this.Selected=i;this.Anchors[i].focus();return i;},show:function() {var r;r=Lucid.Core.Site.Controls.Form.MultiComboBox.Options.superclass.show.apply(this);this.setWidth(this.Parent.Input.getWidth());this.alignTo(this.Parent.Input.dom,"tl-bl");return r;},unmarkAll:function() {for(var i=0,l=this.Anchors.length;i<l;i++) {this.Anchors[i].removeClass("Selected");} this.Selected=-1;return-1;}};(function(){Object.extending("Lucid.Core.Site.Controls.Form.MultiComboBox.Options","Lucid.Lib.Dom.Element");})();Object.createNamespace("Lucid.Core.Site.Controls.Form.MultiComboBox");Lucid.Core.Site.Controls.Form.MultiComboBox.Value={defaults:{},config:{},Parent:null,constructor:function(e,forceNew,config) {Lucid.Core.Site.Controls.Form.MultiComboBox.Value.superclass.constructor.apply(this,[e,forceNew]);this.config=Object.apply(this.defaults,(config||{}));this.Parent=this.config.Parent;}};(function(){Object.extending("Lucid.Core.Site.Controls.Form.MultiComboBox.Value","Lucid.Lib.Dom.Element.Form.Text");})();Object.createNamespace("Lucid.Core.Site.Controls.Image");Lucid.Core.Site.Controls.Image.Icon={defaults:{},config:{},constructor:function(e,forceNew,config) {Lucid.Core.Site.Controls.Image.Icon.superclass.constructor.apply(this,arguments);this.config=Object.applyIf(this.getData(),Object.applyIf(Object.save(config),this.defaults));if(this.config.Script) {this.on("click",function(ev) {var script=this.getData().Script;eval(script);}.createDelegate(this));}}};(function(){Object.extending("Lucid.Core.Site.Controls.Image.Icon","Lucid.Lib.Dom.Element");})();Object.createNamespace("Lucid.Core.Site.Controls.Image");Lucid.Core.Site.Controls.Image.Slider={Slides:[],Pointers:[],Selected:0,IsLocked:false,Previous:null,Next:null,constructor:function(e,forceNew,config) {Lucid.Core.Site.Controls.Image.Slider.superclass.constructor.apply(this,arguments);this.config=Object.applyIf(this.getData(),Object.applyIf(Object.save(config),{Duration:0.5,Autorun:{Enabled:false,Duration:5},Lock:true,Delay:50}));this.Selected=0;this.IsLocked=false;this.Slides=[];var slides=this.select("div.Slide").elements;for(var i=0,l=slides.length;i<l;i++) {this.Slides.push(LLDom(slides[i]));} this.Pointers=[];var pointers=this.parent().select("div.Pointers .Pointer").elements;for(var i=0,l=pointers.length;i<l;i++) {this.Pointers.push(LLDom(pointers[i]));} this.Previous=null;if(LLDom.exists(this.Id+".previous")) {this.Previous=LLDom(this.Id+".previous");} else {var elements=this.select("a.Previous").elements;if(elements.length>0) {this.Previous=LLDom(elements[0]);}} this.Next=null;if(LLDom.exists(this.Id+".next")) {this.Next=LLDom(this.Id+".next");} else {var elements=this.select("a.Next").elements;if(elements.length>0) {this.Next=LLDom(elements[0]);}} for(var i=0,l=this.Pointers.length;i<l;i++) {this.Pointers[i].on("click",function(ev) {var e=ev.getTarget();while(e.tagName!=="A") {e=e.parentNode;} for(var ii=0,ll=this.Pointers.length;ii<ll;ii++) {if(e==this.Pointers[ii].dom) {break;}} this.moveTo(ii);}.createDelegate(this));} if(this.Slides.length>1&&this.Previous) {this.Previous.on("click",this.previous.createDelegate(this));} if(this.Slides.length>1&&this.Next) {this.Next.on("click",this.next.createDelegate(this));} if(this.Slides.length>1) {if(typeof this.config.Autorun!="undefined"&&typeof this.config.Autorun.Enabled!="undefined"&&this.config.Autorun.Enabled) {this.on("mouseover",this.stop.createDelegate(this));this.on("mouseout",this.start.createDelegate(this));this.start();}} else {if(this.Previous) {this.Previous.hide();} if(this.Next) {this.Next.hide();}}},next:function() {if(this.config.Lock) {if(this.IsLocked) {return;} this.IsLocked=true;} var selected=this.Selected;if(this.Selected+1>this.Slides.length-1) {this.Selected=0;} else {this.Selected=this.Selected+1;} this.Slides[this.Selected].slideIn("r",{duration:this.config.Duration});this.Slides[selected].slideOut("l",{duration:this.config.Duration});if(this.Pointers.length>0) {this.Pointers.forEach(function(e){e.removeClass("Selected");}.createDelegate(this));this.Pointers[this.Selected].addClass("Selected");} if(this.config.Lock) {LLSys.Task.delay(function() {this.IsLocked=false;}.createDelegate(this),this.config.Duration*1000+this.config.Delay);}},previous:function() {if(this.config.Lock) {if(this.IsLocked) {return;} this.IsLocked=true;} var selected=this.Selected;if(this.Selected-1<0) {this.Selected=this.Slides.length-1;} else {this.Selected=this.Selected-1;} this.Slides[this.Selected].slideIn("l",{duration:this.config.Duration});this.Slides[selected].slideOut("r",{duration:this.config.Duration});if(this.Pointers.length>0) {this.Pointers.forEach(function(e){e.removeClass("Selected");}.createDelegate(this));this.Pointers[this.Selected].addClass("Selected");} if(this.config.Lock) {LLSys.Task.delay(function() {this.IsLocked=false;}.createDelegate(this),this.config.Duration*1000+this.config.Delay);}},moveTo:function(i) {if(this.config.Lock) {if(this.IsLocked) {return;} this.IsLocked=true;} var selected=this.Selected;this.Selected=i;if(selected==this.Selected) {return;} else if(selected<this.Selected) {this.Slides[this.Selected].slideIn("r",{duration:this.config.Duration});this.Slides[selected].slideOut("l",{duration:this.config.Duration});} else if(selected>this.Selected) {this.Slides[this.Selected].slideIn("l",{duration:this.config.Duration});this.Slides[selected].slideOut("r",{duration:this.config.Duration});} if(this.Pointers.length>0) {this.Pointers.forEach(function(e){e.removeClass("Selected");}.createDelegate(this));this.Pointers[this.Selected].addClass("Selected");} if(this.config.Lock) {LLSys.Task.delay(function() {this.IsLocked=false;}.createDelegate(this),this.config.Duration*1000+this.config.Delay);}},start:function() {if(this.runner) {this.runner.stopAll();} else {this.runner=new LLSys.Task.TaskRunner();this.task={run:function() {if(this.task.taskRunCount>1) {this.next()}}.createDelegate(this),interval:(this.config.Autorun.Duration*1000)};} this.runner.start(this.task);},stop:function() {this.runner.stopAll();}};(function(){Object.extending("Lucid.Core.Site.Controls.Image.Slider","Lucid.Lib.Dom.Element");})();(function() {Lucid.Version="2.0.0";LLSys=Lucid.Lib.System;LB=Lucid.Boot;LC=Lucid.Core;LLWeb=Lucid.Lib.Web;LLSys.setErrorReporting(2);Site=LB.load();})();function setCookie(cname,cvalue,exdays){var d=new Date();d.setTime(d.getTime()+(exdays*24*60*60*1000));var expires="expires="+d.toGMTString();document.cookie=cname+"="+cvalue+"; "+expires;} function getCookie(cname){var name=cname+"=";var ca=document.cookie.split(';');for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)==' ')c=c.substring(1);if(c.indexOf(name)!=-1)return c.substring(name.length,c.length);} return"";}